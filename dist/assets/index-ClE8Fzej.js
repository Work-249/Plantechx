var YP=Object.defineProperty;var XP=(e,t,r)=>t in e?YP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ym=(e,t,r)=>XP(e,typeof t!="symbol"?t+"":t,r);function ZP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Hn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jj={exports:{}},nu={},ew={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),JP=Symbol.for("react.portal"),eA=Symbol.for("react.fragment"),tA=Symbol.for("react.strict_mode"),rA=Symbol.for("react.profiler"),nA=Symbol.for("react.provider"),sA=Symbol.for("react.context"),aA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),lA=Symbol.for("react.memo"),oA=Symbol.for("react.lazy"),B0=Symbol.iterator;function cA(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var tw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,nw={};function Mi(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||tw}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sw(){}sw.prototype=Mi.prototype;function pp(e,t,r){this.props=e,this.context=t,this.refs=nw,this.updater=r||tw}var gp=pp.prototype=new sw;gp.constructor=pp;rw(gp,Mi.prototype);gp.isPureReactComponent=!0;var U0=Array.isArray,aw=Object.prototype.hasOwnProperty,xp={current:null},iw={key:!0,ref:!0,__self:!0,__source:!0};function lw(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)aw.call(t,n)&&!iw.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:mo,type:e,key:i,ref:l,props:a,_owner:xp.current}}function dA(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yp(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function uA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var q0=/\/+/g;function vm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uA(""+e.key):t.toString(36)}function Cc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case mo:case JP:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+vm(l,0):n,U0(a)?(r="",e!=null&&(r=e.replace(q0,"$&/")+"/"),Cc(a,t,r,"",function(d){return d})):a!=null&&(yp(a)&&(a=dA(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(q0,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",U0(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+vm(i,o);l+=Cc(i,t,r,c,a)}else if(c=cA(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+vm(i,o++),l+=Cc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function qo(e,t,r){if(e==null)return e;var n=[],a=0;return Cc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function mA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Pc={transition:null},fA={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Pc,ReactCurrentOwner:xp};function ow(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:qo,forEach:function(e,t,r){qo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!yp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Mi;je.Fragment=eA;je.Profiler=rA;je.PureComponent=pp;je.StrictMode=tA;je.Suspense=iA;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;je.act=ow;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rw({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=xp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)aw.call(t,c)&&!iw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:mo,type:e.type,key:a,ref:i,props:n,_owner:l}};je.createContext=function(e){return e={$$typeof:sA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nA,_context:e},e.Consumer=e};je.createElement=lw;je.createFactory=function(e){var t=lw.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:aA,render:e}};je.isValidElement=yp;je.lazy=function(e){return{$$typeof:oA,_payload:{_status:-1,_result:e},_init:mA}};je.memo=function(e,t){return{$$typeof:lA,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Pc.transition;Pc.transition={};try{e()}finally{Pc.transition=t}};je.unstable_act=ow;je.useCallback=function(e,t){return Xt.current.useCallback(e,t)};je.useContext=function(e){return Xt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};je.useEffect=function(e,t){return Xt.current.useEffect(e,t)};je.useId=function(){return Xt.current.useId()};je.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return Xt.current.useMemo(e,t)};je.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};je.useRef=function(e){return Xt.current.useRef(e)};je.useState=function(e){return Xt.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return Xt.current.useTransition()};je.version="18.3.1";ew.exports=je;var h=ew.exports;const ni=Hn(h),hA=ZP({__proto__:null,default:ni},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=h,gA=Symbol.for("react.element"),xA=Symbol.for("react.fragment"),yA=Object.prototype.hasOwnProperty,vA=pA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bA={key:!0,ref:!0,__self:!0,__source:!0};function cw(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)yA.call(t,n)&&!bA.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:gA,type:e,key:i,ref:l,props:a,_owner:vA.current}}nu.Fragment=xA;nu.jsx=cw;nu.jsxs=cw;Jj.exports=nu;var s=Jj.exports,dw={exports:{}},Nr={},uw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,E){var I=L.length;L.push(E);e:for(;0<I;){var X=I-1>>>1,W=L[X];if(0<a(W,E))L[X]=E,L[I]=W,I=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var E=L[0],I=L.pop();if(I!==E){L[0]=I;e:for(var X=0,W=L.length,le=W>>>1;X<le;){var ye=2*(X+1)-1,me=L[ye],pe=ye+1,we=L[pe];if(0>a(me,I))pe<W&&0>a(we,me)?(L[X]=we,L[pe]=I,X=pe):(L[X]=me,L[ye]=I,X=ye);else if(pe<W&&0>a(we,I))L[X]=we,L[pe]=I,X=pe;else break e}}return E}function a(L,E){var I=L.sortIndex-E.sortIndex;return I!==0?I:L.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,f=3,p=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var E=r(d);E!==null;){if(E.callback===null)n(d);else if(E.startTime<=L)n(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(d)}}function S(L){if(x=!1,b(L),!g)if(r(c)!==null)g=!0,C(j);else{var E=r(d);E!==null&&R(S,E.startTime-L)}}function j(L,E){g=!1,x&&(x=!1,v(P),P=-1),p=!0;var I=f;try{for(b(E),m=r(c);m!==null&&(!(m.expirationTime>E)||L&&!T());){var X=m.callback;if(typeof X=="function"){m.callback=null,f=m.priorityLevel;var W=X(m.expirationTime<=E);E=e.unstable_now(),typeof W=="function"?m.callback=W:m===r(c)&&n(c),b(E)}else n(c);m=r(c)}if(m!==null)var le=!0;else{var ye=r(d);ye!==null&&R(S,ye.startTime-E),le=!1}return le}finally{m=null,f=I,p=!1}}var N=!1,k=null,P=-1,A=5,O=-1;function T(){return!(e.unstable_now()-O<A)}function D(){if(k!==null){var L=e.unstable_now();O=L;var E=!0;try{E=k(!0,L)}finally{E?F():(N=!1,k=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=D,F=function(){$.postMessage(null)}}else F=function(){w(D,0)};function C(L){k=L,N||(N=!0,F())}function R(L,E){P=w(function(){L(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,C(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var I=f;f=E;try{return L()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,E){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=f;f=L;try{return E()}finally{f=I}},e.unstable_scheduleCallback=function(L,E,I){var X=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=I+W,L={id:u++,callback:E,priorityLevel:L,startTime:I,expirationTime:W,sortIndex:-1},I>X?(L.sortIndex=I,t(d,L),r(c)===null&&L===r(d)&&(x?(v(P),P=-1):x=!0,R(S,I-X))):(L.sortIndex=W,t(c,L),g||p||(g=!0,C(j))),L},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(L){var E=f;return function(){var I=f;f=E;try{return L.apply(this,arguments)}finally{f=I}}}})(mw);uw.exports=mw;var jA=uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA=h,yr=jA;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fw=new Set,Il={};function Oa(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(Il[e]=t,e=0;e<t.length;e++)fw.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,NA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},K0={};function SA(e){return jf.call(K0,e)?!0:jf.call(W0,e)?!1:NA.test(e)?K0[e]=!0:(W0[e]=!0,!1)}function kA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CA(e,t,r,n){if(t===null||typeof t>"u"||kA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zt(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function bp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vp,bp);_t[t]=new Zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vp,bp);_t[t]=new Zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vp,bp);_t[t]=new Zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Zt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function jp(e,t,r,n){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CA(t,r,a,n)&&(r=null),n||a===null?SA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gn=wA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),gw=Symbol.for("react.offscreen"),Q0=Symbol.iterator;function Zi(e){return e===null||typeof e!="object"?null:(e=Q0&&e[Q0]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,bm;function gl(e){if(bm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bm=t&&t[1]||""}return`
`+bm+e}var jm=!1;function wm(e,t){if(!e||jm)return"";jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{jm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gl(e):""}function PA(e){switch(e.tag){case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return e=wm(e.type,!1),e;case 11:return e=wm(e.type.render,!1),e;case 1:return e=wm(e.type,!0),e;default:return""}}function kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case Wa:return"Portal";case wf:return"Profiler";case wp:return"StrictMode";case Nf:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pw:return(e.displayName||"Context")+".Consumer";case hw:return(e._context.displayName||"Context")+".Provider";case Np:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sp:return t=e.displayName||null,t!==null?t:kf(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return kf(e(t))}catch{}}return null}function AA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TA(e){var t=xw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=TA(e))}function yw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cf(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function V0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Cs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vw(e,t){t=t.checked,t!=null&&jp(e,"checked",t,!1)}function Pf(e,t){vw(e,t);var r=Cs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,r):t.hasOwnProperty("defaultValue")&&Af(e,t.type,Cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Af(e,t,r){(t!=="number"||Qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xl=Array.isArray;function si(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Cs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Tf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(xl(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cs(r)}}function bw(e,t){var r=Cs(t.value),n=Cs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,ww=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $l(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EA=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){EA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function Nw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function Sw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Nw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var OA=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(e,t){if(t){if(OA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function _f(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=null;function kp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,ai=null,ii=null;function X0(e){if(e=po(e)){if(typeof Df!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=ou(t),Df(e.stateNode,e.type,t))}}function kw(e){ai?ii?ii.push(e):ii=[e]:ai=e}function Cw(){if(ai){var e=ai,t=ii;if(ii=ai=null,X0(e),t)for(e=0;e<t.length;e++)X0(t[e])}}function Pw(e,t){return e(t)}function Aw(){}var Nm=!1;function Tw(e,t,r){if(Nm)return e(t,r);Nm=!0;try{return Pw(e,t,r)}finally{Nm=!1,(ai!==null||ii!==null)&&(Aw(),Cw())}}function Ll(e,t){var r=e.stateNode;if(r===null)return null;var n=ou(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var If=!1;if(Fn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){If=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{If=!1}function _A(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Sl=!1,Vc=null,Hc=!1,$f=null,MA={onError:function(e){Sl=!0,Vc=e}};function DA(e,t,r,n,a,i,l,o,c){Sl=!1,Vc=null,_A.apply(MA,arguments)}function IA(e,t,r,n,a,i,l,o,c){if(DA.apply(this,arguments),Sl){if(Sl){var d=Vc;Sl=!1,Vc=null}else throw Error(Y(198));Hc||(Hc=!0,$f=d)}}function _a(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ew(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(_a(e)!==e)throw Error(Y(188))}function $A(e){var t=e.alternate;if(!t){if(t=_a(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Z0(a),e;if(i===n)return Z0(a),t;i=i.sibling}throw Error(Y(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function Ow(e){return e=$A(e),e!==null?_w(e):null}function _w(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_w(e);if(t!==null)return t;e=e.sibling}return null}var Mw=yr.unstable_scheduleCallback,J0=yr.unstable_cancelCallback,LA=yr.unstable_shouldYield,RA=yr.unstable_requestPaint,it=yr.unstable_now,FA=yr.unstable_getCurrentPriorityLevel,Cp=yr.unstable_ImmediatePriority,Dw=yr.unstable_UserBlockingPriority,Gc=yr.unstable_NormalPriority,zA=yr.unstable_LowPriority,Iw=yr.unstable_IdlePriority,su=null,fn=null;function BA(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(su,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:WA,UA=Math.log,qA=Math.LN2;function WA(e){return e>>>=0,e===0?32:31-(UA(e)/qA|0)|0}var Vo=64,Ho=4194304;function yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=yl(o):(i&=l,i!==0&&(n=yl(i)))}else l=r&~a,l!==0?n=yl(l):i!==0&&(n=yl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rn(t),a=1<<r,n|=e[r],t&=~a;return n}function KA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rn(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=KA(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $w(){var e=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),e}function Sm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=r}function VA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-rn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Pp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Oe=0;function Lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rw,Ap,Fw,zw,Bw,Rf=!1,Go=[],gs=null,xs=null,ys=null,Rl=new Map,Fl=new Map,cs=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(t.pointerId)}}function el(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=po(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function GA(e,t,r,n,a){switch(t){case"focusin":return gs=el(gs,e,t,r,n,a),!0;case"dragenter":return xs=el(xs,e,t,r,n,a),!0;case"mouseover":return ys=el(ys,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Rl.set(i,el(Rl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Fl.set(i,el(Fl.get(i)||null,e,t,r,n,a)),!0}return!1}function Uw(e){var t=na(e.target);if(t!==null){var r=_a(t);if(r!==null){if(t=r.tag,t===13){if(t=Ew(r),t!==null){e.blockedOn=t,Bw(e.priority,function(){Fw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ff(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mf=n,r.target.dispatchEvent(n),Mf=null}else return t=po(r),t!==null&&Ap(t),e.blockedOn=r,!1;t.shift()}return!0}function ty(e,t,r){Ac(e)&&r.delete(t)}function YA(){Rf=!1,gs!==null&&Ac(gs)&&(gs=null),xs!==null&&Ac(xs)&&(xs=null),ys!==null&&Ac(ys)&&(ys=null),Rl.forEach(ty),Fl.forEach(ty)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rf||(Rf=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,YA)))}function zl(e){function t(a){return tl(a,e)}if(0<Go.length){tl(Go[0],e);for(var r=1;r<Go.length;r++){var n=Go[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gs!==null&&tl(gs,e),xs!==null&&tl(xs,e),ys!==null&&tl(ys,e),Rl.forEach(t),Fl.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)Uw(r),r.blockedOn===null&&cs.shift()}var li=Gn.ReactCurrentBatchConfig,Xc=!0;function XA(e,t,r,n){var a=Oe,i=li.transition;li.transition=null;try{Oe=1,Tp(e,t,r,n)}finally{Oe=a,li.transition=i}}function ZA(e,t,r,n){var a=Oe,i=li.transition;li.transition=null;try{Oe=4,Tp(e,t,r,n)}finally{Oe=a,li.transition=i}}function Tp(e,t,r,n){if(Xc){var a=Ff(e,t,r,n);if(a===null)Dm(e,t,n,Zc,r),ey(e,n);else if(GA(a,e,t,r,n))n.stopPropagation();else if(ey(e,n),t&4&&-1<HA.indexOf(e)){for(;a!==null;){var i=po(a);if(i!==null&&Rw(i),i=Ff(e,t,r,n),i===null&&Dm(e,t,n,Zc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Dm(e,t,n,null,r)}}var Zc=null;function Ff(e,t,r,n){if(Zc=null,e=kp(n),e=na(e),e!==null)if(t=_a(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ew(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zc=e,null}function qw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case Cp:return 1;case Dw:return 4;case Gc:case zA:return 16;case Iw:return 536870912;default:return 16}default:return 16}}var hs=null,Ep=null,Tc=null;function Ww(){if(Tc)return Tc;var e,t=Ep,r=t.length,n,a="value"in hs?hs.value:hs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return Tc=a.slice(e,1<n?1-n:void 0)}function Ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function ry(){return!1}function Sr(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:ry,this.isPropagationStopped=ry,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Sr(Di),ho=et({},Di,{view:0,detail:0}),JA=Sr(ho),km,Cm,rl,au=et({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(km=e.screenX-rl.screenX,Cm=e.screenY-rl.screenY):Cm=km=0,rl=e),km)},movementY:function(e){return"movementY"in e?e.movementY:Cm}}),ny=Sr(au),eT=et({},au,{dataTransfer:0}),tT=Sr(eT),rT=et({},ho,{relatedTarget:0}),Pm=Sr(rT),nT=et({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=Sr(nT),aT=et({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iT=Sr(aT),lT=et({},Di,{data:0}),sy=Sr(lT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dT[e])?!!t[e]:!1}function _p(){return uT}var mT=et({},ho,{key:function(e){if(e.key){var t=oT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(e){return e.type==="keypress"?Ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fT=Sr(mT),hT=et({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=Sr(hT),pT=et({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),gT=Sr(pT),xT=et({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),yT=Sr(xT),vT=et({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bT=Sr(vT),jT=[9,13,27,32],Mp=Fn&&"CompositionEvent"in window,kl=null;Fn&&"documentMode"in document&&(kl=document.documentMode);var wT=Fn&&"TextEvent"in window&&!kl,Kw=Fn&&(!Mp||kl&&8<kl&&11>=kl),iy=" ",ly=!1;function Qw(e,t){switch(e){case"keyup":return jT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function NT(e,t){switch(e){case"compositionend":return Vw(t);case"keypress":return t.which!==32?null:(ly=!0,iy);case"textInput":return e=t.data,e===iy&&ly?null:e;default:return null}}function ST(e,t){if(Qa)return e==="compositionend"||!Mp&&Qw(e,t)?(e=Ww(),Tc=Ep=hs=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kw&&t.locale!=="ko"?null:t.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kT[e.type]:t==="textarea"}function Hw(e,t,r,n){kw(n),t=Jc(t,"onChange"),0<t.length&&(r=new Op("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cl=null,Bl=null;function CT(e){a1(e,0)}function iu(e){var t=Ga(e);if(yw(t))return e}function PT(e,t){if(e==="change")return t}var Gw=!1;if(Fn){var Am;if(Fn){var Tm="oninput"in document;if(!Tm){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Tm=typeof cy.oninput=="function"}Am=Tm}else Am=!1;Gw=Am&&(!document.documentMode||9<document.documentMode)}function dy(){Cl&&(Cl.detachEvent("onpropertychange",Yw),Bl=Cl=null)}function Yw(e){if(e.propertyName==="value"&&iu(Bl)){var t=[];Hw(t,Bl,e,kp(e)),Tw(CT,t)}}function AT(e,t,r){e==="focusin"?(dy(),Cl=t,Bl=r,Cl.attachEvent("onpropertychange",Yw)):e==="focusout"&&dy()}function TT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(Bl)}function ET(e,t){if(e==="click")return iu(t)}function OT(e,t){if(e==="input"||e==="change")return iu(t)}function _T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:_T;function Ul(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jf.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function my(e,t){var r=uy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uy(r)}}function Xw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zw(){for(var e=window,t=Qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qc(e.document)}return t}function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MT(e){var t=Zw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xw(r.ownerDocument.documentElement,r)){if(n!==null&&Dp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=my(r,i);var l=my(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DT=Fn&&"documentMode"in document&&11>=document.documentMode,Va=null,zf=null,Pl=null,Bf=!1;function fy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bf||Va==null||Va!==Qc(n)||(n=Va,"selectionStart"in n&&Dp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pl&&Ul(Pl,n)||(Pl=n,n=Jc(zf,"onSelect"),0<n.length&&(t=new Op("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Va)))}function Xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ha={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Em={},Jw={};Fn&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function lu(e){if(Em[e])return Em[e];if(!Ha[e])return e;var t=Ha[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jw)return Em[e]=t[r];return e}var e1=lu("animationend"),t1=lu("animationiteration"),r1=lu("animationstart"),n1=lu("transitionend"),s1=new Map,hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){s1.set(e,t),Oa(t,[e])}for(var Om=0;Om<hy.length;Om++){var _m=hy[Om],IT=_m.toLowerCase(),$T=_m[0].toUpperCase()+_m.slice(1);zs(IT,"on"+$T)}zs(e1,"onAnimationEnd");zs(t1,"onAnimationIteration");zs(r1,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(n1,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function py(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,IA(n,t,void 0,e),e.currentTarget=null}function a1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;py(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;py(a,o,d),i=c}}}if(Hc)throw e=$f,Hc=!1,$f=null,e}function Ue(e,t){var r=t[Qf];r===void 0&&(r=t[Qf]=new Set);var n=e+"__bubble";r.has(n)||(i1(t,e,2,!1),r.add(n))}function Mm(e,t,r){var n=0;t&&(n|=4),i1(r,e,n,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function ql(e){if(!e[Zo]){e[Zo]=!0,fw.forEach(function(r){r!=="selectionchange"&&(LT.has(r)||Mm(r,!1,e),Mm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,Mm("selectionchange",!1,t))}}function i1(e,t,r,n){switch(qw(t)){case 1:var a=XA;break;case 4:a=ZA;break;default:a=Tp}r=a.bind(null,t,r,e),a=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Dm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=na(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Tw(function(){var d=i,u=kp(r),m=[];e:{var f=s1.get(e);if(f!==void 0){var p=Op,g=e;switch(e){case"keypress":if(Ec(r)===0)break e;case"keydown":case"keyup":p=fT;break;case"focusin":g="focus",p=Pm;break;case"focusout":g="blur",p=Pm;break;case"beforeblur":case"afterblur":p=Pm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gT;break;case e1:case t1:case r1:p=sT;break;case n1:p=yT;break;case"scroll":p=JA;break;case"wheel":p=bT;break;case"copy":case"cut":case"paste":p=iT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ay}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var y=d,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Ll(y,v),S!=null&&x.push(Wl(y,S,b)))),w)break;y=y.return}0<x.length&&(f=new p(f,g,null,r,u),m.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Mf&&(g=r.relatedTarget||r.fromElement)&&(na(g)||g[zn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?na(g):null,g!==null&&(w=_a(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=ny,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=ay,S="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:Ga(p),b=g==null?f:Ga(g),f=new x(S,y+"leave",p,r,u),f.target=w,f.relatedTarget=b,S=null,na(u)===d&&(x=new x(v,y+"enter",g,r,u),x.target=b,x.relatedTarget=w,S=x),w=S,p&&g)t:{for(x=p,v=g,y=0,b=x;b;b=Ba(b))y++;for(b=0,S=v;S;S=Ba(S))b++;for(;0<y-b;)x=Ba(x),y--;for(;0<b-y;)v=Ba(v),b--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ba(x),v=Ba(v)}x=null}else x=null;p!==null&&gy(m,f,p,x,!1),g!==null&&w!==null&&gy(m,w,g,x,!0)}}e:{if(f=d?Ga(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=PT;else if(oy(f))if(Gw)j=OT;else{j=TT;var N=AT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=ET);if(j&&(j=j(e,d))){Hw(m,j,r,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(N=d?Ga(d):window,e){case"focusin":(oy(N)||N.contentEditable==="true")&&(Va=N,zf=d,Pl=null);break;case"focusout":Pl=zf=Va=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,fy(m,r,u);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":fy(m,r,u)}var k;if(Mp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Qa?Qw(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Kw&&r.locale!=="ko"&&(Qa||P!=="onCompositionStart"?P==="onCompositionEnd"&&Qa&&(k=Ww()):(hs=u,Ep="value"in hs?hs.value:hs.textContent,Qa=!0)),N=Jc(d,P),0<N.length&&(P=new sy(P,e,null,r,u),m.push({event:P,listeners:N}),k?P.data=k:(k=Vw(r),k!==null&&(P.data=k)))),(k=wT?NT(e,r):ST(e,r))&&(d=Jc(d,"onBeforeInput"),0<d.length&&(u=new sy("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=k))}a1(m,t)})}function Wl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ll(e,r),i!=null&&n.unshift(Wl(e,i,a)),i=Ll(e,t),i!=null&&n.push(Wl(e,i,a))),e=e.return}return n}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gy(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Ll(r,i),c!=null&&l.unshift(Wl(r,c,o))):a||(c=Ll(r,i),c!=null&&l.push(Wl(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var RT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(FT,"")}function Jo(e,t,r){if(t=xy(t),xy(e)!==t&&r)throw Error(Y(425))}function ed(){}var Uf=null,qf=null;function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(UT)}:Kf;function UT(e){setTimeout(function(){throw e})}function Im(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),zl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);zl(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ii,Kl="__reactProps$"+Ii,zn="__reactContainer$"+Ii,Qf="__reactEvents$"+Ii,qT="__reactListeners$"+Ii,WT="__reactHandles$"+Ii;function na(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vy(e);e!==null;){if(r=e[dn])return r;e=vy(e)}return t}e=r,r=e.parentNode}return null}function po(e){return e=e[dn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function ou(e){return e[Kl]||null}var Vf=[],Ya=-1;function Bs(e){return{current:e}}function We(e){0>Ya||(e.current=Vf[Ya],Vf[Ya]=null,Ya--)}function Le(e,t){Ya++,Vf[Ya]=e.current,e.current=t}var Ps={},Ut=Bs(Ps),nr=Bs(!1),ya=Ps;function pi(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function sr(e){return e=e.childContextTypes,e!=null}function td(){We(nr),We(Ut)}function by(e,t,r){if(Ut.current!==Ps)throw Error(Y(168));Le(Ut,t),Le(nr,r)}function l1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,AA(e)||"Unknown",a));return et({},r,n)}function rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,ya=Ut.current,Le(Ut,e),Le(nr,nr.current),!0}function jy(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=l1(e,t,ya),n.__reactInternalMemoizedMergedChildContext=e,We(nr),We(Ut),Le(Ut,e)):We(nr),Le(nr,r)}var Pn=null,cu=!1,$m=!1;function o1(e){Pn===null?Pn=[e]:Pn.push(e)}function KT(e){cu=!0,o1(e)}function Us(){if(!$m&&Pn!==null){$m=!0;var e=0,t=Oe;try{var r=Pn;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pn=null,cu=!1}catch(a){throw Pn!==null&&(Pn=Pn.slice(e+1)),Mw(Cp,Us),a}finally{Oe=t,$m=!1}}return null}var Xa=[],Za=0,nd=null,sd=0,Or=[],_r=0,va=null,En=1,On="";function Zs(e,t){Xa[Za++]=sd,Xa[Za++]=nd,nd=e,sd=t}function c1(e,t,r){Or[_r++]=En,Or[_r++]=On,Or[_r++]=va,va=e;var n=En;e=On;var a=32-rn(n)-1;n&=~(1<<a),r+=1;var i=32-rn(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,En=1<<32-rn(t)+a|r<<a|n,On=i+e}else En=1<<i|r<<a|n,On=e}function Ip(e){e.return!==null&&(Zs(e,1),c1(e,1,0))}function $p(e){for(;e===nd;)nd=Xa[--Za],Xa[Za]=null,sd=Xa[--Za],Xa[Za]=null;for(;e===va;)va=Or[--_r],Or[_r]=null,On=Or[--_r],Or[_r]=null,En=Or[--_r],Or[_r]=null}var pr=null,hr=null,Ve=!1,Zr=null;function d1(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pr=e,hr=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=va!==null?{id:En,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pr=e,hr=null,!0):!1;default:return!1}}function Hf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(Ve){var t=hr;if(t){var r=t;if(!wy(e,t)){if(Hf(e))throw Error(Y(418));t=vs(r.nextSibling);var n=pr;t&&wy(e,t)?d1(n,r):(e.flags=e.flags&-4097|2,Ve=!1,pr=e)}}else{if(Hf(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ve=!1,pr=e}}}function Ny(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pr=e}function ec(e){if(e!==pr)return!1;if(!Ve)return Ny(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wf(e.type,e.memoizedProps)),t&&(t=hr)){if(Hf(e))throw u1(),Error(Y(418));for(;t;)d1(e,t),t=vs(t.nextSibling)}if(Ny(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hr=vs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=pr?vs(e.stateNode.nextSibling):null;return!0}function u1(){for(var e=hr;e;)e=vs(e.nextSibling)}function gi(){hr=pr=null,Ve=!1}function Lp(e){Zr===null?Zr=[e]:Zr.push(e)}var QT=Gn.ReactCurrentBatchConfig;function nl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function tc(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sy(e){var t=e._init;return t(e._payload)}function m1(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Ns(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,S){return y===null||y.tag!==6?(y=qm(b,v.mode,S),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,S){var j=b.type;return j===Ka?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===as&&Sy(j)===y.type)?(S=a(y,b.props),S.ref=nl(v,y,b),S.return=v,S):(S=Lc(b.type,b.key,b.props,null,v.mode,S),S.ref=nl(v,y,b),S.return=v,S)}function d(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wm(b,v.mode,S),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,j){return y===null||y.tag!==7?(y=ma(b,v.mode,S,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function m(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qm(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:return b=Lc(y.type,y.key,y.props,null,v.mode,b),b.ref=nl(v,null,y),b.return=v,b;case Wa:return y=Wm(y,v.mode,b),y.return=v,y;case as:var S=y._init;return m(v,S(y._payload),b)}if(xl(y)||Zi(y))return y=ma(y,v.mode,b,null),y.return=v,y;tc(v,y)}return null}function f(v,y,b,S){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wo:return b.key===j?c(v,y,b,S):null;case Wa:return b.key===j?d(v,y,b,S):null;case as:return j=b._init,f(v,y,j(b._payload),S)}if(xl(b)||Zi(b))return j!==null?null:u(v,y,b,S,null);tc(v,b)}return null}function p(v,y,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,o(y,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,j);case Wa:return v=v.get(S.key===null?b:S.key)||null,d(y,v,S,j);case as:var N=S._init;return p(v,y,b,N(S._payload),j)}if(xl(S)||Zi(S))return v=v.get(b)||null,u(y,v,S,j,null);tc(y,S)}return null}function g(v,y,b,S){for(var j=null,N=null,k=y,P=y=0,A=null;k!==null&&P<b.length;P++){k.index>P?(A=k,k=null):A=k.sibling;var O=f(v,k,b[P],S);if(O===null){k===null&&(k=A);break}e&&k&&O.alternate===null&&t(v,k),y=i(O,y,P),N===null?j=O:N.sibling=O,N=O,k=A}if(P===b.length)return r(v,k),Ve&&Zs(v,P),j;if(k===null){for(;P<b.length;P++)k=m(v,b[P],S),k!==null&&(y=i(k,y,P),N===null?j=k:N.sibling=k,N=k);return Ve&&Zs(v,P),j}for(k=n(v,k);P<b.length;P++)A=p(k,v,P,b[P],S),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?P:A.key),y=i(A,y,P),N===null?j=A:N.sibling=A,N=A);return e&&k.forEach(function(T){return t(v,T)}),Ve&&Zs(v,P),j}function x(v,y,b,S){var j=Zi(b);if(typeof j!="function")throw Error(Y(150));if(b=j.call(b),b==null)throw Error(Y(151));for(var N=j=null,k=y,P=y=0,A=null,O=b.next();k!==null&&!O.done;P++,O=b.next()){k.index>P?(A=k,k=null):A=k.sibling;var T=f(v,k,O.value,S);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(v,k),y=i(T,y,P),N===null?j=T:N.sibling=T,N=T,k=A}if(O.done)return r(v,k),Ve&&Zs(v,P),j;if(k===null){for(;!O.done;P++,O=b.next())O=m(v,O.value,S),O!==null&&(y=i(O,y,P),N===null?j=O:N.sibling=O,N=O);return Ve&&Zs(v,P),j}for(k=n(v,k);!O.done;P++,O=b.next())O=p(k,v,P,O.value,S),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?P:O.key),y=i(O,y,P),N===null?j=O:N.sibling=O,N=O);return e&&k.forEach(function(D){return t(v,D)}),Ve&&Zs(v,P),j}function w(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wo:e:{for(var j=b.key,N=y;N!==null;){if(N.key===j){if(j=b.type,j===Ka){if(N.tag===7){r(v,N.sibling),y=a(N,b.props.children),y.return=v,v=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===as&&Sy(j)===N.type){r(v,N.sibling),y=a(N,b.props),y.ref=nl(v,N,b),y.return=v,v=y;break e}r(v,N);break}else t(v,N);N=N.sibling}b.type===Ka?(y=ma(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=Lc(b.type,b.key,b.props,null,v.mode,S),S.ref=nl(v,y,b),S.return=v,v=S)}return l(v);case Wa:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Wm(b,v.mode,S),y.return=v,v=y}return l(v);case as:return N=b._init,w(v,y,N(b._payload),S)}if(xl(b))return g(v,y,b,S);if(Zi(b))return x(v,y,b,S);tc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=qm(b,v.mode,S),y.return=v,v=y),l(v)):r(v,y)}return w}var xi=m1(!0),f1=m1(!1),ad=Bs(null),id=null,Ja=null,Rp=null;function Fp(){Rp=Ja=id=null}function zp(e){var t=ad.current;We(ad),e._currentValue=t}function Yf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function oi(e,t){id=e,Rp=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(id===null)throw Error(Y(308));Ja=e,id.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var sa=null;function Bp(e){sa===null?sa=[e]:sa.push(e)}function h1(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Bp(t)):(r.next=a.next,a.next=r),t.interleaved=r,Bn(e,n)}function Bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Bn(e,r)}return a=n.interleaved,a===null?(t.next=t,Bp(n)):(t.next=a.next,a.next=t),n.interleaved=t,Bn(e,r)}function Oc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pp(e,r)}}function ky(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ld(e,t,r,n){var a=e.updateQueue;is=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,x=o;switch(f=t,p=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){m=g.call(p,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,m,f):g,f==null)break e;m=et({},m,f);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ja|=l,e.lanes=l,e.memoizedState=m}}function Cy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var go={},hn=Bs(go),Ql=Bs(go),Vl=Bs(go);function aa(e){if(e===go)throw Error(Y(174));return e}function qp(e,t){switch(Le(Vl,t),Le(Ql,e),Le(hn,go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ef(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ef(t,e)}We(hn),Le(hn,t)}function yi(){We(hn),We(Ql),We(Vl)}function g1(e){aa(Vl.current);var t=aa(hn.current),r=Ef(t,e.type);t!==r&&(Le(Ql,e),Le(hn,r))}function Wp(e){Ql.current===e&&(We(hn),We(Ql))}var Ze=Bs(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lm=[];function Kp(){for(var e=0;e<Lm.length;e++)Lm[e]._workInProgressVersionPrimary=null;Lm.length=0}var _c=Gn.ReactCurrentDispatcher,Rm=Gn.ReactCurrentBatchConfig,ba=0,Je=null,mt=null,jt=null,cd=!1,Al=!1,Hl=0,VT=0;function It(){throw Error(Y(321))}function Qp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Vp(e,t,r,n,a,i){if(ba=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_c.current=e===null||e.memoizedState===null?XT:ZT,e=r(n,a),Al){i=0;do{if(Al=!1,Hl=0,25<=i)throw Error(Y(301));i+=1,jt=mt=null,t.updateQueue=null,_c.current=JT,e=r(n,a)}while(Al)}if(_c.current=dd,t=mt!==null&&mt.next!==null,ba=0,jt=mt=Je=null,cd=!1,t)throw Error(Y(300));return e}function Hp(){var e=Hl!==0;return Hl=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Je.memoizedState=jt=e:jt=jt.next=e,jt}function Br(){if(mt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=jt===null?Je.memoizedState:jt.next;if(t!==null)jt=t,mt=e;else{if(e===null)throw Error(Y(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},jt===null?Je.memoizedState=jt=e:jt=jt.next=e}return jt}function Gl(e,t){return typeof t=="function"?t(e):t}function Fm(e){var t=Br(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=mt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ba&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,Je.lanes|=u,ja|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,sn(n,t.memoizedState)||(tr=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Je.lanes|=i,ja|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zm(e){var t=Br(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);sn(i,t.memoizedState)||(tr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function x1(){}function y1(e,t){var r=Je,n=Br(),a=t(),i=!sn(n.memoizedState,a);if(i&&(n.memoizedState=a,tr=!0),n=n.queue,Gp(j1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Yl(9,b1.bind(null,r,n,a,t),void 0,null),Nt===null)throw Error(Y(349));ba&30||v1(r,t,a)}return a}function v1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function b1(e,t,r,n){t.value=r,t.getSnapshot=n,w1(t)&&N1(e)}function j1(e,t,r){return r(function(){w1(t)&&N1(e)})}function w1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch{return!0}}function N1(e){var t=Bn(e,1);t!==null&&nn(t,e,1,-1)}function Py(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=YT.bind(null,Je,e),[t.memoizedState,e]}function Yl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S1(){return Br().memoizedState}function Mc(e,t,r,n){var a=on();Je.flags|=e,a.memoizedState=Yl(1|t,r,void 0,n===void 0?null:n)}function du(e,t,r,n){var a=Br();n=n===void 0?null:n;var i=void 0;if(mt!==null){var l=mt.memoizedState;if(i=l.destroy,n!==null&&Qp(n,l.deps)){a.memoizedState=Yl(t,r,i,n);return}}Je.flags|=e,a.memoizedState=Yl(1|t,r,i,n)}function Ay(e,t){return Mc(8390656,8,e,t)}function Gp(e,t){return du(2048,8,e,t)}function k1(e,t){return du(4,2,e,t)}function C1(e,t){return du(4,4,e,t)}function P1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A1(e,t,r){return r=r!=null?r.concat([e]):null,du(4,4,P1.bind(null,t,e),r)}function Yp(){}function T1(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function E1(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function O1(e,t,r){return ba&21?(sn(r,t)||(r=$w(),Je.lanes|=r,ja|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=r)}function HT(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Rm.transition;Rm.transition={};try{e(!1),t()}finally{Oe=r,Rm.transition=n}}function _1(){return Br().memoizedState}function GT(e,t,r){var n=ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},M1(e))D1(t,r);else if(r=h1(e,t,r,n),r!==null){var a=Ht();nn(r,e,n,a),I1(r,t,n)}}function YT(e,t,r){var n=ws(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(M1(e))D1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,sn(o,l)){var c=t.interleaved;c===null?(a.next=a,Bp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=h1(e,t,a,n),r!==null&&(a=Ht(),nn(r,e,n,a),I1(r,t,n))}}function M1(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function D1(e,t){Al=cd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function I1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pp(e,r)}}var dd={readContext:zr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},XT={readContext:zr,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Ay,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mc(4194308,4,P1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mc(4,2,e,t)},useMemo:function(e,t){var r=on();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=on();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GT.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Py,useDebugValue:Yp,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Py(!1),t=e[0];return e=HT.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,a=on();if(Ve){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),Nt===null)throw Error(Y(349));ba&30||v1(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ay(j1.bind(null,n,i,e),[e]),n.flags|=2048,Yl(9,b1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=on(),t=Nt.identifierPrefix;if(Ve){var r=On,n=En;r=(n&~(1<<32-rn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=VT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZT={readContext:zr,useCallback:T1,useContext:zr,useEffect:Gp,useImperativeHandle:A1,useInsertionEffect:k1,useLayoutEffect:C1,useMemo:E1,useReducer:Fm,useRef:S1,useState:function(){return Fm(Gl)},useDebugValue:Yp,useDeferredValue:function(e){var t=Br();return O1(t,mt.memoizedState,e)},useTransition:function(){var e=Fm(Gl)[0],t=Br().memoizedState;return[e,t]},useMutableSource:x1,useSyncExternalStore:y1,useId:_1,unstable_isNewReconciler:!1},JT={readContext:zr,useCallback:T1,useContext:zr,useEffect:Gp,useImperativeHandle:A1,useInsertionEffect:k1,useLayoutEffect:C1,useMemo:E1,useReducer:zm,useRef:S1,useState:function(){return zm(Gl)},useDebugValue:Yp,useDeferredValue:function(e){var t=Br();return mt===null?t.memoizedState=e:O1(t,mt.memoizedState,e)},useTransition:function(){var e=zm(Gl)[0],t=Br().memoizedState;return[e,t]},useMutableSource:x1,useSyncExternalStore:y1,useId:_1,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var uu={isMounted:function(e){return(e=e._reactInternals)?_a(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),a=ws(e),i=Dn(n,a);i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,a),t!==null&&(nn(t,e,a,n),Oc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),a=ws(e),i=Dn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,a),t!==null&&(nn(t,e,a,n),Oc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=ws(e),a=Dn(r,n);a.tag=2,t!=null&&(a.callback=t),t=bs(e,a,n),t!==null&&(nn(t,e,n,r),Oc(t,e,n))}};function Ty(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ul(r,n)||!Ul(a,i):!0}function $1(e,t,r){var n=!1,a=Ps,i=t.contextType;return typeof i=="object"&&i!==null?i=zr(i):(a=sr(t)?ya:Ut.current,n=t.contextTypes,i=(n=n!=null)?pi(e,a):Ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ey(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function Zf(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Up(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=zr(i):(i=sr(t)?ya:Ut.current,a.context=pi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xf(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&uu.enqueueReplaceState(a,a.state,null),ld(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var r="",n=t;do r+=PA(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Bm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eE=typeof WeakMap=="function"?WeakMap:Map;function L1(e,t,r){r=Dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){md||(md=!0,ch=n),Jf(e,t)},r}function R1(e,t,r){r=Dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Jf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jf(e,t),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Oy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=hE.bind(null,e,t,r),t.then(e,e))}function _y(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function My(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dn(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var tE=Gn.ReactCurrentOwner,tr=!1;function Kt(e,t,r,n){t.child=e===null?f1(t,null,r,n):xi(t,e.child,r,n)}function Dy(e,t,r,n,a){r=r.render;var i=t.ref;return oi(t,a),n=Vp(e,t,r,n,i,a),r=Hp(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Un(e,t,a)):(Ve&&r&&Ip(t),t.flags|=1,Kt(e,t,n,a),t.child)}function Iy(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!sg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,F1(e,t,i,n,a)):(e=Lc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ul,r(l,n)&&e.ref===t.ref)return Un(e,t,a)}return t.flags|=1,e=Ns(i,n),e.ref=t.ref,e.return=t,t.child=e}function F1(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ul(i,n)&&e.ref===t.ref)if(tr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Un(e,t,a)}return eh(e,t,r,n,a)}function z1(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ti,dr),dr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(ti,dr),dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Le(ti,dr),dr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Le(ti,dr),dr|=n;return Kt(e,t,a,r),t.child}function B1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,r,n,a){var i=sr(r)?ya:Ut.current;return i=pi(t,i),oi(t,a),r=Vp(e,t,r,n,i,a),n=Hp(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Un(e,t,a)):(Ve&&n&&Ip(t),t.flags|=1,Kt(e,t,r,a),t.child)}function $y(e,t,r,n,a){if(sr(r)){var i=!0;rd(t)}else i=!1;if(oi(t,a),t.stateNode===null)Dc(e,t),$1(t,r,n),Zf(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=zr(d):(d=sr(r)?ya:Ut.current,d=pi(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Ey(t,l,n,d),is=!1;var f=t.memoizedState;l.state=f,ld(t,n,l,a),c=t.memoizedState,o!==n||f!==c||nr.current||is?(typeof u=="function"&&(Xf(t,r,u,n),c=t.memoizedState),(o=is||Ty(t,r,o,n,f,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,p1(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Gr(t.type,o),l.props=d,m=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=sr(r)?ya:Ut.current,c=pi(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Ey(t,l,n,c),is=!1,f=t.memoizedState,l.state=f,ld(t,n,l,a);var g=t.memoizedState;o!==m||f!==g||nr.current||is?(typeof p=="function"&&(Xf(t,r,p,n),g=t.memoizedState),(d=is||Ty(t,r,d,n,f,g,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return th(e,t,r,n,i,a)}function th(e,t,r,n,a,i){B1(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&jy(t,r,!1),Un(e,t,i);n=t.stateNode,tE.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):Kt(e,t,o,i),t.memoizedState=n.state,a&&jy(t,r,!0),t.child}function U1(e){var t=e.stateNode;t.pendingContext?by(e,t.pendingContext,t.pendingContext!==t.context):t.context&&by(e,t.context,!1),qp(e,t.containerInfo)}function Ly(e,t,r,n,a){return gi(),Lp(a),t.flags|=256,Kt(e,t,r,n),t.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function q1(e,t,r){var n=t.pendingProps,a=Ze.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le(Ze,a&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=hu(l,n,0,null),e=ma(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nh(r),t.memoizedState=rh,e):Xp(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return rE(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ns(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ns(o,i):(i=ma(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?nh(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=rh,n}return i=e.child,e=i.sibling,n=Ns(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xp(e,t){return t=hu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rc(e,t,r,n){return n!==null&&Lp(n),xi(t,e.child,null,r),e=Xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rE(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Bm(Error(Y(422))),rc(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=hu({mode:"visible",children:n.children},a,0,null),i=ma(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xi(t,e.child,null,l),t.child.memoizedState=nh(l),t.memoizedState=rh,i);if(!(t.mode&1))return rc(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Y(419)),n=Bm(i,n,void 0),rc(e,t,l,n)}if(o=(l&e.childLanes)!==0,tr||o){if(n=Nt,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Bn(e,a),nn(n,e,a,-1))}return ng(),n=Bm(Error(Y(421))),rc(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pE.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,hr=vs(a.nextSibling),pr=t,Ve=!0,Zr=null,e!==null&&(Or[_r++]=En,Or[_r++]=On,Or[_r++]=va,En=e.id,On=e.overflow,va=t),t=Xp(t,n.children),t.flags|=4096,t)}function Ry(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yf(e.return,t,r)}function Um(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function W1(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Kt(e,t,n.children,r),n=Ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,r,t);else if(e.tag===19)Ry(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Ze,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&od(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Um(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&od(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Um(t,!0,r,null,i);break;case"together":Um(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ja|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Ns(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ns(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nE(e,t,r){switch(t.tag){case 3:U1(t),gi();break;case 5:g1(t);break;case 1:sr(t.type)&&rd(t);break;case 4:qp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Le(ad,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Ze,Ze.current&1),t.flags|=128,null):r&t.child.childLanes?q1(e,t,r):(Le(Ze,Ze.current&1),e=Un(e,t,r),e!==null?e.sibling:null);Le(Ze,Ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return W1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,z1(e,t,r)}return Un(e,t,r)}var K1,sh,Q1,V1;K1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sh=function(){};Q1=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,aa(hn.current);var i=null;switch(r){case"input":a=Cf(e,a),n=Cf(e,n),i=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),i=[];break;case"textarea":a=Tf(e,a),n=Tf(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ed)}Of(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Il.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Il.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ue("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};V1=function(e,t,r,n){r!==n&&(t.flags|=4)};function sl(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sE(e,t,r){var n=t.pendingProps;switch($p(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return sr(t.type)&&td(),$t(t),null;case 3:return n=t.stateNode,yi(),We(nr),We(Ut),Kp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ec(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zr!==null&&(mh(Zr),Zr=null))),sh(e,t),$t(t),null;case 5:Wp(t);var a=aa(Vl.current);if(r=t.type,e!==null&&t.stateNode!=null)Q1(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return $t(t),null}if(e=aa(hn.current),ec(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dn]=t,n[Kl]=i,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)Ue(vl[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":V0(n,i),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",n);break;case"textarea":G0(n,i),Ue("invalid",n)}Of(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jo(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jo(n.textContent,o,e),a=["children",""+o]):Il.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ue("scroll",n)}switch(r){case"input":Ko(n),H0(n,i,!0);break;case"textarea":Ko(n),Y0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ed)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[dn]=t,e[Kl]=n,K1(e,t,!1,!1),t.stateNode=e;e:{switch(l=_f(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),a=n;break;case"iframe":case"object":case"embed":Ue("load",e),a=n;break;case"video":case"audio":for(a=0;a<vl.length;a++)Ue(vl[a],e);a=n;break;case"source":Ue("error",e),a=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),a=n;break;case"details":Ue("toggle",e),a=n;break;case"input":V0(e,n),a=Cf(e,n),Ue("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":G0(e,n),a=Tf(e,n),Ue("invalid",e);break;default:a=n}Of(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Sw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ww(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$l(e,c):typeof c=="number"&&$l(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Il.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ue("scroll",e):c!=null&&jp(e,i,c,l))}switch(r){case"input":Ko(e),H0(e,n,!1);break;case"textarea":Ko(e),Y0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Cs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?si(e,!!n.multiple,i,!1):n.defaultValue!=null&&si(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ed)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)V1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=aa(Vl.current),aa(hn.current),ec(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(i=n.nodeValue!==r)&&(e=pr,e!==null))switch(e.tag){case 3:Jo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return $t(t),null;case 13:if(We(Ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&hr!==null&&t.mode&1&&!(t.flags&128))u1(),gi(),t.flags|=98560,i=!1;else if(i=ec(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[dn]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else Zr!==null&&(mh(Zr),Zr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?pt===0&&(pt=3):ng())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return yi(),sh(e,t),e===null&&ql(t.stateNode.containerInfo),$t(t),null;case 10:return zp(t.type._context),$t(t),null;case 17:return sr(t.type)&&td(),$t(t),null;case 19:if(We(Ze),i=t.memoizedState,i===null)return $t(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)sl(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=od(e),l!==null){for(t.flags|=128,sl(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Ze,Ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&it()>bi&&(t.flags|=128,n=!0,sl(i,!1),t.lanes=4194304)}else{if(!n)if(e=od(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ve)return $t(t),null}else 2*it()-i.renderingStartTime>bi&&r!==1073741824&&(t.flags|=128,n=!0,sl(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=it(),t.sibling=null,r=Ze.current,Le(Ze,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return rg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function aE(e,t){switch($p(t),t.tag){case 1:return sr(t.type)&&td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),We(nr),We(Ut),Kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wp(t),null;case 13:if(We(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ze),null;case 4:return yi(),null;case 10:return zp(t.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var nc=!1,Rt=!1,iE=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ei(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function ah(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Fy=!1;function lE(e,t){if(Uf=Xc,e=Zw(),Dp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===r&&++d===a&&(o=l),f===i&&++u===n&&(c=l),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:e,selectionRange:r},Xc=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gr(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(S){nt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=Fy,Fy=!1,g}function Tl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ah(t,r,i)}a=a.next}while(a!==n)}}function mu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ih(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function H1(e){var t=e.alternate;t!==null&&(e.alternate=null,H1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Kl],delete t[Qf],delete t[qT],delete t[WT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G1(e){return e.tag===5||e.tag===3||e.tag===4}function zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ed));else if(n!==4&&(e=e.child,e!==null))for(lh(e,t,r),e=e.sibling;e!==null;)lh(e,t,r),e=e.sibling}function oh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oh(e,t,r),e=e.sibling;e!==null;)oh(e,t,r),e=e.sibling}var Pt=null,Yr=!1;function ss(e,t,r){for(r=r.child;r!==null;)Y1(e,t,r),r=r.sibling}function Y1(e,t,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(su,r)}catch{}switch(r.tag){case 5:Rt||ei(r,t);case 6:var n=Pt,a=Yr;Pt=null,ss(e,t,r),Pt=n,Yr=a,Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?Im(e.parentNode,r):e.nodeType===1&&Im(e,r),zl(e)):Im(Pt,r.stateNode));break;case 4:n=Pt,a=Yr,Pt=r.stateNode.containerInfo,Yr=!0,ss(e,t,r),Pt=n,Yr=a;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ah(r,t,l),a=a.next}while(a!==n)}ss(e,t,r);break;case 1:if(!Rt&&(ei(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){nt(r,t,o)}ss(e,t,r);break;case 21:ss(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,ss(e,t,r),Rt=n):ss(e,t,r);break;default:ss(e,t,r)}}function By(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iE),t.forEach(function(n){var a=gE.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,Yr=!1;break e;case 3:Pt=o.stateNode.containerInfo,Yr=!0;break e;case 4:Pt=o.stateNode.containerInfo,Yr=!0;break e}o=o.return}if(Pt===null)throw Error(Y(160));Y1(i,l,a),Pt=null,Yr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){nt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X1(t,e),t=t.sibling}function X1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),ln(e),n&4){try{Tl(3,e,e.return),mu(3,e)}catch(x){nt(e,e.return,x)}try{Tl(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:Hr(t,e),ln(e),n&512&&r!==null&&ei(r,r.return);break;case 5:if(Hr(t,e),ln(e),n&512&&r!==null&&ei(r,r.return),e.flags&32){var a=e.stateNode;try{$l(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&vw(a,i),_f(o,l);var d=_f(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?Sw(a,m):u==="dangerouslySetInnerHTML"?ww(a,m):u==="children"?$l(a,m):jp(a,u,m,d)}switch(o){case"input":Pf(a,i);break;case"textarea":bw(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?si(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?si(a,!!i.multiple,i.defaultValue,!0):si(a,!!i.multiple,i.multiple?[]:"",!1))}a[Kl]=i}catch(x){nt(e,e.return,x)}}break;case 6:if(Hr(t,e),ln(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){nt(e,e.return,x)}}break;case 3:if(Hr(t,e),ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:Hr(t,e),ln(e);break;case 13:Hr(t,e),ln(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(eg=it())),n&4&&By(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(d=Rt)||u,Hr(t,e),Rt=d):Hr(t,e),ln(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ne=e,u=e.child;u!==null;){for(m=ne=u;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return);break;case 1:ei(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:ei(f,f.return);break;case 22:if(f.memoizedState!==null){qy(m);continue}}p!==null?(p.return=f,ne=p):qy(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Nw("display",l))}catch(x){nt(e,e.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){nt(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Hr(t,e),ln(e),n&4&&By(e);break;case 21:break;default:Hr(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G1(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($l(a,""),n.flags&=-33);var i=zy(e);oh(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=zy(e);lh(e,o,l);break;default:throw Error(Y(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oE(e,t,r){ne=e,Z1(e)}function Z1(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var a=ne,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||nc;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Rt;o=nc;var d=Rt;if(nc=l,(Rt=c)&&!d)for(ne=a;ne!==null;)l=ne,c=l.child,l.tag===22&&l.memoizedState!==null?Wy(a):c!==null?(c.return=l,ne=c):Wy(a);for(;i!==null;)ne=i,Z1(i),i=i.sibling;ne=a,nc=o,Rt=d}Uy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ne=i):Uy(e)}}function Uy(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||mu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cy(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cy(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&zl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Rt||t.flags&512&&ih(t)}catch(f){nt(t,t.return,f)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function qy(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Wy(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mu(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var i=t.return;try{ih(t)}catch(c){nt(t,i,c)}break;case 5:var l=t.return;try{ih(t)}catch(c){nt(t,l,c)}}}catch(c){nt(t,t.return,c)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var cE=Math.ceil,ud=Gn.ReactCurrentDispatcher,Zp=Gn.ReactCurrentOwner,Lr=Gn.ReactCurrentBatchConfig,Ce=0,Nt=null,ot=null,Ot=0,dr=0,ti=Bs(0),pt=0,Xl=null,ja=0,fu=0,Jp=0,El=null,er=null,eg=0,bi=1/0,Cn=null,md=!1,ch=null,js=null,sc=!1,ps=null,fd=0,Ol=0,dh=null,Ic=-1,$c=0;function Ht(){return Ce&6?it():Ic!==-1?Ic:Ic=it()}function ws(e){return e.mode&1?Ce&2&&Ot!==0?Ot&-Ot:QT.transition!==null?($c===0&&($c=$w()),$c):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:qw(e.type)),e):1}function nn(e,t,r,n){if(50<Ol)throw Ol=0,dh=null,Error(Y(185));fo(e,r,n),(!(Ce&2)||e!==Nt)&&(e===Nt&&(!(Ce&2)&&(fu|=r),pt===4&&ds(e,Ot)),ar(e,n),r===1&&Ce===0&&!(t.mode&1)&&(bi=it()+500,cu&&Us()))}function ar(e,t){var r=e.callbackNode;QA(e,t);var n=Yc(e,e===Nt?Ot:0);if(n===0)r!==null&&J0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&J0(r),t===1)e.tag===0?KT(Ky.bind(null,e)):o1(Ky.bind(null,e)),BT(function(){!(Ce&6)&&Us()}),r=null;else{switch(Lw(n)){case 1:r=Cp;break;case 4:r=Dw;break;case 16:r=Gc;break;case 536870912:r=Iw;break;default:r=Gc}r=iN(r,J1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J1(e,t){if(Ic=-1,$c=0,Ce&6)throw Error(Y(327));var r=e.callbackNode;if(ci()&&e.callbackNode!==r)return null;var n=Yc(e,e===Nt?Ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hd(e,n);else{t=n;var a=Ce;Ce|=2;var i=tN();(Nt!==e||Ot!==t)&&(Cn=null,bi=it()+500,ua(e,t));do try{mE();break}catch(o){eN(e,o)}while(!0);Fp(),ud.current=i,Ce=a,ot!==null?t=0:(Nt=null,Ot=0,t=pt)}if(t!==0){if(t===2&&(a=Lf(e),a!==0&&(n=a,t=uh(e,a))),t===1)throw r=Xl,ua(e,0),ds(e,n),ar(e,it()),r;if(t===6)ds(e,n);else{if(a=e.current.alternate,!(n&30)&&!dE(a)&&(t=hd(e,n),t===2&&(i=Lf(e),i!==0&&(n=i,t=uh(e,i))),t===1))throw r=Xl,ua(e,0),ds(e,n),ar(e,it()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Js(e,er,Cn);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=eg+500-it(),10<t)){if(Yc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kf(Js.bind(null,e,er,Cn),t);break}Js(e,er,Cn);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-rn(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cE(n/1960))-n,10<n){e.timeoutHandle=Kf(Js.bind(null,e,er,Cn),n);break}Js(e,er,Cn);break;case 5:Js(e,er,Cn);break;default:throw Error(Y(329))}}}return ar(e,it()),e.callbackNode===r?J1.bind(null,e):null}function uh(e,t){var r=El;return e.current.memoizedState.isDehydrated&&(ua(e,t).flags|=256),e=hd(e,t),e!==2&&(t=er,er=r,t!==null&&mh(t)),e}function mh(e){er===null?er=e:er.push.apply(er,e)}function dE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~Jp,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rn(t),n=1<<r;e[r]=-1,t&=~n}}function Ky(e){if(Ce&6)throw Error(Y(327));ci();var t=Yc(e,0);if(!(t&1))return ar(e,it()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var n=Lf(e);n!==0&&(t=n,r=uh(e,n))}if(r===1)throw r=Xl,ua(e,0),ds(e,t),ar(e,it()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,er,Cn),ar(e,it()),null}function tg(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(bi=it()+500,cu&&Us())}}function wa(e){ps!==null&&ps.tag===0&&!(Ce&6)&&ci();var t=Ce;Ce|=1;var r=Lr.transition,n=Oe;try{if(Lr.transition=null,Oe=1,e)return e()}finally{Oe=n,Lr.transition=r,Ce=t,!(Ce&6)&&Us()}}function rg(){dr=ti.current,We(ti)}function ua(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zT(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch($p(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&td();break;case 3:yi(),We(nr),We(Ut),Kp();break;case 5:Wp(n);break;case 4:yi();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:zp(n.type._context);break;case 22:case 23:rg()}r=r.return}if(Nt=e,ot=e=Ns(e.current,null),Ot=dr=t,pt=0,Xl=null,Jp=fu=ja=0,er=El=null,sa!==null){for(t=0;t<sa.length;t++)if(r=sa[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}sa=null}return e}function eN(e,t){do{var r=ot;try{if(Fp(),_c.current=dd,cd){for(var n=Je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}cd=!1}if(ba=0,jt=mt=Je=null,Al=!1,Hl=0,Zp.current=null,r===null||r.return===null){pt=1,Xl=t,ot=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ot,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_y(l);if(p!==null){p.flags&=-257,My(p,l,o,i,t),p.mode&1&&Oy(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Oy(i,d,t),ng();break e}c=Error(Y(426))}}else if(Ve&&o.mode&1){var w=_y(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),My(w,l,o,i,t),Lp(vi(c,o));break e}}i=c=vi(c,o),pt!==4&&(pt=2),El===null?El=[i]:El.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=L1(i,c,t);ky(i,v);break e;case 1:o=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(js===null||!js.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=R1(i,o,t);ky(i,S);break e}}i=i.return}while(i!==null)}nN(r)}catch(j){t=j,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function tN(){var e=ud.current;return ud.current=dd,e===null?dd:e}function ng(){(pt===0||pt===3||pt===2)&&(pt=4),Nt===null||!(ja&268435455)&&!(fu&268435455)||ds(Nt,Ot)}function hd(e,t){var r=Ce;Ce|=2;var n=tN();(Nt!==e||Ot!==t)&&(Cn=null,ua(e,t));do try{uE();break}catch(a){eN(e,a)}while(!0);if(Fp(),Ce=r,ud.current=n,ot!==null)throw Error(Y(261));return Nt=null,Ot=0,pt}function uE(){for(;ot!==null;)rN(ot)}function mE(){for(;ot!==null&&!LA();)rN(ot)}function rN(e){var t=aN(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?nN(e):ot=t,Zp.current=null}function nN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aE(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ot=null;return}}else if(r=sE(r,t,dr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);pt===0&&(pt=5)}function Js(e,t,r){var n=Oe,a=Lr.transition;try{Lr.transition=null,Oe=1,fE(e,t,r,n)}finally{Lr.transition=a,Oe=n}return null}function fE(e,t,r,n){do ci();while(ps!==null);if(Ce&6)throw Error(Y(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(VA(e,i),e===Nt&&(ot=Nt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sc||(sc=!0,iN(Gc,function(){return ci(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Lr.transition,Lr.transition=null;var l=Oe;Oe=1;var o=Ce;Ce|=4,Zp.current=null,lE(e,r),X1(r,e),MT(qf),Xc=!!Uf,qf=Uf=null,e.current=r,oE(r),RA(),Ce=o,Oe=l,Lr.transition=i}else e.current=r;if(sc&&(sc=!1,ps=e,fd=a),i=e.pendingLanes,i===0&&(js=null),BA(r.stateNode),ar(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(md)throw md=!1,e=ch,ch=null,e;return fd&1&&e.tag!==0&&ci(),i=e.pendingLanes,i&1?e===dh?Ol++:(Ol=0,dh=e):Ol=0,Us(),null}function ci(){if(ps!==null){var e=Lw(fd),t=Lr.transition,r=Oe;try{if(Lr.transition=null,Oe=16>e?16:e,ps===null)var n=!1;else{if(e=ps,ps=null,fd=0,Ce&6)throw Error(Y(331));var a=Ce;for(Ce|=4,ne=e.current;ne!==null;){var i=ne,l=i.child;if(ne.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Tl(8,u,i)}var m=u.child;if(m!==null)m.return=u,ne=m;else for(;ne!==null;){u=ne;var f=u.sibling,p=u.return;if(H1(u),u===d){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ne=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ne=l;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ne=v;break e}ne=i.return}}var y=e.current;for(ne=y;ne!==null;){l=ne;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,ne=b;else e:for(l=y;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:mu(9,o)}}catch(j){nt(o,o.return,j)}if(o===l){ne=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ne=S;break e}ne=o.return}}if(Ce=a,Us(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(su,e)}catch{}n=!0}return n}finally{Oe=r,Lr.transition=t}}return!1}function Qy(e,t,r){t=vi(r,t),t=L1(e,t,1),e=bs(e,t,1),t=Ht(),e!==null&&(fo(e,1,t),ar(e,t))}function nt(e,t,r){if(e.tag===3)Qy(e,e,r);else for(;t!==null;){if(t.tag===3){Qy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){e=vi(r,e),e=R1(t,e,1),t=bs(t,e,1),e=Ht(),t!==null&&(fo(t,1,e),ar(t,e));break}}t=t.return}}function hE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Ot&r)===r&&(pt===4||pt===3&&(Ot&130023424)===Ot&&500>it()-eg?ua(e,0):Jp|=r),ar(e,t)}function sN(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var r=Ht();e=Bn(e,t),e!==null&&(fo(e,t,r),ar(e,r))}function pE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sN(e,r)}function gE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),sN(e,r)}var aN;aN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tr=!1,nE(e,t,r);tr=!!(e.flags&131072)}else tr=!1,Ve&&t.flags&1048576&&c1(t,sd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dc(e,t),e=t.pendingProps;var a=pi(t,Ut.current);oi(t,r),a=Vp(null,t,n,e,a,r);var i=Hp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(i=!0,rd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Up(t),a.updater=uu,t.stateNode=a,a._reactInternals=t,Zf(t,n,e,r),t=th(null,t,n,!0,i,r)):(t.tag=0,Ve&&i&&Ip(t),Kt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=yE(n),e=Gr(n,e),a){case 0:t=eh(null,t,n,e,r);break e;case 1:t=$y(null,t,n,e,r);break e;case 11:t=Dy(null,t,n,e,r);break e;case 14:t=Iy(null,t,n,Gr(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),eh(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),$y(e,t,n,a,r);case 3:e:{if(U1(t),e===null)throw Error(Y(387));n=t.pendingProps,i=t.memoizedState,a=i.element,p1(e,t),ld(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=vi(Error(Y(423)),t),t=Ly(e,t,n,r,a);break e}else if(n!==a){a=vi(Error(Y(424)),t),t=Ly(e,t,n,r,a);break e}else for(hr=vs(t.stateNode.containerInfo.firstChild),pr=t,Ve=!0,Zr=null,r=f1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gi(),n===a){t=Un(e,t,r);break e}Kt(e,t,n,r)}t=t.child}return t;case 5:return g1(t),e===null&&Gf(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Wf(n,a)?l=null:i!==null&&Wf(n,i)&&(t.flags|=32),B1(e,t),Kt(e,t,l,r),t.child;case 6:return e===null&&Gf(t),null;case 13:return q1(e,t,r);case 4:return qp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xi(t,null,n,r):Kt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Dy(e,t,n,a,r);case 7:return Kt(e,t,t.pendingProps,r),t.child;case 8:return Kt(e,t,t.pendingProps.children,r),t.child;case 12:return Kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Le(ad,n._currentValue),n._currentValue=l,i!==null)if(sn(i.value,l)){if(i.children===a.children&&!nr.current){t=Un(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Dn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Yf(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Y(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Yf(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Kt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,oi(t,r),a=zr(a),n=n(a),t.flags|=1,Kt(e,t,n,r),t.child;case 14:return n=t.type,a=Gr(n,t.pendingProps),a=Gr(n.type,a),Iy(e,t,n,a,r);case 15:return F1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Dc(e,t),t.tag=1,sr(n)?(e=!0,rd(t)):e=!1,oi(t,r),$1(t,n,a),Zf(t,n,a,r),th(null,t,n,!0,e,r);case 19:return W1(e,t,r);case 22:return z1(e,t,r)}throw Error(Y(156,t.tag))};function iN(e,t){return Mw(e,t)}function xE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new xE(e,t,r,n)}function sg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yE(e){if(typeof e=="function")return sg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Np)return 11;if(e===Sp)return 14}return 2}function Ns(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")sg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ka:return ma(r.children,a,i,t);case wp:l=8,a|=8;break;case wf:return e=Ir(12,r,t,a|2),e.elementType=wf,e.lanes=i,e;case Nf:return e=Ir(13,r,t,a),e.elementType=Nf,e.lanes=i,e;case Sf:return e=Ir(19,r,t,a),e.elementType=Sf,e.lanes=i,e;case gw:return hu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hw:l=10;break e;case pw:l=9;break e;case Np:l=11;break e;case Sp:l=14;break e;case as:l=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Ir(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ma(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function hu(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=gw,e.lanes=r,e.stateNode={isHidden:!1},e}function qm(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Wm(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vE(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ag(e,t,r,n,a,i,l,o,c){return e=new vE(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ir(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Up(i),e}function bE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lN(e){if(!e)return Ps;e=e._reactInternals;e:{if(_a(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(sr(r))return l1(e,r,t)}return t}function oN(e,t,r,n,a,i,l,o,c){return e=ag(r,n,!0,e,a,i,l,o,c),e.context=lN(null),r=e.current,n=Ht(),a=ws(r),i=Dn(n,a),i.callback=t??null,bs(r,i,a),e.current.lanes=a,fo(e,a,n),ar(e,n),e}function pu(e,t,r,n){var a=t.current,i=Ht(),l=ws(a);return r=lN(r),t.context===null?t.context=r:t.pendingContext=r,t=Dn(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(a,t,l),e!==null&&(nn(e,a,l,i),Oc(e,a,l)),l}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ig(e,t){Vy(e,t),(e=e.alternate)&&Vy(e,t)}function jE(){return null}var cN=typeof reportError=="function"?reportError:function(e){console.error(e)};function lg(e){this._internalRoot=e}gu.prototype.render=lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));pu(e,t,null,null)};gu.prototype.unmount=lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wa(function(){pu(null,e,null,null)}),t[zn]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=zw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&Uw(e)}};function og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hy(){}function wE(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=pd(l);i.call(d)}}var l=oN(t,n,e,0,null,!1,!1,"",Hy);return e._reactRootContainer=l,e[zn]=l.current,ql(e.nodeType===8?e.parentNode:e),wa(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=pd(c);o.call(d)}}var c=ag(e,0,!1,null,null,!1,!1,"",Hy);return e._reactRootContainer=c,e[zn]=c.current,ql(e.nodeType===8?e.parentNode:e),wa(function(){pu(t,c,r,n)}),c}function yu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=pd(l);o.call(c)}}pu(t,l,e,a)}else l=wE(r,t,e,a,n);return pd(l)}Rw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yl(t.pendingLanes);r!==0&&(Pp(t,r|1),ar(t,it()),!(Ce&6)&&(bi=it()+500,Us()))}break;case 13:wa(function(){var n=Bn(e,1);if(n!==null){var a=Ht();nn(n,e,1,a)}}),ig(e,1)}};Ap=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var r=Ht();nn(t,e,134217728,r)}ig(e,134217728)}};Fw=function(e){if(e.tag===13){var t=ws(e),r=Bn(e,t);if(r!==null){var n=Ht();nn(r,e,t,n)}ig(e,t)}};zw=function(){return Oe};Bw=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};Df=function(e,t,r){switch(t){case"input":if(Pf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ou(n);if(!a)throw Error(Y(90));yw(n),Pf(n,a)}}}break;case"textarea":bw(e,r);break;case"select":t=r.value,t!=null&&si(e,!!r.multiple,t,!1)}};Pw=tg;Aw=wa;var NE={usingClientEntryPoint:!1,Events:[po,Ga,ou,kw,Cw,tg]},al={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SE={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ow(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||jE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{su=ac.inject(SE),fn=ac}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;Nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(t))throw Error(Y(200));return bE(e,t,null,r)};Nr.createRoot=function(e,t){if(!og(e))throw Error(Y(299));var r=!1,n="",a=cN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ag(e,1,!1,null,null,r,!1,n,a),e[zn]=t.current,ql(e.nodeType===8?e.parentNode:e),new lg(t)};Nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Ow(t),e=e===null?null:e.stateNode,e};Nr.flushSync=function(e){return wa(e)};Nr.hydrate=function(e,t,r){if(!xu(t))throw Error(Y(200));return yu(null,e,t,!0,r)};Nr.hydrateRoot=function(e,t,r){if(!og(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=cN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=oN(t,null,e,1,r??null,a,!1,i,l),e[zn]=t.current,ql(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new gu(t)};Nr.render=function(e,t,r){if(!xu(t))throw Error(Y(200));return yu(null,e,t,!1,r)};Nr.unmountComponentAtNode=function(e){if(!xu(e))throw Error(Y(40));return e._reactRootContainer?(wa(function(){yu(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};Nr.unstable_batchedUpdates=tg;Nr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xu(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return yu(e,t,r,!1,n)};Nr.version="18.3.1-next-f1338f8080-20240426";function dN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dN)}catch(e){console.error(e)}}dN(),dw.exports=Nr;var cg=dw.exports,uN,Gy=cg;uN=Gy.createRoot,Gy.hydrateRoot;const kE={user:null,token:null,loading:!1,error:null},CE=(e,t)=>{switch(t.type){case"LOGIN_START":return{...e,loading:!0,error:null};case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user)),{...e,user:t.payload.user,token:t.payload.token,loading:!1,error:null};case"LOGIN_ERROR":return localStorage.removeItem("token"),localStorage.removeItem("user"),{...e,user:null,token:null,loading:!1,error:t.payload};case"LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("user"),{...e,user:null,token:null,loading:!1,error:null};case"UPDATE_USER":return localStorage.setItem("user",JSON.stringify(t.payload)),{...e,user:t.payload};case"CLEAR_ERROR":return{...e,error:null};default:return e}},mN=h.createContext(null),PE=({children:e})=>{const[t,r]=h.useReducer(CE,kE);return s.jsx(mN.Provider,{value:{state:t,dispatch:r},children:e})},wn=()=>{const e=h.useContext(mN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};let AE={data:""},TE=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||AE},EE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OE=/\/\*[^]*?\*\/|  +/g,Yy=/\n+/g,us=(e,t)=>{let r="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?us(l,i):i+"{"+us(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=us(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=us.p?us.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Sn={},fN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+fN(e[r]);return t}return e},_E=(e,t,r,n,a)=>{let i=fN(e),l=Sn[i]||(Sn[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Sn[l]){let c=i!==e?e:(d=>{let u,m,f=[{}];for(;u=EE.exec(d.replace(OE,""));)u[4]?f.shift():u[3]?(m=u[3].replace(Yy," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][u[1]]=u[2].replace(Yy," ").trim();return f[0]})(e);Sn[l]=us(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Sn.g?Sn.g:null;return r&&(Sn.g=Sn[l]),((c,d,u,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Sn[l],t,n,o),l},ME=(e,t,r)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":us(o,""):o===!1?"":o}return n+a+(l??"")},"");function vu(e){let t=this||{},r=e.call?e(t.p):e;return _E(r.unshift?r.raw?ME(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,TE(t.target),t.g,t.o,t.k)}let hN,fh,hh;vu.bind({g:1});let qn=vu.bind({k:1});function DE(e,t,r,n){us.p=t,hN=e,fh=r,hh=n}function qs(e,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:fh&&fh()},o),r.o=/ *go\d+/.test(c),o.className=vu.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),hh&&d[0]&&hh(o),hN(d,o)}return a}}var IE=e=>typeof e=="function",gd=(e,t)=>IE(e)?e(t):e,$E=(()=>{let e=0;return()=>(++e).toString()})(),pN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),LE=20,dg="default",gN=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return gN(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},Rc=[],xN={toasts:[],pausedAt:void 0,settings:{toastLimit:LE}},un={},yN=(e,t=dg)=>{un[t]=gN(un[t]||xN,e),Rc.forEach(([r,n])=>{r===t&&n(un[t])})},vN=e=>Object.keys(un).forEach(t=>yN(e,t)),RE=e=>Object.keys(un).find(t=>un[t].toasts.some(r=>r.id===e)),bu=(e=dg)=>t=>{yN(t,e)},FE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zE=(e={},t=dg)=>{let[r,n]=h.useState(un[t]||xN),a=h.useRef(un[t]);h.useEffect(()=>(a.current!==un[t]&&n(un[t]),Rc.push([t,n]),()=>{let l=Rc.findIndex(([o])=>o===t);l>-1&&Rc.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,d;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||FE[l.type],style:{...e.style,...(d=e[l.type])==null?void 0:d.style,...l.style}}});return{...r,toasts:i}},BE=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||$E()}),xo=e=>(t,r)=>{let n=BE(t,e,r);return bu(n.toasterId||RE(n.id))({type:2,toast:n}),n.id},ht=(e,t)=>xo("blank")(e,t);ht.error=xo("error");ht.success=xo("success");ht.loading=xo("loading");ht.custom=xo("custom");ht.dismiss=(e,t)=>{let r={type:3,toastId:e};t?bu(t)(r):vN(r)};ht.dismissAll=e=>ht.dismiss(void 0,e);ht.remove=(e,t)=>{let r={type:4,toastId:e};t?bu(t)(r):vN(r)};ht.removeAll=e=>ht.remove(void 0,e);ht.promise=(e,t,r)=>{let n=ht.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?gd(t.success,a):void 0;return i?ht.success(i,{id:n,...r,...r==null?void 0:r.success}):ht.dismiss(n),a}).catch(a=>{let i=t.error?gd(t.error,a):void 0;i?ht.error(i,{id:n,...r,...r==null?void 0:r.error}):ht.dismiss(n)}),e};var UE=1e3,qE=(e,t="default")=>{let{toasts:r,pausedAt:n}=zE(e,t),a=h.useRef(new Map).current,i=h.useCallback((m,f=UE)=>{if(a.has(m))return;let p=setTimeout(()=>{a.delete(m),l({type:4,toastId:m})},f);a.set(m,p)},[]);h.useEffect(()=>{if(n)return;let m=Date.now(),f=r.map(p=>{if(p.duration===1/0)return;let g=(p.duration||0)+p.pauseDuration-(m-p.createdAt);if(g<0){p.visible&&ht.dismiss(p.id);return}return setTimeout(()=>ht.dismiss(p.id,t),g)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let l=h.useCallback(bu(t),[t]),o=h.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=h.useCallback((m,f)=>{l({type:1,toast:{id:m,height:f}})},[l]),d=h.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),u=h.useCallback((m,f)=>{let{reverseOrder:p=!1,gutter:g=8,defaultPosition:x}=f||{},w=r.filter(b=>(b.position||x)===(m.position||x)&&b.height),v=w.findIndex(b=>b.id===m.id),y=w.filter((b,S)=>S<v&&b.visible).length;return w.filter(b=>b.visible).slice(...p?[y+1]:[0,y]).reduce((b,S)=>b+(S.height||0)+g,0)},[r]);return h.useEffect(()=>{r.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let f=a.get(m.id);f&&(clearTimeout(f),a.delete(m.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},WE=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KE=qn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QE=qn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VE=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HE=qn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GE=qs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${HE} 1s linear infinite;
`,YE=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XE=qn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZE=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JE=qs("div")`
  position: absolute;
`,e6=qs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,t6=qn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r6=qs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${t6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n6=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?h.createElement(r6,null,t):t:r==="blank"?null:h.createElement(e6,null,h.createElement(GE,{...n}),r!=="loading"&&h.createElement(JE,null,r==="error"?h.createElement(VE,{...n}):h.createElement(ZE,{...n})))},s6=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,a6=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,i6="0%{opacity:0;} 100%{opacity:1;}",l6="0%{opacity:1;} 100%{opacity:0;}",o6=qs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,c6=qs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,d6=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=pN()?[i6,l6]:[s6(r),a6(r)];return{animation:t?`${qn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},u6=h.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?d6(e.position||t||"top-center",e.visible):{opacity:0},i=h.createElement(n6,{toast:e}),l=h.createElement(c6,{...e.ariaProps},gd(e.message,e));return h.createElement(o6,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:l}):h.createElement(h.Fragment,null,i,l))});DE(h.createElement);var m6=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=h.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return h.createElement("div",{ref:i,className:t,style:r},a)},f6=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},h6=vu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ic=16,p6=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:d}=qE(r,i);return h.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ic,left:ic,right:ic,bottom:ic,pointerEvents:"none",...l},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||t,f=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),p=f6(m,f);return h.createElement(m6,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?h6:"",style:p},u.type==="custom"?gd(u.message,u):a?a(u):h.createElement(u6,{toast:u,position:m}))}))},ms=ht;const bN=h.createContext(void 0),g6=()=>{const e=h.useContext(bN);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},x6=({children:e})=>{const[t,r]=h.useState(!1),[n,a]=h.useState("Loading..."),i=(o="Loading...")=>{a(o),r(!0)},l=()=>{r(!1),a("Loading...")};return s.jsx(bN.Provider,{value:{isLoading:t,loadingMessage:n,showLoading:i,hideLoading:l},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const r=h.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>h.createElement("svg",{ref:u,...y6,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${v6(e)}`,o].join(" "),...d},[...t.map(([m,f])=>h.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=ee("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ee("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ee("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ee("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kn="http://localhost:5000/api";class U6{getHeaders(t=!0){const r={"Content-Type":"application/json"};if(t){const n=localStorage.getItem("token");n&&(r.Authorization=`Bearer ${n}`)}return r}async request(t,r={}){const n=`${kn}${t}`;try{const a=await fetch(n,{...r,headers:{...this.getHeaders(!0),...r.headers}});if(!a.ok){a.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"));const i=await a.json();if(a.status===403)throw new Error("Access denied. You do not have permission to access this resource.");if(i.errors&&Array.isArray(i.errors)){const l=i.errors.map(o=>o.msg||o.message).join(", ");throw new Error(l||"Validation failed")}throw new Error(i.error||i.message||"Request failed")}return await a.json()}catch(a){throw a instanceof Error?a:new Error("Network error occurred")}}async get(t,r={}){return this.request(t,{...r,method:"GET"})}async getSampleQuestions(t,r=5){const n=`?count=${encodeURIComponent(String(r))}`;return this.get(`/tests/sample-questions/${encodeURIComponent(t)}${n}`)}async post(t,r,n={}){return this.request(t,{...n,method:"POST",body:JSON.stringify(r)})}async put(t,r,n={}){return this.request(t,{...n,method:"PUT",body:JSON.stringify(r)})}async delete(t,r={}){return this.request(t,{...r,method:"DELETE"})}async login(t,r){return this.request("/auth/login",{method:"POST",headers:this.getHeaders(!1),body:JSON.stringify({email:t,password:r})})}async getCurrentUser(){return this.request("/auth/me")}async updateProfile(t){return this.request("/auth/profile",{method:"PUT",body:JSON.stringify(t)})}async changePassword(t,r){return this.request("/auth/change-password",{method:"PUT",body:JSON.stringify({currentPassword:t,newPassword:r})})}async forgotPassword(t){return this.request("/auth/forgot-password",{method:"POST",headers:this.getHeaders(!1),body:JSON.stringify({email:t})})}async resetPassword(t,r){return this.request(`/auth/reset-password/${t}`,{method:"POST",headers:this.getHeaders(!1),body:JSON.stringify({password:r})})}async createCollege(t){return this.request("/admin/colleges",{method:"POST",body:JSON.stringify(t)})}async getColleges(){return this.request("/admin/colleges")}async getAdminStats(){return this.request("/admin/stats")}async toggleCollegeStatus(t){return this.request(`/admin/colleges/${t}/toggle-status`,{method:"PUT"})}async createUser(t){return this.request("/college/users",{method:"POST",body:JSON.stringify(t)})}async getCollegeUsers(t,r,n,a){const i=new URLSearchParams;r&&i.append("collegeId",r),n&&i.append("page",String(n)),a&&i.append("limit",String(a));const l=i.toString();return this.request(l?`/college/users/${t}?${l}`:`/college/users/${t}`)}async getCollegeDashboard(){return this.request("/college/dashboard")}async updateUser(t,r){return this.request(`/college/users/${t}`,{method:"PUT",body:JSON.stringify(r)})}async toggleUserStatus(t){return this.request(`/college/users/${t}/toggle-status`,{method:"PUT"})}async deleteUser(t){return this.request(`/college/users/${t}`,{method:"DELETE"})}async createTest(t){return this.request("/tests",{method:"POST",body:JSON.stringify(t)})}async updateTest(t,r){return this.request(`/tests/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTest(t){return this.request(`/tests/${t}`,{method:"DELETE"})}async getTests(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests${a?`?${a}`:""}`)}async getTest(t){return this.request(`/tests/${t}`)}async assignTestToColleges(t,r){return this.request(`/tests/${t}/assign-college`,{method:"POST",body:JSON.stringify({collegeIds:r})})}async getTestAssignedColleges(t){return this.request(`/tests/${t}/assigned-colleges`)}async getAssignedTests(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests/college/assigned${a?`?${a}`:""}`)}async getAllTestsForCollege(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests/college/all-tests${a?`?${a}`:""}`)}async updateTestAssignmentStatus(t,r){return this.request(`/tests/assignment/${t}/status`,{method:"PUT",body:JSON.stringify({status:r})})}async assignTestToStudents(t,r){return this.request(`/tests/assignment/${t}/assign-students`,{method:"POST",body:JSON.stringify(r)})}async getStudentAssignedTests(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests/student/assigned${a?`?${a}`:""}`)}async getCollegeAssignedTests(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests/college/assigned${a?`?${a}`:""}`)}async startTest(t){return this.request(`/tests/${t}/start`,{method:"POST"})}async submitTest(t,r,n,a,i){return this.request(`/tests/${t}/submit`,{method:"POST",body:JSON.stringify({answers:r,startTime:n.toISOString(),timeSpent:a,violations:i||0})})}async getTestResults(t){return this.request(`/tests/${t}/results`)}async getMasterAdminReports(){return this.request("/reports/master/overview")}async getTestReport(t){return this.request(`/reports/master/test/${t}`)}async getCollegeReports(){return this.request("/reports/college/overview")}async getFacultyReports(){return this.request("/reports/faculty/overview")}async getStudentPerformance(){return this.request("/reports/student/performance")}async getCollegeHierarchy(){return this.request("/college/hierarchy")}async getFilteredStudents(t,r,n){const a=new URLSearchParams;t&&a.append("batch",t),r&&a.append("branch",r),n&&a.append("section",n);const i=a.toString();return this.request(`/college/students/filtered${i?`?${i}`:""}`)}async getHierarchicalReports(t,r,n){const a=new URLSearchParams;t&&a.append("batch",t),r&&a.append("branch",r),n&&a.append("section",n);const i=a.toString();return this.request(`/reports/college/hierarchical${i?`?${i}`:""}`)}async getSettings(){return this.request("/settings")}async getActivitySummary(){return this.request("/admin/metrics/activity-summary")}async uploadPlatformLogo(t){const r=localStorage.getItem("token"),n=await fetch(`${kn}/settings/logo`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to upload logo");return a}async updateThemeSettings(t){return this.request("/settings/theme",{method:"PUT",body:JSON.stringify(t)})}async exportPlatformData(t="30"){return this.request(`/settings/export?timeRange=${encodeURIComponent(t)}`)}async getFacultyHierarchicalReports(t,r){const n=new URLSearchParams;t&&n.append("batch",t),r&&n.append("section",r);const a=n.toString();return this.request(`/reports/faculty/hierarchical${a?`?${a}`:""}`)}async createNotification(t){return this.request("/notifications",{method:"POST",body:JSON.stringify(t)})}async createNotificationWithFile(t){const r=localStorage.getItem("token"),n=await fetch(`${kn}/notifications`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.error||"Request failed");return a}async getMyNotifications(t=1,r=20){return this.request(`/notifications/my-notifications?page=${t}&limit=${r}`)}async markNotificationRead(t){return this.request(`/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsRead(){return this.request("/notifications/mark-all-read",{method:"PUT"})}async getNotificationStats(){return this.request("/notifications/stats")}async getSentNotifications(t=1,r=20){return this.request(`/notifications/sent-notifications?page=${t}&limit=${r}`)}async getNotificationRecipients(t,r=1,n=50,a){const i=new URLSearchParams({page:r.toString(),limit:n.toString()});return a&&i.append("filter",a),this.request(`/notifications/${t}/recipients?${i.toString()}`)}async extractQuestionsFromFile(t){const r=localStorage.getItem("token"),n=new FormData;n.append("file",t);const a=await fetch(`${kn}/tests/extract-file`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n}),i=await a.json();if(!a.ok)throw new Error(i.error||"Request failed");return i}async getDashboardStats(t){try{const r=t?`?days=${encodeURIComponent(String(t))}`:"";return await this.request(`/analytics/dashboard${r}`)}catch{return await this.getAdminStats()}}async getSubjectTopics(t){return this.request(`/subjects/${encodeURIComponent(t)}/topics`)}async createSubjectTopic(t,r){return this.request(`/subjects/${encodeURIComponent(t)}/topics`,{method:"POST",body:JSON.stringify({topic:r})})}async getCollegeDashboardAnalytics(){return this.request("/analytics/college-dashboard")}async getNotificationAnalyticsReport(t,r){const n=new URLSearchParams;t&&n.append("startDate",t),r&&n.append("endDate",r);const a=n.toString();return this.request(`/notifications/analytics/report${a?`?${a}`:""}`)}async getStudentTestReports(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/tests/student/reports${a?`?${a}`:""}`)}async getFacultyStudentReports(t,r,n,a,i,l){const o=new URLSearchParams;t&&o.append("testType",t),r&&o.append("subject",r),n&&o.append("studentName",n),a&&o.append("batch",a),i&&o.append("branch",i),l&&o.append("section",l);const c=o.toString();return this.request(`/tests/faculty/student-reports${c?`?${c}`:""}`)}async getBranches(){return this.request("/college/branches")}async getBatches(){return this.request("/college/batches")}async getSections(){return this.request("/college/sections")}async getStudents(t,r,n,a,i,l){const o=new URLSearchParams;t&&o.append("branch",t),r&&o.append("batch",r),n&&o.append("section",n),a&&o.append("search",a),i&&o.append("page",String(i)),l&&o.append("limit",String(l));const c=o.toString();return this.request(`/college/students${c?`?${c}`:""}`)}async getCollegeTestReport(t){return this.request(`/college/tests/${t}/report`)}async getMasterProfile(){return this.request("/admin/profile")}async updateMasterProfile(t){return this.request("/admin/profile",{method:"PUT",body:JSON.stringify(t)})}async getMasterTestReport(t){return this.request(`/admin/tests/${t}/report`)}async updateCollege(t,r){return this.request(`/admin/colleges/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getFacultyAssignedTests(t,r){const n=new URLSearchParams;t&&n.append("testType",t),r&&n.append("subject",r);const a=n.toString();return this.request(`/faculty/tests/assigned${a?`?${a}`:""}`)}async getFacultyTestReport(t){return this.request(`/faculty/tests/${t}/report`)}async getFacultyTestStudents(t){return this.request(`/faculty/tests/${t}/students`)}async exportFacultyTestResults(t,r="json"){const n=await fetch(`${kn}/faculty/tests/${t}/export?format=${r}`,{headers:this.getHeaders(!0)});if(!n.ok)throw new Error("Failed to export results");return r==="csv"?await n.blob():n.json()}async getFacultyAnalyticsOverview(t="30"){return this.request(`/faculty/analytics/overview?timeRange=${t}`)}async bulkUploadUsers(t,r){const n=localStorage.getItem("token"),a=new FormData;a.append("excel",t),a.append("role",r);const i=await fetch(`${kn}/college/users/bulk-upload`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:a}),l=await i.json();if(!i.ok)throw new Error(l.error||"Bulk upload failed");return l}async downloadSampleTemplate(t){const r=await fetch(`${kn}/college/users/sample-template/${t}`,{headers:this.getHeaders(!0)});if(!r.ok){const l=await r.json().catch(()=>null);throw new Error((l==null?void 0:l.error)||`Failed to download template (status ${r.status})`)}const n=await r.blob(),a=r.headers.get("content-disposition");let i=`${t}_template.xlsx`;if(a){const l=/filename="?([^";]+)"?/.exec(a);l&&l[1]&&(i=l[1])}return{blob:n,filename:i}}async getStudentReports(){return this.request("/tests/student/reports")}async uploadQuestionImage(t){const r=localStorage.getItem("token"),n=new FormData;n.append("image",t);const a=await fetch(`${kn}/tests/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n}),i=await a.json();if(!a.ok)throw new Error(i.error||"Image upload failed");return i}}const Q=new U6,fg=({size:e="md",message:t,className:r=""})=>{const n={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-32 h-32"},a={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return s.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[s.jsxs("div",{className:`relative ${n[e]}`,children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin-slow",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute ${a[e]} bg-blue-500 rounded-full animate-pulse`,style:{top:"0%",left:"50%",transform:"translate(-50%, -50%)"}}),s.jsx("div",{className:`absolute ${a[e]} bg-blue-600 rounded-full animate-pulse`,style:{top:"50%",left:"100%",transform:"translate(-50%, -50%)",animationDelay:"0.2s"}}),s.jsx("div",{className:`absolute ${a[e]} bg-blue-700 rounded-full animate-pulse`,style:{top:"100%",left:"50%",transform:"translate(-50%, -50%)",animationDelay:"0.4s"}}),s.jsx("div",{className:`absolute ${a[e]} bg-blue-800 rounded-full animate-pulse`,style:{top:"50%",left:"0%",transform:"translate(-50%, -50%)",animationDelay:"0.6s"}})]})})}),s.jsx("div",{className:`absolute inset-0 animate-ping opacity-20 ${n[e]} bg-blue-400 rounded-full`}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-bounce",children:s.jsx("div",{className:`${a[e]} bg-blue-500 rounded-full`})})})]}),t&&s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-gray-700 font-medium animate-pulse",children:t})})]})},q6=()=>{const[e,t]=h.useState({email:"",password:""}),[r,n]=h.useState(!1),[a,i]=h.useState(!1),[l,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(!1),[f,p]=h.useState(""),[g,x]=h.useState([]),{state:w,dispatch:v}=wn();h.useEffect(()=>{v({type:"CLEAR_ERROR"});const j=Array.from({length:15},(N,k)=>({id:k,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5}));x(j)},[v]);const y=j=>{t({...e,[j.target.name]:j.target.value})},b=async j=>{var N,k;j.preventDefault(),v({type:"LOGIN_START"});try{const P=await Q.login(e.email,e.password);P!=null&&P.user?(ms.success(`You have successfully logged in as ${P.user.name||"User"}`),v({type:"LOGIN_SUCCESS",payload:P})):(ms.error(" Account not found. Please sign up first."),v({type:"LOGIN_ERROR",payload:"Account not found"}))}catch(P){const A=((k=(N=P==null?void 0:P.response)==null?void 0:N.data)==null?void 0:k.message)||P.message||"Login failed";A.toLowerCase().includes("password")?ms.error(" Incorrect password. Please try again."):A.toLowerCase().includes("email")?ms.error(" Invalid email address."):ms.error(` ${A}`),v({type:"LOGIN_ERROR",payload:A})}},S=async j=>{j.preventDefault(),m(!0),p("");try{await Q.forgotPassword(c),p("Password reset email sent! Check your inbox."),d("")}catch(N){p(N instanceof Error?N.message:"Failed to send reset email")}finally{m(!1)}};return w.loading?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center",children:s.jsx(fg,{size:"lg",message:"Signing you in..."})}):l?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[g.map(j=>s.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full opacity-20 animate-float",style:{left:`${j.x}%`,top:`${j.y}%`,animationDelay:`${j.delay}s`}},j.id)),s.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300",children:s.jsx(As,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset Password"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email to receive a password reset link"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"forgot-email",className:"sr-only",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"forgot-email",type:"email",autoComplete:"email",value:c,onChange:j=>d(j.target.value),required:!0,className:"relative block w-full px-4 py-3 pl-12 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Email address"}),s.jsx(ji,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400"})]})]}),f&&s.jsx("div",{className:`text-sm p-3 rounded-lg ${f.includes("sent")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:f}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Back to Login"}),s.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center font-medium transition-all transform hover:scale-105",children:u?s.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Send Reset Link"})]})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[g.map(j=>s.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full opacity-20 animate-pulse",style:{left:`${j.x}%`,top:`${j.y}%`,animationDelay:`${j.delay}s`,animationDuration:"3s"}},j.id)),s.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95 transform transition-all hover:shadow-3xl",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mx-auto h-40 w-40 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300 relative overflow-hidden bg-white",children:[s.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"h-full w-full object-contain p-2"}),s.jsx(R6,{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-400 animate-bounce"})]}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"PlantechX"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 font-medium",children:"Welcome back! Sign in to continue"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:y,className:"block w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all group-hover:border-blue-300",placeholder:"Enter your email"}),s.jsx(ji,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400 group-hover:text-blue-500 transition-colors"})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:y,className:"block w-full px-4 py-3 pl-12 pr-12 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all group-hover:border-blue-300",placeholder:"Enter your password"}),s.jsx(ug,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400 group-hover:text-blue-500 transition-colors"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:scale-110 transition-transform",onClick:()=>n(!r),children:r?s.jsx(jN,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(Et,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:a,onChange:j=>i(j.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 cursor-pointer",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})]}),w.error&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w.error}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:w.loading,className:"group relative w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-lg hover:shadow-xl",children:w.loading?s.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(j6,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]})]}),s.jsx("p",{className:"text-center text-xs text-gray-500",children:"Secure authentication powered by modern encryption"})]})]})},W6=({onNavigate:e})=>{const[t,r]=h.useState([]),[n,a]=h.useState(0),[i,l]=h.useState(!1);h.useEffect(()=>{o();const m=setInterval(o,3e4);return()=>clearInterval(m)},[]);const o=async()=>{try{const m=await Q.getMyNotifications(1,5);r(m.notifications),a(m.unreadCount)}catch(m){console.error("Failed to load notifications:",m)}},c=async m=>{try{await Q.markNotificationRead(m),r(f=>f.map(p=>p.id===m?{...p,isRead:!0}:p)),a(f=>Math.max(0,f-1))}catch(f){console.error("Failed to mark notification as read:",f)}},d=m=>{const f=new Date(m),g=Math.floor((new Date().getTime()-f.getTime())/(1e3*60));return g<1?"Just now":g<60?`${g}m ago`:g<1440?`${Math.floor(g/60)}h ago`:`${Math.floor(g/1440)}d ago`},u=m=>{switch(m){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!i),className:"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[s.jsx(yn,{size:20}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n>9?"9+":n})]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-20 max-h-96 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notifications"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ur,{size:16})})]}),n>0&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n," unread notification",n!==1?"s":""]})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:t.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(yn,{className:"mx-auto h-8 w-8 text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.map(m=>s.jsx("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${m.isRead?"":"bg-blue-50"}`,onClick:()=>{m.isRead||c(m.id)},children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:`text-sm font-medium truncate ${m.isRead?"text-gray-700":"text-gray-900"}`,children:m.notification.title}),!m.isRead&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:m.notification.message}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${u(m.notification.priority)}`,children:m.notification.priority}),s.jsx("span",{className:"text-xs text-gray-500",children:d(m.createdAt)})]})]})})},m.id))}),t.length>0&&s.jsx("div",{className:"p-3 border-t bg-gray-50",children:s.jsx("button",{onClick:()=>{l(!1),typeof e=="function"?e("notifications"):window.location.hash="#notifications"},className:"w-full text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all notifications"})})]})]})]})},K6=({title:e,onProfileClick:t,onTabChange:r,onToggleSidebar:n})=>{var c,d,u;const{state:a,dispatch:i}=wn(),l=()=>{i({type:"LOGOUT"})},o=m=>({master_admin:"Master Administrator",college_admin:"College Administrator",faculty:"Faculty",student:"Student"})[m]||m;return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-4 py-3 md:px-6 md:py-4 sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsx("button",{onClick:()=>n&&n(),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors hidden md:block",title:"Toggle menu",children:s.jsx(NN,{size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate max-w-[200px] md:max-w-none",children:e}),((c=a.user)==null?void 0:c.collegeName)&&s.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate max-w-[200px] md:max-w-none",children:a.user.collegeName})]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsxs("div",{className:"hidden md:block text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:(d=a.user)==null?void 0:d.name}),s.jsx("p",{className:"text-xs text-gray-500",children:o(((u=a.user)==null?void 0:u.role)||"")})]}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[s.jsx(W6,{onNavigate:r}),t&&s.jsx("button",{onClick:t,className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Profile",children:s.jsx($n,{size:18,className:"md:w-5 md:h-5"})}),s.jsx("button",{onClick:l,className:"p-1.5 md:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:s.jsx(A6,{size:18,className:"md:w-5 md:h-5"})})]})]})]})})},Q6=({userRole:e,activeTab:t,onTabChange:r,collapsed:n=!1,drawerOpen:a=!1,onCloseDrawer:i})=>{const[l,o]=h.useState(new Set),[c,d]=h.useState(null),[u,m]=h.useState(null),[f,p]=h.useState(null);h.useEffect(()=>{g()},[e]),h.useEffect(()=>{if(t==="my-tests"||t==="tests"||t==="assigned-tests"){const N=e==="student"?"my-tests":"tests";o(k=>{const P=new Set(k);return P.add(N),P})}},[t,e]);const g=async()=>{try{let N={assessment:0,practice:0,mockTest:0,company:0};if(e==="master_admin"){const k=await Q.getTests();N={assessment:k.filter(P=>P.testType==="Assessment").length,practice:k.filter(P=>P.testType==="Practice").length,mockTest:k.filter(P=>P.testType==="Mock Test").length,company:k.filter(P=>P.testType==="Specific Company Test").length}}else if(e==="student"){const k=await Q.getStudentAssignedTests();N={assessment:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Assessment"}).length,practice:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Practice"}).length,mockTest:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Mock Test"}).length,company:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Specific Company Test"}).length}}else if(e==="college_admin"){const k=await Q.getAssignedTests();N={assessment:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Assessment"}).length,practice:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Practice"}).length,mockTest:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Mock Test"}).length,company:k.filter(P=>{var A;return((A=P.testId)==null?void 0:A.testType)==="Specific Company Test"}).length}}d(N)}catch(N){console.error("Failed to load test counts:",N)}},w=[{id:"dashboard",label:"Dashboard",icon:s.jsx(C6,{size:20}),roles:["master_admin","college_admin","faculty","student"]},{id:"colleges",label:"Colleges",icon:s.jsx(Tt,{size:20}),roles:["master_admin"]},{id:"stats",label:"Statistics",icon:s.jsx(pn,{size:20}),roles:["master_admin"]},{id:"notifications",label:"Notifications",icon:s.jsx(yn,{size:20}),roles:["master_admin","college_admin","faculty","student"]},{id:"create-notification",label:"Create Notification",icon:s.jsx(yn,{size:20}),roles:["master_admin","college_admin"]},{id:"notification-analytics",label:"Notification Analytics",icon:s.jsx(qt,{size:20}),roles:["master_admin"]},{id:"faculty",label:"Faculty",icon:s.jsx(Ge,{size:20}),roles:["college_admin"]},{id:"students",label:"Students",icon:s.jsx(fa,{size:20}),roles:["college_admin"]},{id:"student-hierarchy",label:"Student Hierarchy",icon:s.jsx(Ge,{size:20}),roles:["college_admin"]},{id:"reports",label:"Reports",icon:s.jsx(pn,{size:20}),roles:["college_admin"]},{id:"assigned-tests",label:"Assigned Tests",icon:s.jsx(Jy,{size:20}),roles:["college_admin"]},{id:"tests",label:"Tests",icon:s.jsx(ze,{size:20}),roles:["faculty"],subItems:[{id:"assessment-tests-faculty",label:"Assessment",testType:"Assessment"},{id:"practice-tests-faculty",label:"Practice",testType:"Practice"},{id:"mock-tests-faculty",label:"Mock Test",testType:"Mock Test"},{id:"company-tests-faculty",label:"Company Test",testType:"Specific Company Test"}]},{id:"test-reports",label:"Test Reports",icon:s.jsx(pn,{size:20}),roles:["faculty"]},{id:"student-reports",label:"Student Reports",icon:s.jsx(Jy,{size:20}),roles:["faculty"]},{id:"my-tests",label:"Tests",icon:s.jsx(ze,{size:20}),roles:["student"],subItems:[{id:"assessment-tests",label:"Assessment",testType:"Assessment"},{id:"practice-tests",label:"Practice",testType:"Practice"},{id:"mock-tests",label:"Mock Test",testType:"Mock Test"},{id:"company-tests",label:"Company Test",testType:"Specific Company Test"}]},{id:"tests",label:"Tests",icon:s.jsx(ze,{size:20}),roles:["master_admin","college_admin"],subItems:[{id:"assessment-tests-admin",label:"Assessment",testType:"Assessment"},{id:"practice-tests-admin",label:"Practice",testType:"Practice"},{id:"mock-tests-admin",label:"Mock Test",testType:"Mock Test"},{id:"company-tests-admin",label:"Company Test",testType:"Specific Company Test"}]},{id:"coding-questions",label:"Coding Questions",icon:s.jsx(gr,{size:20}),roles:["master_admin"]},{id:"practice-coding",label:"Practice Coding",icon:s.jsx(gr,{size:20}),roles:["student"]},{id:"performance",label:"My Performance",icon:s.jsx(Zl,{size:20}),roles:["student"]},{id:"profile",label:"Profile",icon:s.jsx(B6,{size:20}),roles:["faculty","student"]}].filter(N=>!N.roles||N.roles.includes(e)),v=N=>{const k=w.find(P=>P.id===N);k&&k.subItems?o(P=>{const A=new Set(P);return A.has(N)?A.delete(N):A.add(N),A}):r(N)},y=(N,k)=>{let P="tests";k==="my-tests"?P="my-tests":e==="master_admin"?P="tests":e==="college_admin"?P="assigned-tests":e==="faculty"&&(P="tests"),r(P),sessionStorage.setItem("selectedTestType",N),window.dispatchEvent(new CustomEvent("testTypeChanged",{detail:{testType:N}}))},b=N=>c&&c[{Assessment:"assessment",Practice:"practice","Mock Test":"mockTest","Specific Company Test":"company"}[N]]||0,S=a,j=`fixed inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out
    ${S?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:static`;return s.jsxs(s.Fragment,{children:[S&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>i&&i(),"aria-hidden":"true"}),s.jsx("aside",{className:`${j} bg-gray-900 text-white h-full w-64 md:w-64`,style:{width:n?"4rem":void 0},role:"navigation","aria-label":"Main navigation",onKeyDown:N=>{N.key==="Escape"&&S&&i&&i()},children:s.jsxs("div",{className:"p-4 h-full flex flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 shrink-0",children:s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("img",{src:"/logo.png",alt:"Logo",className:`w-8 h-8 ${n?"mx-auto":"mr-2"} transition-all duration-300`}),!n&&s.jsx("span",{className:"transition-opacity duration-300",children:"PlanTechx"})]})}),s.jsx("nav",{className:"space-y-2 overflow-y-auto flex-1 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:w.map(N=>{const k=!!N.subItems;return s.jsx("div",{children:k?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",onMouseEnter:()=>n&&m(N.id),onMouseLeave:()=>n&&m(null),children:[s.jsxs("button",{onClick:()=>{n?p(P=>P===N.id?null:N.id):v(N.id)},"aria-expanded":l.has(N.id)||f===N.id,className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-left transition-all duration-200 ${t===N.id||N.id==="tests"&&(t==="tests"||t==="assigned-tests")||N.id==="my-tests"&&t==="my-tests"?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-800"}`,title:n?N.label:void 0,children:[s.jsxs("div",{className:`flex items-center gap-3 ${n?"justify-center w-full":""}`,children:[s.jsx("span",{className:`${n?"w-6 h-6 flex items-center justify-center":""}`,children:N.icon}),!n&&s.jsx("span",{className:"transition-opacity duration-200",children:N.label})]}),!n&&(l.has(N.id)?s.jsx(tn,{size:16}):s.jsx(ui,{size:16}))]}),n&&(u===N.id||f===N.id)&&N.subItems&&s.jsx("div",{className:"absolute left-full top-0 ml-2 w-48 bg-gray-800 text-white rounded shadow-lg z-50",children:N.subItems.map(P=>s.jsx("button",{onClick:()=>{y(P.testType||"",N.id),p(null),i&&i()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-700",children:P.label},P.id))})]}),l.has(N.id)&&N.subItems&&!n&&s.jsx("div",{className:"ml-4 mt-1 space-y-1",children:N.subItems.map(P=>{const A=b(P.testType||"");return s.jsxs("button",{onClick:()=>y(P.testType||"",N.id),className:"w-full flex items-center justify-between px-4 py-2 rounded-lg text-left text-sm transition-colors text-gray-400 hover:text-white hover:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"}),P.label]}),c&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs font-bold rounded-full",children:A})]},P.id)})})]}):s.jsx("button",{onClick:()=>{r(N.id),i&&i()},className:`w-full flex items-center px-3 py-2.5 rounded-lg text-left transition-all duration-200 ${t===N.id?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-800"}`,title:n?N.label:void 0,children:s.jsxs("div",{className:`flex items-center gap-3 ${n?"justify-center w-full":""}`,children:[s.jsx("span",{className:`${n?"w-6 h-6 flex items-center justify-center":""}`,children:N.icon}),!n&&s.jsx("span",{className:"transition-opacity duration-200",children:N.label})]})})},N.id)})})]})})]})},Te=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{if(h.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),h.useEffect(()=>{const l=o=>{o.key==="Escape"&&t()};return e&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[e,t]),!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),s.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${i[a]} transform transition-all`,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ur,{size:24})})]}),s.jsx("div",{className:"p-6",children:n})]})]})})},be=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return s.jsx("div",{className:`flex items-center justify-center ${t}`,children:s.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ${r[e]}`})})};class V6 extends ni.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsxs("div",{className:"p-4 bg-red-50 rounded text-sm text-red-700",children:[s.jsx("p",{className:"font-semibold",children:"Something went wrong while rendering this section."}),s.jsx("p",{className:"mt-2",children:"Please try again or refresh the page."})]}):this.props.children}}const il=({onSubmit:e,loading:t,initialData:r})=>{const[n,a]=h.useState({name:(r==null?void 0:r.name)||"",code:(r==null?void 0:r.code)||"",email:(r==null?void 0:r.email)||"",address:(r==null?void 0:r.address)||""}),[i,l]=h.useState({}),o=()=>{const u={};return n.name.trim()||(u.name="College name is required"),n.code.trim()?n.code.length<2&&(u.code="College code must be at least 2 characters"):u.code="College code is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(u.email="Please enter a valid email"):u.email="Email is required",n.address.trim()?n.address.length<10&&(u.address="Please enter a complete address"):u.address="Address is required",l(u),Object.keys(u).length===0},c=async u=>{if(u.preventDefault(),!!o())try{await e(n),a({name:"",code:"",email:"",address:""}),l({})}catch(m){console.error("Form submission error:",m)}},d=u=>{const{name:m,value:f}=u.target;a(p=>({...p,[m]:f})),i[m]&&l(p=>({...p,[m]:void 0}))};return s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Tt,{className:"inline w-4 h-4 mr-1"}),"College Name"]}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter college name",disabled:t}),i.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),"College Code"]}),s.jsx("input",{type:"text",id:"code",name:"code",value:n.code,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.code?"border-red-500":"border-gray-300"}`,placeholder:"e.g., MIT, HARV",disabled:t,style:{textTransform:"uppercase"}}),i.code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.code})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ji,{className:"inline w-4 h-4 mr-1"}),"College Email"]}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@college.edu",disabled:t}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(T6,{className:"inline w-4 h-4 mr-1"}),"College Address"]}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:d,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter complete college address",disabled:t}),i.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.address})]}),s.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:t?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm",className:"mr-2"}),"Creating College..."]}):"Create College"})]})},H6=({test:e,onView:t,onAssign:r,onEdit:n,onDelete:a,onReport:i,showActions:l=!0,variant:o="default"})=>{const[c,d]=h.useState(!1),u=k=>new Date(k).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=k=>({Verbal:"from-blue-500 via-blue-600 to-blue-700",Reasoning:"from-green-500 via-green-600 to-green-700",Technical:"from-teal-500 via-teal-600 to-teal-700",Arithmetic:"from-orange-500 via-orange-600 to-orange-700",Communication:"from-pink-500 via-pink-600 to-pink-700"})[k]||"from-gray-500 via-gray-600 to-gray-700",p=k=>({Verbal:"border-blue-300 bg-blue-50",Reasoning:"border-green-300 bg-green-50",Technical:"border-teal-300 bg-teal-50",Arithmetic:"border-orange-300 bg-orange-50",Communication:"border-pink-300 bg-pink-50"})[k]||"border-gray-300 bg-gray-50",g=k=>({Assessment:"bg-blue-100 text-blue-800 border-blue-300",Practice:"bg-green-100 text-green-800 border-green-300",Assignment:"bg-amber-100 text-amber-800 border-amber-300","Mock Test":"bg-orange-100 text-orange-800 border-orange-300","Specific Company Test":"bg-red-100 text-red-800 border-red-300"})[k]||"bg-gray-100 text-gray-800 border-gray-300",x=k=>({Easy:"bg-green-100 text-green-800 border-green-400",Medium:"bg-yellow-100 text-yellow-800 border-yellow-400",Hard:"bg-red-100 text-red-800 border-red-400"})[k]||"bg-gray-100 text-gray-800 border-gray-300",v=(()=>{const k=new Date,P=new Date(e.startDateTime),A=new Date(e.endDateTime);return k<P?{text:"Upcoming",color:"bg-amber-500",icon:De}:k>A?{text:"Ended",color:"bg-gray-500",icon:Re}:{text:"Active",color:"bg-green-500",icon:di}})(),y=v.icon,b=()=>e.hasSections&&Array.isArray(e.sections)&&e.sections.length>0?e.sections.reduce((k,P)=>k+(P.numberOfQuestions||(P.questions?P.questions.length:0)),0):typeof e.numberOfQuestions=="number"?e.numberOfQuestions:0,S=()=>{if(e.hasSections&&Array.isArray(e.sections)&&e.sections.length>0){const P=e.sections.map(A=>Number(A.sectionDuration)||0).reduce((A,O)=>A+O,0);return P>0?P:typeof e.duration=="number"?e.duration:0}return typeof e.duration=="number"?e.duration:0},j=b(),N=S();return o==="compact"?s.jsxs("div",{className:`bg-white rounded-xl shadow-lg border-2 ${p(e.subject)} hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[s.jsxs("div",{className:`bg-gradient-to-r ${f(e.subject)} px-4 py-3 flex items-center justify-between`,children:[s.jsx("h3",{className:"text-base font-bold text-white truncate flex-1",children:e.testName}),s.jsxs("div",{className:`${v.color} text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg`,children:[s.jsx(y,{size:12}),v.text]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold border ${g(e.testType||"")}`,children:e.testType}),e.difficulty&&s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold border ${x(e.difficulty)}`,children:e.difficulty})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(ze,{className:"w-4 h-4 mx-auto mb-1 text-gray-600"}),s.jsx("p",{className:"text-xs font-bold text-gray-900",children:j})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Gt,{className:"w-4 h-4 mx-auto mb-1 text-gray-600"}),s.jsx("p",{className:"text-xs font-bold text-gray-900",children:e.totalMarks})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(De,{className:"w-4 h-4 mx-auto mb-1 text-gray-600"}),s.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[N,"m"]})]})]}),l&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsxs("button",{onClick:()=>t(e._id),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-3 rounded-lg hover:from-blue-600 hover:to-blue-700 flex items-center justify-center gap-2 text-xs font-semibold shadow-md hover:scale-105 transition-all",children:[s.jsx(Et,{size:14}),"View"]}),s.jsxs("button",{onClick:()=>r(e._id),className:"bg-gradient-to-r from-green-500 to-green-600 text-white py-2 px-3 rounded-lg hover:from-green-600 hover:to-green-700 flex items-center justify-center gap-2 text-xs font-semibold shadow-md hover:scale-105 transition-all",children:[s.jsx(Ts,{size:14}),"Assign"]})]})]})]}):s.jsxs("div",{className:`bg-white rounded-2xl shadow-xl border-2 ${p(e.subject)} hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1`,children:[s.jsxs("div",{className:`bg-gradient-to-r ${f(e.subject)} px-6 py-4 relative overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1 leading-tight",children:e.testName}),s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:e.subject})]}),s.jsxs("div",{className:`${v.color} text-white px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2 shadow-lg ml-4`,children:[s.jsx(y,{size:14}),v.text]})]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2",children:e.testDescription}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.testType&&s.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-semibold border ${g(e.testType)}`,children:e.testType}),e.difficulty&&s.jsxs("span",{className:`px-3 py-1.5 rounded-lg text-xs font-semibold border ${x(e.difficulty)}`,children:[s.jsx(Zl,{className:"inline w-3 h-3 mr-1"}),e.difficulty]})]}),e.topics&&e.topics.length>0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between text-xs font-semibold text-gray-700 hover:text-gray-900",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(P6,{size:14}),"Topics Covered (",e.topics.length,")"]}),c?s.jsx(ia,{size:14}):s.jsx(tn,{size:14})]}),c&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:e.topics.map((k,P)=>s.jsx("span",{className:"px-2.5 py-1 bg-white text-gray-700 text-xs rounded-md border border-gray-300 font-medium shadow-sm",children:k},P))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(ze,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Questions"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:j})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(Gt,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Total Marks"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:e.totalMarks})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl border border-orange-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(De,{className:"w-6 h-6 mx-auto mb-2 text-orange-600"}),s.jsx("p",{className:"text-xs text-orange-600 font-medium mb-1",children:"Duration"}),s.jsxs("p",{className:"text-xl font-bold text-orange-900",children:[N," min"]})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(Yt,{className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),s.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Created"}),s.jsx("p",{className:"text-xs font-bold text-gray-900",children:m(e.createdAt)})]})]}),(e.attemptCount!==void 0||e.assignmentCount!==void 0||e.completionRate!==void 0||e.averageScore!==void 0)&&s.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-200",children:[s.jsxs("h4",{className:"text-xs font-semibold text-teal-800 mb-3 flex items-center gap-1",children:[s.jsx(qt,{size:14}),"Performance Metrics"]}),s.jsxs("div",{className:`grid gap-3 ${e.attemptCount!==void 0?"grid-cols-2":"grid-cols-3"}`,children:[e.attemptCount!==void 0&&s.jsxs("div",{className:"text-center",children:[s.jsx(di,{className:"w-5 h-5 mx-auto mb-1 text-blue-600"}),s.jsx("p",{className:"text-lg font-bold text-blue-900",children:e.attemptCount}),s.jsx("p",{className:"text-xs text-blue-600",children:"Attempts"})]}),e.assignmentCount!==void 0&&s.jsxs("div",{className:"text-center",children:[s.jsx(Ge,{className:"w-5 h-5 mx-auto mb-1 text-teal-600"}),s.jsx("p",{className:"text-lg font-bold text-teal-900",children:e.assignmentCount}),s.jsx("p",{className:"text-xs text-teal-600",children:"Assigned"})]}),e.completionRate!==void 0&&s.jsxs("div",{className:"text-center",children:[s.jsx(Re,{className:"w-5 h-5 mx-auto mb-1 text-green-600"}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:[e.completionRate,"%"]}),s.jsx("p",{className:"text-xs text-green-600",children:"Completed"})]}),e.averageScore!==void 0&&s.jsxs("div",{className:"text-center",children:[s.jsx(Gt,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),s.jsxs("p",{className:"text-lg font-bold text-amber-900",children:[e.averageScore,"%"]}),s.jsx("p",{className:"text-xs text-amber-600",children:"Avg Score"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4 border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 font-medium mb-1 flex items-center gap-1",children:[s.jsx(Yt,{size:12}),"Start Date"]}),s.jsx("p",{className:"text-sm text-gray-900 font-semibold",children:u(e.startDateTime)})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 font-medium mb-1 flex items-center gap-1",children:[s.jsx(Yt,{size:12}),"End Date"]}),s.jsx("p",{className:"text-sm text-gray-900 font-semibold",children:u(e.endDateTime)})]})]})}),l&&s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>t(e._id),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-xl hover:from-blue-600 hover:to-blue-700 flex items-center justify-center gap-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200",children:[s.jsx(Et,{size:16}),"Preview"]}),n&&s.jsxs("button",{onClick:()=>n(e._id),className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white py-3 px-4 rounded-xl hover:from-amber-600 hover:to-amber-700 flex items-center justify-center gap-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200",children:[s.jsx($i,{size:16}),"Edit"]}),s.jsxs("button",{onClick:()=>r(e._id),className:"bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-xl hover:from-green-600 hover:to-green-700 flex items-center justify-center gap-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200",children:[s.jsx(Ts,{size:16}),"Assign"]}),a&&s.jsxs("button",{onClick:()=>a(e._id),className:"bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-4 rounded-xl hover:from-red-600 hover:to-red-700 flex items-center justify-center gap-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200",children:[s.jsx(vr,{size:16}),"Delete"]})]}),i&&s.jsxs("button",{onClick:()=>i(e._id),className:"w-full bg-gradient-to-r from-violet-500 to-violet-600 text-white py-3 px-4 rounded-xl hover:from-violet-600 hover:to-violet-700 flex items-center justify-center gap-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200",children:[s.jsx(pn,{size:16}),"Analytics & Reports"]})]})]})]})},G6=({tests:e,onView:t,onAssign:r,onEdit:n,onDelete:a,onReport:i,showActions:l=!0,loading:o=!1})=>{const[c,d]=h.useState(""),[u,m]=h.useState("all"),[f,p]=h.useState("all"),[g,x]=h.useState("all"),[w,v]=h.useState("all"),[y,b]=h.useState("grid"),[S,j]=h.useState("recent"),[N,k]=h.useState(!1),P=["Verbal","Reasoning","Technical","Arithmetic","Communication"],A=["Easy","Medium","Hard"],O=["Assessment","Practice","Assignment","Mock Test","Specific Company Test"],T=["Active","Upcoming","Ended"],D=C=>{const R=new Date,L=new Date(C.startDateTime),E=new Date(C.endDateTime);return R<L?"Upcoming":R>E?"Ended":"Active"},F=e.filter(C=>{const R=C.testName.toLowerCase().includes(c.toLowerCase())||C.testDescription.toLowerCase().includes(c.toLowerCase()),L=u==="all"||C.subject===u,E=f==="all"||C.difficulty===f,I=w==="all"||C.testType===w,X=g==="all"||D(C)===g;return R&&L&&E&&I&&X}).sort((C,R)=>{switch(S){case"name":return C.testName.localeCompare(R.testName);case"upcoming":return new Date(C.startDateTime).getTime()-new Date(R.startDateTime).getTime();case"recent":default:return new Date(R.createdAt).getTime()-new Date(C.createdAt).getTime()}}),U=[u!=="all",f!=="all",g!=="all",w!=="all"].filter(Boolean).length,$=()=>{m("all"),p("all"),x("all"),v("all"),d("")};return o?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search tests by name or description...",value:c,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>k(!N),className:`px-4 py-3 rounded-lg font-semibold flex items-center gap-2 transition-all ${N?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(L6,{size:20}),"Filters",U>0&&s.jsx("span",{className:"bg-white text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:U})]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded ${y==="grid"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(k6,{size:20})}),s.jsx("button",{onClick:()=>b("compact"),className:`p-2 rounded ${y==="compact"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsx(Fc,{size:20})})]})]})]}),N&&s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-6 border-2 border-gray-200 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ws,{size:20}),"Filter Tests"]}),U>0&&s.jsxs("button",{onClick:$,className:"text-sm text-red-600 hover:text-red-700 font-semibold flex items-center gap-1",children:[s.jsx(Ur,{size:16}),"Clear All"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:u,onChange:C=>m(C.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white",children:[s.jsx("option",{value:"all",children:"All Subjects"}),P.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Test Type"}),s.jsxs("select",{value:w,onChange:C=>v(C.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white",children:[s.jsx("option",{value:"all",children:"All Types"}),O.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Difficulty"}),s.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white",children:[s.jsx("option",{value:"all",children:"All Levels"}),A.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:g,onChange:C=>x(C.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white",children:[s.jsx("option",{value:"all",children:"All Statuses"}),T.map(C=>s.jsx("option",{value:C,children:C},C))]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-bold text-gray-900",children:F.length})," of ",s.jsx("span",{className:"font-bold text-gray-900",children:e.length})," tests"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Sort by:"}),s.jsxs("select",{value:S,onChange:C=>j(C.target.value),className:"px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white text-sm font-medium",children:[s.jsx("option",{value:"recent",children:"Recently Created"}),s.jsx("option",{value:"name",children:"Name (A-Z)"}),s.jsx("option",{value:"upcoming",children:"Upcoming First"})]})]})]})]}),F.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Yt,{size:64,className:"mx-auto"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No tests found"}),s.jsx("p",{className:"text-gray-600",children:c||U>0?"Try adjusting your search or filters":"No tests available at the moment"})]}):s.jsx("div",{className:`grid gap-6 ${y==="compact"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:F.filter(C=>C&&C._id).map(C=>s.jsx(H6,{test:C,onView:t,onAssign:r,onEdit:n,onDelete:a,onReport:i,showActions:l,variant:y==="compact"?"compact":"default"},C._id))})]})},CN=({testId:e,testName:t,onClose:r,onAssign:n})=>{const[a,i]=h.useState([]),[l,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[f,p]=h.useState(null);h.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const[y,b]=await Promise.all([Q.getColleges(),Q.getTestAssignedColleges(e)]),S=new Set(b.map(k=>typeof k.collegeId=="object"?k.collegeId._id:k.collegeId)),j=y.filter(k=>k.isActive).map(k=>({...k,isAssigned:S.has(k.id)}));i(j);const N=j.filter(k=>k.isAssigned).map(k=>k.id);o(N)}catch(y){p(y instanceof Error?y.message:"Failed to load colleges")}finally{d(!1)}},x=y=>{o(b=>b.includes(y)?b.filter(S=>S!==y):[...b,y])},w=()=>{l.length===a.length?o([]):o(a.map(y=>y.id))},v=async()=>{if(l.length===0){alert("Please select at least one college");return}try{m(!0),await n(e,l),r()}catch(y){console.error("Assignment error:",y)}finally{m(!1)}};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):f?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:f}),s.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Assign Test to Colleges"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Select colleges to assign the test: ",s.jsx("strong",{children:t})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[l.length," of ",a.length," colleges selected"]}),s.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:text-blue-800",children:l.length===a.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg",children:a.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Tt,{className:"mx-auto h-12 w-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No active colleges found"})]}):s.jsx("div",{className:"divide-y",children:a.map(y=>s.jsx("div",{className:"p-4 hover:bg-gray-50",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(y.id),onChange:()=>x(y.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:y.name}),y.isAssigned&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:"Assigned"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:y.email})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:y.code})]})})]})},y.id))})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",disabled:u,children:"Cancel"}),s.jsx("button",{onClick:v,disabled:l.length===0||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Assigning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ts,{size:16}),"Assign to ",l.length," College",l.length!==1?"s":""]})})]})]})},Jl=({onSubmit:e,loading:t,onClose:r})=>{var D,F,U,$,C,R,L;const{state:n}=wn(),[a,i]=h.useState({title:"",message:"",type:"general",priority:"medium",targetType:"students",targetGroup:"students",targetColleges:[],targetUsers:[],filters:{branches:[],batches:[],sections:[],roles:[]},scheduledFor:"",expiresAt:""}),[l,o]=h.useState([]),[c,d]=h.useState({branches:[],batches:[],sections:[]}),[u,m]=h.useState([]),[f,p]=h.useState(null),[g,x]=h.useState(null),[w,v]=h.useState({});h.useEffect(()=>{var E,I;((E=n.user)==null?void 0:E.role)==="master_admin"?y():((I=n.user)==null?void 0:I.role)==="college_admin"&&b()},[(D=n.user)==null?void 0:D.role,a.targetType]);const y=async()=>{try{const E=await Q.getColleges();o(E.filter(I=>I.isActive))}catch(E){console.error("Failed to load colleges:",E)}},b=async()=>{try{if(a.targetType==="faculty"){const E=await Q.getCollegeUsers("faculty");S(E)}else if(a.targetType==="students"){const E=await Q.getCollegeUsers("student");S(E)}}catch(E){console.error("Failed to load users:",E)}},S=E=>{const I=[...new Set(E.map(le=>le.branch))],X=[...new Set(E.map(le=>le.batch))],W=[...new Set(E.map(le=>le.section))];d({branches:I,batches:X,sections:W})};h.useEffect(()=>{(async()=>{if(a.targetType!=="specific"||a.targetColleges.length===0){m([]);return}try{const I=a.targetGroup==="faculty"?"faculty":"student",X=a.targetColleges.map(we=>Q.getCollegeUsers(I,we));let me=(await Promise.all(X)).flatMap(we=>Array.isArray(we)?we:we.users||[]);a.filters.branches.length&&(me=me.filter(we=>a.filters.branches.includes(we.branch))),a.filters.batches.length&&(me=me.filter(we=>a.filters.batches.includes(we.batch))),a.filters.sections.length&&(me=me.filter(we=>a.filters.sections.includes(we.section)));const pe={};me.forEach(we=>{pe[String(we._id||we.id)]=we}),m(Object.values(pe))}catch(I){console.error("Failed to load targeted users:",I),m([])}})()},[a.targetType,JSON.stringify(a.targetColleges),a.targetGroup,JSON.stringify(a.filters)]);const j=()=>{var I;const E={};return a.title.trim()||(E.title="Title is required"),a.message.trim()||(E.message="Message is required"),a.title.length>200&&(E.title="Title must be less than 200 characters"),a.message.length>2e3&&(E.message="Message must be less than 2000 characters"),((I=n.user)==null?void 0:I.role)==="master_admin"&&a.targetType!=="specific"&&a.targetType==="colleges"&&a.targetColleges.length===0&&(E.targetColleges="Please select at least one college"),v(E),Object.keys(E).length===0},N=async E=>{if(E.preventDefault(),!j())return;const I=new FormData,X={...a};X.targetType==="specific_college"&&(X.targetType="colleges"),Object.entries(X).forEach(([W,le])=>{W==="filters"||W==="targetColleges"||W==="targetUsers"?I.append(W,JSON.stringify(le)):I.append(W,le)}),f&&I.append("attachment",f);try{await e(I),i({title:"",message:"",type:"general",priority:"medium",targetType:"students",targetGroup:"students",targetColleges:[],targetUsers:[],filters:{branches:[],batches:[],sections:[],roles:[]},scheduledFor:"",expiresAt:""}),p(null),v({})}catch(W){console.error("Form submission error:",W)}},k=E=>{const{name:I,value:X}=E.target;i(W=>({...W,[I]:X})),w[I]&&v(W=>({...W,[I]:void 0}))},P=(E,I,X)=>{i(W=>({...W,[E]:X?[...W[E],I]:W[E].filter(le=>le!==I)}))},A=(E,I,X)=>{i(W=>({...W,filters:{...W.filters,[E]:X?[...W.filters[E],I]:W.filters[E].filter(le=>le!==I)}}))},O=E=>{var X;const I=(X=E.target.files)==null?void 0:X[0];if(I){if(I.size>5*1024*1024){alert("File size must be less than 5MB");return}p(I)}};h.useEffect(()=>{if(f&&f.type.startsWith("image/")){const E=URL.createObjectURL(f);return x(E),()=>{URL.revokeObjectURL(E),x(null)}}x(null)},[f]);const T=()=>{p(null);const E=document.getElementById("attachment");E&&(E.value=""),g&&(URL.revokeObjectURL(g),x(null))};return s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:k,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${w.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter notification title",disabled:t,maxLength:200}),w.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.title}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.title.length,"/200 characters"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{id:"type",name:"type",value:a.type,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:t,children:[s.jsx("option",{value:"general",children:" General"}),s.jsx("option",{value:"urgent",children:" Urgent"}),s.jsx("option",{value:"announcement",children:" Announcement"}),s.jsx("option",{value:"reminder",children:" Reminder"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsxs("select",{id:"priority",name:"priority",value:a.priority,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:t,children:[s.jsx("option",{value:"low",children:" Low"}),s.jsx("option",{value:"medium",children:" Medium"}),s.jsx("option",{value:"high",children:" High"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Send To"}),s.jsxs("select",{id:"targetType",name:"targetType",value:a.targetType,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:t,children:[((F=n.user)==null?void 0:F.role)==="master_admin"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"colleges",children:" All Colleges"}),s.jsx("option",{value:"specific_college",children:" Specific College"}),s.jsx("option",{value:"faculty",children:" All Faculty"}),s.jsx("option",{value:"students",children:" All Students"}),s.jsx("option",{value:"specific",children:" Targeted Users"})]}),((U=n.user)==null?void 0:U.role)==="college_admin"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"faculty",children:" Faculty"}),s.jsx("option",{value:"students",children:" Students"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:k,rows:6,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${w.message?"border-red-500":"border-gray-300"}`,placeholder:"Enter your notification message...",disabled:t,maxLength:2e3}),w.message&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.message}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.message.length,"/2000 characters"]})]}),(($=n.user)==null?void 0:$.role)==="master_admin"&&a.targetType==="colleges"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Colleges"}),s.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3 space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.targetColleges.length===l.length,onChange:E=>{E.target.checked?i(I=>({...I,targetColleges:l.map(X=>X.id)})):i(I=>({...I,targetColleges:[]}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Select All"})]}),l.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.targetColleges.includes(E.id),onChange:I=>P("targetColleges",E.id,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.name})]},E.id))]}),w.targetColleges&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.targetColleges})]}),((C=n.user)==null?void 0:C.role)==="master_admin"&&a.targetType==="colleges"&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select College"}),s.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg bg-white p-2 space-y-1",children:l.map(E=>s.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50",children:[s.jsx("input",{type:"radio",checked:a.targetColleges.includes(E.id),onChange:I=>{I.target.checked&&i(X=>({...X,targetColleges:[E.id]}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.name})]},E.id))})]}),((R=n.user)==null?void 0:R.role)==="master_admin"&&a.targetType==="specific"&&a.targetColleges.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Filters"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Group"}),s.jsxs("select",{value:a.targetGroup,onChange:E=>i(I=>({...I,targetGroup:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"faculty",children:"Faculty Members"}),s.jsx("option",{value:"students",children:"Students"})]})]})})]}),a.targetGroup==="students"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branches (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-white p-2 space-y-1",children:c.branches.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.branches.includes(E),onChange:I=>A("branches",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batches (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-white p-2 space-y-1",children:c.batches.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.batches.includes(E),onChange:I=>A("batches",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sections (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg bg-white p-2 space-y-1",children:c.sections.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.sections.includes(E),onChange:I=>A("sections",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Select Users"}),s.jsxs("div",{className:"max-h-48 overflow-y-auto border rounded-lg bg-white p-2 space-y-1",children:[u.length===0&&s.jsx("div",{className:"text-sm text-gray-500 p-2",children:"No users found for selected colleges/filters."}),u.map(E=>s.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:a.targetUsers.includes(String(E._id||E.id)),onChange:I=>P("targetUsers",String(E._id||E.id),I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.name||E.fullName||E.email}),s.jsx("span",{className:"ml-auto text-xs text-gray-400",children:E.email})]},E._id||E.id))]})]})]}),((L=n.user)==null?void 0:L.role)==="college_admin"&&(a.targetType==="faculty"||a.targetType==="students")&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branches (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 space-y-1",children:c.branches.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.branches.includes(E),onChange:I=>A("branches",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batches (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 space-y-1",children:c.batches.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.batches.includes(E),onChange:I=>A("batches",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sections (Optional)"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 space-y-1",children:c.sections.map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.filters.sections.includes(E),onChange:I=>A("sections",E,I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E})]},E))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachment (Optional)"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200",children:[s.jsx(M6,{size:16,className:"mr-2"}),"Choose File",s.jsx("input",{type:"file",id:"attachment",onChange:O,className:"hidden",accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.txt",disabled:t})]}),f&&s.jsxs("div",{className:"flex items-center space-x-2",children:[g?s.jsx("img",{src:g,alt:"attachment preview",className:"w-16 h-16 object-cover rounded"}):s.jsx("span",{className:"text-sm text-gray-600",children:f.name}),s.jsx("button",{type:"button",onClick:T,className:"text-red-500 hover:text-red-700",children:s.jsx(Ur,{size:16})})]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Supported formats: Images, PDF, Documents (Max 5MB)"})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",disabled:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ts,{size:16}),"Send Notification"]})})]})]})},Y6=({onSearch:e,onFilter:t,searchTerm:r,filters:n})=>{const[a,i]=h.useState(!1),l=(d,u)=>{t({...n,[d]:u})},o=()=>{t({type:"all",priority:"all",dateRange:"all",sender:"all"})},c=Object.values(n).some(d=>d!=="all");return s.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search notifications by title or content...",value:r,onChange:d=>e(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:()=>i(!a),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${c?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(Ws,{size:20}),"Filters",c&&s.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full px-2 py-0.5",children:"Active"})]}),c&&s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-800",children:[s.jsx(Ur,{size:16}),"Clear"]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:n.type,onChange:d=>l("type",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"general",children:" General"}),s.jsx("option",{value:"urgent",children:" Urgent"}),s.jsx("option",{value:"announcement",children:" Announcement"}),s.jsx("option",{value:"reminder",children:" Reminder"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsxs("select",{value:n.priority,onChange:d=>l("priority",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"high",children:" High"}),s.jsx("option",{value:"medium",children:" Medium"}),s.jsx("option",{value:"low",children:" Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),s.jsxs("select",{value:n.dateRange,onChange:d=>l("dateRange",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender"}),s.jsxs("select",{value:n.sender,onChange:d=>l("sender",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Senders"}),s.jsx("option",{value:"master_admin",children:"Master Admin"}),s.jsx("option",{value:"college_admin",children:"College Admin"})]})]})]})]})},PN=({refreshTrigger:e})=>{const[t,r]=h.useState([]),[n,a]=h.useState(!0),[i,l]=h.useState(1),[o,c]=h.useState(1),[d,u]=h.useState(0),[m,f]=h.useState("all"),[p,g]=h.useState(""),[x,w]=h.useState({type:"all",priority:"all",dateRange:"all",sender:"all"});h.useEffect(()=>{v()},[i,e]);const v=async()=>{try{a(!0);const A=await Q.getMyNotifications(i,10);r(A.notifications),c(A.pagination.totalPages),u(A.unreadCount)}catch(A){console.error("Failed to load notifications:",A)}finally{a(!1)}},y=async A=>{try{await Q.markNotificationRead(A),r(O=>O.map(T=>T.id===A?{...T,isRead:!0,readAt:new Date().toISOString()}:T)),u(O=>Math.max(0,O-1))}catch(O){console.error("Failed to mark notification as read:",O)}},b=async()=>{try{await Q.markAllNotificationsRead(),r(A=>A.map(O=>({...O,isRead:!0,readAt:new Date().toISOString()}))),u(0)}catch(A){console.error("Failed to mark all notifications as read:",A)}},S=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=A=>{switch(A){case"urgent":return s.jsx(In,{className:"text-red-500",size:20});case"announcement":return s.jsx(ph,{className:"text-blue-500",size:20});case"reminder":return s.jsx(De,{className:"text-orange-500",size:20});default:return s.jsx(yn,{className:"text-gray-500",size:20})}},N=A=>{switch(A){case"high":return"border-l-red-500 bg-red-50";case"medium":return"border-l-blue-500 bg-blue-50";case"low":return"border-l-green-500 bg-green-50";default:return"border-l-gray-500 bg-gray-50"}},k=A=>({master_admin:"Master Admin",college_admin:"College Admin",faculty:"Faculty",student:"Student"})[A]||A,P=t.filter(A=>{if(p){const O=p.toLowerCase(),T=A.notification.title.toLowerCase().includes(O),D=A.notification.message.toLowerCase().includes(O);if(!T&&!D)return!1}if(x.type!=="all"&&A.notification.type!==x.type||x.priority!=="all"&&A.notification.priority!==x.priority)return!1;if(x.dateRange!=="all"){const O=new Date(A.createdAt),T=new Date;switch(x.dateRange){case"today":const D=new Date(T.getFullYear(),T.getMonth(),T.getDate());if(O<D)return!1;break;case"week":const F=new Date(T.getTime()-7*24*60*60*1e3);if(O<F)return!1;break;case"month":const U=new Date(T.getTime()-30*24*60*60*1e3);if(O<U)return!1;break}}return x.sender!=="all"&&A.notification.createdBy.role!==x.sender?!1:m==="unread"?!A.isRead:m==="read"?A.isRead:!0});return n&&t.length===0?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-gray-600",children:d>0?`${d} unread notification${d!==1?"s":""}`:"All caught up!"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["all","unread","read"].map(A=>s.jsxs("button",{onClick:()=>f(A),className:`px-3 py-1 text-sm rounded-md transition-colors ${m===A?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[A.charAt(0).toUpperCase()+A.slice(1),A==="unread"&&d>0&&s.jsx("span",{className:"ml-1 bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5",children:d})]},A))}),d>0&&s.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Mark All Read"})]})]}),s.jsx(Y6,{onSearch:g,onFilter:w,searchTerm:p,filters:x}),s.jsx("div",{className:"space-y-4",children:P.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yn,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:m==="unread"?"No unread notifications":m==="read"?"No read notifications":"No notifications yet"}),s.jsx("p",{className:"text-gray-600",children:m==="all"?"Notifications will appear here when you receive them":`Switch to "${m==="unread"?"all":"unread"}" to see other notifications`})]}):P.map(A=>s.jsx("div",{className:`bg-white rounded-lg shadow border-l-4 p-6 transition-all hover:shadow-md ${N(A.notification.priority)} ${A.isRead?"":"ring-2 ring-blue-100"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:j(A.notification.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:`text-lg font-medium ${A.isRead?"text-gray-700":"text-gray-900"}`,children:A.notification.title}),!A.isRead&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yt,{size:14}),S(A.createdAt)]}),s.jsxs("span",{children:["From: ",k(A.notification.createdBy.role)]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.notification.priority==="high"?"bg-red-100 text-red-800":A.notification.priority==="medium"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[A.notification.priority," priority"]})]}),s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:A.notification.message})}),A.notification.attachment&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.notification.attachment.originalName}),s.jsx("p",{className:"text-xs text-gray-500",children:A.notification.attachment.mimetype})]})]})}),A.isRead&&A.readAt&&s.jsxs("div",{className:"mt-3 flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Re,{size:12}),"Read on ",S(A.readAt)]})]})]}),!A.isRead&&s.jsx("button",{onClick:()=>y(A.id),className:"flex-shrink-0 ml-4 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:"Mark as Read"})]})},A.id))}),o>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>l(A=>Math.max(1,A-1)),disabled:i===1,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",i," of ",o]}),s.jsx("button",{onClick:()=>l(A=>Math.min(o,A+1)),disabled:i===o,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})},AN=()=>{var x,w,v;const{state:e}=wn(),[t,r]=h.useState(!1),[n,a]=h.useState(!1),[i,l]=h.useState(null),[o,c]=h.useState(!0),[d,u]=h.useState(0);h.useEffect(()=>{var y,b;(((y=e.user)==null?void 0:y.role)==="master_admin"||((b=e.user)==null?void 0:b.role)==="college_admin")&&m()},[(x=e.user)==null?void 0:x.role,d]);const m=async()=>{try{c(!0);const y=await Q.getNotificationStats();l(y)}catch(y){console.error("Failed to load notification stats:",y)}finally{c(!1)}},f=async y=>{try{a(!0),await Q.createNotificationWithFile(y),r(!1),u(b=>b+1),m()}catch(b){throw b}finally{a(!1)}},p=()=>{if(!i)return;const y={"Report Generated":new Date().toLocaleString(),"Total Notifications Sent":i.totalNotifications,"Total Recipients":i.totalRecipients,"Read Notifications":i.totalRead,"Unread Notifications":i.totalUnread,"Read Percentage":`${i.readPercentage.toFixed(2)}%`,"Sent to Colleges":i.byRole.colleges,"Sent to Faculty":i.byRole.faculty,"Sent to Students":i.byRole.students,"High Priority":i.byPriority.high,"Medium Priority":i.byPriority.medium,"Low Priority":i.byPriority.low},b=Object.entries(y).map(([k,P])=>`${k},${P}`).join(`
`),S=new Blob([b],{type:"text/csv"}),j=window.URL.createObjectURL(S),N=document.createElement("a");N.href=j,N.download=`notification-report-${Date.now()}.csv`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(j),document.body.removeChild(N)},g=((w=e.user)==null?void 0:w.role)==="master_admin"||((v=e.user)==null?void 0:v.role)==="college_admin";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view all notifications"})]}),g&&s.jsxs("div",{className:"flex gap-3",children:[i&&s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Li,{size:20}),"Export Report"]}),s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",children:[s.jsx(zt,{size:20}),"Create Notification"]})]})]}),g&&i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Sent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalNotifications})]}),s.jsx(yn,{className:"h-10 w-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Recipients"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalRecipients})]}),s.jsx(Ge,{className:"h-10 w-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Read Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.readPercentage.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.totalRead," of ",i.totalRecipients]})]}),s.jsx(Re,{className:"h-10 w-10 text-purple-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Emails Sent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalRecipients})]}),s.jsx(ji,{className:"h-10 w-10 text-orange-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"}),"Distribution by Role"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Colleges"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.byRole.colleges})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${i.byRole.colleges/i.totalRecipients*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Faculty"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.byRole.faculty})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${i.byRole.faculty/i.totalRecipients*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Students"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.byRole.students})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${i.byRole.students/i.totalRecipients*100}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(qt,{className:"h-5 w-5"}),"Priority Distribution"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"High Priority"}),s.jsx("span",{className:"text-lg font-bold text-red-600",children:i.byPriority.high})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Medium Priority"}),s.jsx("span",{className:"text-lg font-bold text-yellow-600",children:i.byPriority.medium})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Low Priority"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:i.byPriority.low})]})]})]})]}),i.recentActivity&&i.recentActivity.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Notifications"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emails Sent"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.recentActivity.map(y=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.title}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:y.totalRecipients}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:y.emailsSent||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.createdAt).toLocaleDateString()})]},y._id))})]})})]})]}),s.jsx(PN,{refreshTrigger:d}),s.jsx(Te,{isOpen:t,onClose:()=>r(!1),title:"Create New Notification",size:"lg",children:s.jsx(Jl,{onSubmit:f,loading:n,onClose:()=>r(!1)})})]})},lc=({title:e,value:t,subtitle:r,icon:n,iconColor:a,trend:i,onClick:l})=>s.jsx("div",{className:`bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow ${l?"cursor-pointer":""}`,onClick:l,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r}),i&&s.jsxs("p",{className:`text-xs mt-1 font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"% from last month"]})]}),s.jsx(n,{className:`h-8 w-8 ${a}`})]})}),X6=({activities:e})=>{const t=n=>{switch(n){case"building":return s.jsx(Tt,{className:"h-5 w-5 text-blue-600"});case"file-text":return s.jsx(ze,{className:"h-5 w-5 text-green-600"});case"bell":return s.jsx(yn,{className:"h-5 w-5 text-purple-600"});case"user":return s.jsx($n,{className:"h-5 w-5 text-orange-600"});default:return s.jsx(di,{className:"h-5 w-5 text-gray-600"})}},r=n=>{switch(n){case"building":return"bg-blue-50";case"file-text":return"bg-green-50";case"bell":return"bg-purple-50";case"user":return"bg-orange-50";default:return"bg-gray-50"}};return s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(di,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Recent Platform Activity"})]})}),s.jsx("div",{className:"p-6",children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(di,{className:"mx-auto h-12 w-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No recent activity"})]}):s.jsx("div",{className:"space-y-4",children:e.map(n=>s.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-lg border-l-4 border-blue-500 ${r(n.icon)}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:t(n.icon)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900",children:n.description}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:n.details}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.timeAgo})]})]},n.id))})})]})},vn=Object.create(null);vn.open="0";vn.close="1";vn.ping="2";vn.pong="3";vn.message="4";vn.upgrade="5";vn.noop="6";const zc=Object.create(null);Object.keys(vn).forEach(e=>{zc[vn[e]]=e});const gh={type:"error",data:"parser error"},TN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",EN=typeof ArrayBuffer=="function",ON=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,hg=({type:e,data:t},r,n)=>TN&&t instanceof Blob?r?n(t):rv(t,n):EN&&(t instanceof ArrayBuffer||ON(t))?r?n(t):rv(new Blob([t]),n):n(vn[e]+(t||"")),rv=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function nv(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Km;function Z6(e,t){if(TN&&e.data instanceof Blob)return e.data.arrayBuffer().then(nv).then(t);if(EN&&(e.data instanceof ArrayBuffer||ON(e.data)))return t(nv(e.data));hg(e,!1,r=>{Km||(Km=new TextEncoder),t(Km.encode(r))})}const sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<sv.length;e++)bl[sv.charCodeAt(e)]=e;const J6=e=>{let t=e.length*.75,r=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)i=bl[e.charCodeAt(n)],l=bl[e.charCodeAt(n+1)],o=bl[e.charCodeAt(n+2)],c=bl[e.charCodeAt(n+3)],u[a++]=i<<2|l>>4,u[a++]=(l&15)<<4|o>>2,u[a++]=(o&3)<<6|c&63;return d},eO=typeof ArrayBuffer=="function",pg=(e,t)=>{if(typeof e!="string")return{type:"message",data:_N(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:tO(e.substring(1),t)}:zc[r]?e.length>1?{type:zc[r],data:e.substring(1)}:{type:zc[r]}:gh},tO=(e,t)=>{if(eO){const r=J6(e);return _N(r,t)}else return{base64:!0,data:e}},_N=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},MN="",rO=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,l)=>{hg(i,!1,o=>{n[l]=o,++a===r&&t(n.join(MN))})})},nO=(e,t)=>{const r=e.split(MN),n=[];for(let a=0;a<r.length;a++){const i=pg(r[a],t);if(n.push(i),i.type==="error")break}return n};function sO(){return new TransformStream({transform(e,t){Z6(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let Qm;function oc(e){return e.reduce((t,r)=>t+r.length,0)}function cc(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function aO(e,t){Qm||(Qm=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(n===0){if(oc(r)<1)break;const c=cc(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(oc(r)<2)break;const c=cc(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(oc(r)<8)break;const c=cc(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){o.enqueue(gh);break}a=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(oc(r)<a)break;const c=cc(r,a);o.enqueue(pg(i?c:Qm.decode(c),t)),n=0}if(a===0||a>e){o.enqueue(gh);break}}}})}const DN=4;function ct(e){if(e)return iO(e)}function iO(e){for(var t in ct.prototype)e[t]=ct.prototype[t];return e}ct.prototype.on=ct.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ct.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};ct.prototype.off=ct.prototype.removeListener=ct.prototype.removeAllListeners=ct.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};ct.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};ct.prototype.emitReserved=ct.prototype.emit;ct.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ct.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ju=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Mr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),lO="arraybuffer";function IN(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const oO=Mr.setTimeout,cO=Mr.clearTimeout;function wu(e,t){t.useNativeTimers?(e.setTimeoutFn=oO.bind(Mr),e.clearTimeoutFn=cO.bind(Mr)):(e.setTimeoutFn=Mr.setTimeout.bind(Mr),e.clearTimeoutFn=Mr.clearTimeout.bind(Mr))}const dO=1.33;function uO(e){return typeof e=="string"?mO(e):Math.ceil((e.byteLength||e.size)*dO)}function mO(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function $N(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fO(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function hO(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class pO extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class gg extends ct{constructor(t){super(),this.writable=!1,wu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new pO(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=pg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=fO(t);return r.length?"?"+r:""}}class gO extends gg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};nO(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,rO(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=$N()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let LN=!1;try{LN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xO=LN;function yO(){}class vO extends gO{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class gn extends ct{constructor(t,r,n){super(),this.createRequest=t,wu(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=IN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=gn.requestsCount++,gn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=yO,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete gn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}gn.requestsCount=0;gn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",av);else if(typeof addEventListener=="function"){const e="onpagehide"in Mr?"pagehide":"unload";addEventListener(e,av,!1)}}function av(){for(let e in gn.requests)gn.requests.hasOwnProperty(e)&&gn.requests[e].abort()}const bO=function(){const e=RN({xdomain:!1});return e&&e.responseType!==null}();class jO extends vO{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=bO&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new gn(RN,this.uri(),t)}}function RN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||xO))return new XMLHttpRequest}catch{}if(!t)try{return new Mr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const FN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wO extends gg{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=FN?{}:IN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;hg(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=$N()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Vm=Mr.WebSocket||Mr.MozWebSocket;class NO extends wO{createSocket(t,r,n){return FN?new Vm(t,r,n):r?new Vm(t,r):new Vm(t)}doWrite(t,r){this.ws.send(r)}}class SO extends gg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=aO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=sO();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const kO={websocket:NO,webtransport:SO,polling:jO},CO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,PO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=CO.exec(e||""),i={},l=14;for(;l--;)i[PO[l]]=a[l]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=AO(i,i.path),i.queryKey=TO(i,i.query),i}function AO(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function TO(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const yh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bc=[];yh&&addEventListener("offline",()=>{Bc.forEach(e=>e())},!1);class Ss extends ct{constructor(t,r){if(super(),this.binaryType=lO,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=xh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=xh(r.host).host);wu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hO(this.opts.query)),yh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=DN,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ss.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ss.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=uO(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ju(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ss.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Bc.indexOf(this._offlineEventListener);n!==-1&&Bc.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ss.protocol=DN;class EO extends Ss{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Ss.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ss.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const l=m=>{const f=new Error("probe error: "+m);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function o(){l("transport closed")}function c(){l("socket closed")}function d(m){r&&m.name!==r.name&&i()}const u=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let OO=class extends EO{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>kO[a]).filter(a=>!!a)),super(t,n)}};function _O(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=xh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const MO=typeof ArrayBuffer=="function",DO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,zN=Object.prototype.toString,IO=typeof Blob=="function"||typeof Blob<"u"&&zN.call(Blob)==="[object BlobConstructor]",$O=typeof File=="function"||typeof File<"u"&&zN.call(File)==="[object FileConstructor]";function xg(e){return MO&&(e instanceof ArrayBuffer||DO(e))||IO&&e instanceof Blob||$O&&e instanceof File}function Uc(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Uc(e[r]))return!0;return!1}if(xg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Uc(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Uc(e[r]))return!0;return!1}function LO(e){const t=[],r=e.data,n=e;return n.data=vh(r,t),n.attachments=t.length,{packet:n,buffers:t}}function vh(e,t){if(!e)return e;if(xg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=vh(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=vh(e[n],t));return r}return e}function RO(e,t){return e.data=bh(e.data,t),delete e.attachments,e}function bh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=bh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=bh(e[r],t));return e}const FO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zO=5;var Se;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class BO{constructor(t){this.replacer=t}encode(t){return(t.type===Se.EVENT||t.type===Se.ACK)&&Uc(t)?this.encodeAsBinary({type:t.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Se.BINARY_EVENT||t.type===Se.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=LO(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function iv(e){return Object.prototype.toString.call(e)==="[object Object]"}class yg extends ct{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Se.BINARY_EVENT;n||r.type===Se.BINARY_ACK?(r.type=n?Se.EVENT:Se.ACK,this.reconstructor=new UO(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(xg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Se[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Se.BINARY_EVENT||n.type===Se.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(i,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(yg.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Se.CONNECT:return iv(r);case Se.DISCONNECT:return r===void 0;case Se.CONNECT_ERROR:return typeof r=="string"||iv(r);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&FO.indexOf(r[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class UO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=RO(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yg,Encoder:BO,get PacketType(){return Se},protocol:zO},Symbol.toStringTag,{value:"Module"}));function Xr(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const WO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class BN extends ct{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xr(t,"open",this.onopen.bind(this)),Xr(t,"packet",this.onpacket.bind(this)),Xr(t,"error",this.onerror.bind(this)),Xr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(WO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:Se.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,m=r.pop();this._registerAckCallback(u,m),l.id=u}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(l,o)=>l?a(l):n(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(t);break;case Se.ACK:case Se.BINARY_ACK:this.onack(t);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Se.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ri(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ri.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Ri.prototype.reset=function(){this.attempts=0};Ri.prototype.setMin=function(e){this.ms=e};Ri.prototype.setMax=function(e){this.max=e};Ri.prototype.setJitter=function(e){this.jitter=e};class jh extends ct{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,wu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ri({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||qO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new OO(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Xr(r,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Xr(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xr(t,"ping",this.onping.bind(this)),Xr(t,"data",this.ondata.bind(this)),Xr(t,"error",this.onerror.bind(this)),Xr(t,"close",this.onclose.bind(this)),Xr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){ju(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new BN(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ll={};function qc(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=_O(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,l=ll[a]&&i in ll[a].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new jh(n,t):(ll[a]||(ll[a]=new jh(n,t)),c=ll[a]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(qc,{Manager:jh,Socket:BN,io:qc,connect:qc});const KO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},lv=new URL(kn.replace("/api","")||window.location.origin).origin,QO=()=>{const[e,t]=h.useState(0),[r,n]=h.useState({lastLogin:null,totalLogins:0});return h.useEffect(()=>{let a=!0;Q.getActivitySummary().then(o=>{a&&(t(o.activeStudents||0),n(o.adminLoginSummary||{lastLogin:null,totalLogins:0}))}).catch(()=>{});let i=null;if((()=>{try{const c=new URL(lv).hostname;return!!(c.includes("localhost")||c===window.location.hostname||KO)}catch{return!1}})())try{i=qc(lv,{path:"/socket.io",transports:["websocket","polling"],auth:{token:typeof window<"u"?localStorage.getItem("token"):null}}),i.on("activity:update",o=>{a&&t(o.activeStudents||0)})}catch(o){console.warn("Socket initialization skipped or failed:",o)}return()=>{if(a=!1,i){i.off("activity:update");try{i.disconnect()}catch{}}}},[]),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:s.jsx(Ge,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Active Students (last 15m)"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Admin Logins"}),s.jsxs("p",{className:"text-sm text-gray-800",children:["Total: ",r.totalLogins]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Last: ",r.lastLogin?new Date(r.lastLogin).toLocaleString():"N/A"]})]})]})},VO=({data:e,onActionClick:t})=>s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(De,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Pending Actions"})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg cursor-pointer hover:bg-orange-100 transition-colors",onClick:()=>t==null?void 0:t("test-assignments"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(In,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Test Assignments"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.collegeAssignments||0," pending college responses"]})]})]}),s.jsx("div",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:(e.collegeAssignments||0)>0?"Action Required":"All Clear"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>t==null?void 0:t("college-credentials"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"New College Credentials"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.newCollegeCredentials||0," colleges haven't logged in yet"]})]})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",onClick:r=>{r.stopPropagation(),t==null||t("resend-credentials")},children:"Resend"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Tests Completed Today"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.testsCompletedToday," tests completed"]})]})]}),s.jsx("div",{className:"text-green-600 text-sm font-medium",children:" Done"})]})]})]}),HO=({data:e})=>{const t=({label:r,percentage:n,color:a,newCount:i})=>{const l=n>=0,o=Math.abs(n);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:r}),s.jsxs("div",{className:"flex items-center gap-1",children:[i&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",i," new"]}),s.jsxs("span",{className:`text-sm font-medium flex items-center gap-1 ${l?"text-green-600":"text-red-600"}`,children:[l?s.jsx(qt,{size:14}):s.jsx(kN,{size:14}),l?"+":"",n,"%"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${a}`,style:{width:`${Math.min(o,100)}%`}})})]})};return s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Platform Growth (Last 30 Days)"})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(t,{label:"College Growth",percentage:e.collegeGrowthPercentage,color:"bg-green-600",newCount:e.newColleges}),s.jsx(t,{label:"Student Enrollment",percentage:e.studentGrowthPercentage,color:"bg-blue-600",newCount:e.newStudents}),s.jsx(t,{label:"Faculty Addition",percentage:e.newFaculty>0?25:0,color:"bg-purple-600",newCount:e.newFaculty}),s.jsx(t,{label:"Test Completion Rate",percentage:e.testCompletionGrowthPercentage,color:"bg-orange-600"})]})]})},UN=({data:e,filename:t,title:r="Export Data",exportArrayKey:n})=>{const[a,i]=h.useState(!1),[l,o]=h.useState(!1),c=()=>{i(!0);try{let f=e;if(Array.isArray(e))f=e;else if(n&&e&&Array.isArray(e[n]))f=e[n];else if(e&&Array.isArray(e.recentActivity))f=e.recentActivity;else if(e&&Array.isArray(e.recentLogins))f=e.recentLogins;else if(e&&typeof e=="object"){const g=Object.values(e).find(x=>Array.isArray(x));g&&(f=g)}const p=localStorage.getItem("token");fetch("/api/admin/export",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({format:"csv",filename:t,data:f})}).then(async g=>{if(!g.ok){const x=await g.json().catch(()=>({}));throw new Error(x.error||"Export failed")}return g.blob()}).then(g=>{const x=window.URL.createObjectURL(g),w=document.createElement("a");w.href=x,w.download=`${t}.csv`,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(x)}).catch(g=>{console.error("CSV export error:",g),alert("Failed to export CSV")})}catch(f){console.error("CSV export error:",f),alert("Failed to export CSV")}finally{i(!1),o(!1)}},d=async()=>{i(!0);try{const f=await u(e,r);m(f,`${t}.pdf`,"application/pdf")}catch(f){console.error("PDF export error:",f),alert("Failed to export PDF")}finally{i(!1),o(!1)}},u=async(f,p)=>`
      <html>
        <head>
          <title>${p}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1 { color: #1f2937; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; }
            h2 { color: #374151; margin-top: 30px; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #d1d5db; padding: 8px; text-align: left; }
            th { background-color: #f3f4f6; }
            .metric { display: flex; justify-content: space-between; margin: 10px 0; }
          </style>
        </head>
        <body>
          <h1>${p}</h1>
          <p>Generated on: ${new Date().toLocaleString()}</p>
          
          ${f.overview?`
            <h2>Overview Statistics</h2>
            ${Object.entries(f.overview).map(([x,w])=>`<div class="metric"><span>${x.replace(/([A-Z])/g," $1").trim()}:</span><span>${w}</span></div>`).join("")}
          `:""}
          
          ${f.platformGrowth?`
            <h2>Platform Growth (Last 30 Days)</h2>
            ${Object.entries(f.platformGrowth).map(([x,w])=>`<div class="metric"><span>${x.replace(/([A-Z])/g," $1").trim()}:</span><span>${w}</span></div>`).join("")}
          `:""}
          
          ${f.recentActivity?`
            <h2>Recent Activity</h2>
            <table>
              <tr><th>Type</th><th>Description</th><th>Details</th><th>Time</th></tr>
              ${f.recentActivity.map(x=>`<tr>
                  <td>${x.type}</td>
                  <td>${x.description}</td>
                  <td>${x.details}</td>
                  <td>${x.timeAgo}</td>
                </tr>`).join("")}
            </table>
          `:""}
        </body>
      </html>
    `,m=(f,p,g)=>{const x=new Blob([f],{type:g}),w=window.URL.createObjectURL(x),v=document.createElement("a");v.href=w,v.download=p,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(w)};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!l),disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2",children:[a?s.jsx(be,{size:"sm"}):s.jsx(Li,{size:16}),"Export"]}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-20",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{onClick:c,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[s.jsx(wN,{size:16}),"Export as CSV"]}),s.jsxs("button",{onClick:d,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",children:[s.jsx(ze,{size:16}),"Export as PDF"]})]})})]})]})},qN=({isOpen:e,onClose:t,questions:r,sectionName:n,onEditQuestion:a,onDeleteQuestion:i,readOnly:l=!1})=>{const[o,c]=h.useState(null),[d,u]=h.useState(null);if(!e)return null;const m=w=>{c(w),u({...r[w]})},f=()=>{if(o!==null&&d){if(!x(d)){alert("Please fill all fields correctly");return}a(o,d),c(null),u(null)}},p=()=>{c(null),u(null)},g=w=>{confirm(`Are you sure you want to delete question ${w+1}?`)&&(i(w),o===w&&(c(null),u(null)))},x=w=>{const v=w.questionText.trim()!==""||!!w.questionImageUrl&&w.questionImageUrl.trim()!=="",y=["A","B","C","D"].every(b=>{var N;const S=w.options[b].trim()!=="",j=!!((N=w.optionImages)!=null&&N[b])&&w.optionImages[b].trim()!=="";return S||j});return!!v&&!!y&&["A","B","C","D"].includes(w.correctAnswer)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 bg-white",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Et,{className:"w-6 h-6"}),"Question Preview: ",n]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total Questions: ",r.length]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ur,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:"No questions in this section yet."})}):s.jsx("div",{className:"space-y-4",children:r.map((w,v)=>s.jsx("div",{className:`border rounded-lg p-4 ${o===v?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:o===v&&d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h4",{className:"font-medium text-blue-900",children:["Editing Question ",v+1]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:p,className:"px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 flex items-center gap-1",children:[s.jsx(Es,{size:14}),"Cancel"]}),s.jsxs("button",{onClick:f,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",children:[s.jsx(wi,{size:14}),"Save"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:d.questionText,onChange:y=>u({...d,questionText:y.target.value}),placeholder:"Enter question text (required for text-only questions)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Image URL"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"text",value:d.questionImageUrl||"",onChange:y=>u({...d,questionImageUrl:y.target.value}),placeholder:"Enter image URL (required for image-only questions)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),d.questionImageUrl&&s.jsxs("div",{className:"mt-2",children:[s.jsx("img",{src:d.questionImageUrl,alt:"Question",className:"max-w-full h-auto rounded border shadow-sm",style:{maxHeight:"200px"}}),s.jsx("button",{onClick:()=>u({...d,questionImageUrl:""}),className:"mt-1 text-sm text-red-600 hover:text-red-700",children:"Remove Image"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["A","B","C","D"].map(y=>{var b,S;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Option ",y]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:d.options[y],onChange:j=>u({...d,options:{...d.options,[y]:j.target.value}}),placeholder:"Enter option text (required for text-only)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-600 mb-1",children:["Option ",y," Image URL"]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"text",value:((b=d.optionImages)==null?void 0:b[y])||"",onChange:j=>u({...d,optionImages:{...d.optionImages,[y]:j.target.value}}),placeholder:"Enter image URL (required for image-only)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})}),((S=d.optionImages)==null?void 0:S[y])&&s.jsxs("div",{className:"mt-2",children:[s.jsx("img",{src:d.optionImages[y],alt:`Option ${y}`,className:"max-w-full h-auto rounded border shadow-sm",style:{maxHeight:"100px"}}),s.jsx("button",{onClick:()=>u({...d,optionImages:{...d.optionImages,[y]:""}}),className:"mt-1 text-sm text-red-600 hover:text-red-700",children:"Remove Image"})]})]})]})]},y)})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),s.jsxs("select",{value:d.correctAnswer,onChange:y=>u({...d,correctAnswer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:v+1}),s.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:[w.marks," ",w.marks===1?"mark":"marks"]})]}),s.jsxs("div",{className:"mb-3",children:[w.questionText&&w.questionText.trim()!==""&&s.jsx("p",{className:"text-gray-900 font-medium mb-3",children:w.questionText}),w.questionImageUrl&&w.questionImageUrl.trim()!==""&&s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:w.questionImageUrl,alt:`Question ${v+1}`,className:"max-w-full h-auto rounded-lg border shadow-sm",style:{maxHeight:"400px"},onError:y=>{y.currentTarget.style.display="none",console.error("Failed to load image:",w.questionImageUrl)}})}),(!w.questionText||w.questionText.trim()==="")&&(!w.questionImageUrl||w.questionImageUrl.trim()==="")&&s.jsx("p",{className:"text-gray-500 italic",children:"(No question text or image)"})]})]}),!l&&s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>m(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit question",children:s.jsx(xd,{size:16})}),s.jsx("button",{onClick:()=>g(v),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete question",children:s.jsx(vr,{size:16})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(w.options).map(([y,b])=>s.jsx("div",{className:`p-3 rounded-lg border transition-colors ${w.correctAnswer===y?"bg-green-50 border-green-300":"bg-gray-50 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-sm font-bold ${w.correctAnswer===y?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:y}),s.jsxs("div",{className:"flex-1",children:[b&&b.trim()!==""&&s.jsx("span",{className:"text-sm text-gray-700",children:b}),w.optionImages&&w.optionImages[y]&&s.jsx("img",{src:w.optionImages[y],alt:`Option ${y}`,className:"mt-2 max-w-full h-auto rounded border",style:{maxHeight:"200px"},onError:S=>{var j;S.currentTarget.style.display="none",console.error("Failed to load option image:",(j=w.optionImages)==null?void 0:j[y])}}),(!b||b.trim()==="")&&(!w.optionImages||!w.optionImages[y])&&s.jsx("span",{className:"text-sm text-gray-500 italic",children:"(No text or image)"}),w.correctAnswer===y&&s.jsx("div",{className:"text-green-600 text-xs font-medium mt-1",children:""})]})]})},y))})]})},v))})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})})]})})},GO=({sections:e,onSectionsChange:t,onAddQuestions:r,onUploadFile:n,uploadingSectionIndex:a,fileUploadLoading:i})=>{const[l,o]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(null),f=()=>{const N={sectionName:`Section ${e.length+1}`,sectionDuration:30,numberOfQuestions:10,marksPerQuestion:1,questions:[]};t([...e,N])},p=N=>{t(e.filter((k,P)=>P!==N))},g=N=>{o(N),d({...e[N]})},x=()=>{if(c===null||l===null)return;const N=e.map((k,P)=>P===l?c:k);t(N),o(null),d(null)},w=()=>{o(null),d(null)},v=()=>e.reduce((N,k)=>N+k.sectionDuration,0),y=()=>e.reduce((N,k)=>N+k.numberOfQuestions,0),b=()=>e.reduce((N,k)=>N+k.numberOfQuestions*k.marksPerQuestion,0),S=(N,k,P)=>{const A=[...e];A[N].questions[k]=P,t(A)},j=(N,k)=>{const P=[...e];P[N].questions.splice(k,1),t(P)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Test Sections"}),s.jsxs("button",{type:"button",onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:16}),"Add Section"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sections"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[v()," min"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Questions"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y()})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b()})]})]}),l!==null&&c&&s.jsxs("div",{className:"p-4 border-2 border-blue-500 rounded-lg bg-blue-50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Edit Section"}),s.jsx("button",{type:"button",onClick:w,className:"text-gray-500 hover:text-gray-700",children:s.jsx(Es,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Name"}),s.jsx("input",{type:"text",value:c.sectionName,onChange:N=>d({...c,sectionName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Quantitative Aptitude"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(De,{className:"inline w-4 h-4 mr-1"}),"Section Duration (minutes)"]}),s.jsx("input",{type:"number",min:"5",max:"180",value:c.sectionDuration,onChange:N=>d({...c,sectionDuration:parseInt(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),"Number of Questions"]}),s.jsx("input",{type:"number",min:"1",max:"100",value:c.numberOfQuestions,onChange:N=>d({...c,numberOfQuestions:parseInt(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marks per Question"}),s.jsx("input",{type:"number",min:"1",max:"10",value:c.marksPerQuestion,onChange:N=>d({...c,marksPerQuestion:parseInt(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(wi,{size:16}),"Save Changes"]})]})]}),s.jsx("div",{className:"space-y-3",children:e.map((N,k)=>s.jsx("div",{className:`p-4 border rounded-lg ${l===k?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-lg mb-2",children:N.sectionName}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(De,{size:16,className:"text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[N.sectionDuration," min"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Na,{size:16,className:"text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Questions:"}),s.jsx("span",{className:"font-medium",children:N.numberOfQuestions})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Marks/Q:"}),s.jsx("span",{className:"font-medium ml-1",children:N.marksPerQuestion})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Marks:"}),s.jsx("span",{className:"font-medium ml-1",children:N.numberOfQuestions*N.marksPerQuestion})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Questions Added: ",N.questions.length," / ",N.numberOfQuestions]}),N.questions.length>0&&s.jsxs("button",{type:"button",onClick:()=>m(k),className:"text-sm px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 font-medium flex items-center gap-1",children:[s.jsx(Et,{size:14}),"Preview Questions"]}),N.questions.length<N.numberOfQuestions&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",onClick:()=>r(k),className:"text-sm px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium flex items-center gap-1",children:[s.jsx(zt,{size:14}),"Add Questions"]}),s.jsxs("label",{className:"text-sm px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 font-medium cursor-pointer flex items-center gap-1",children:[s.jsx(cn,{size:14}),"Upload JSON",s.jsx("input",{type:"file",accept:".json,.csv",onChange:P=>{var O;const A=(O=P.target.files)==null?void 0:O[0];A&&(n(k,A),P.target.value="")},className:"hidden",disabled:i})]})]}),N.questions.length===N.numberOfQuestions&&s.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Complete"})]}),i&&a===k&&s.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded flex items-center gap-2",children:[s.jsx(be,{size:"sm"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Uploading and processing file..."})]}),N.questions.length!==N.numberOfQuestions&&s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${N.questions.length/N.numberOfQuestions*100}%`}})})]})]}),s.jsxs("div",{className:"ml-4 flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>g(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Edit Section",children:s.jsx(xd,{size:16})}),s.jsx("button",{type:"button",onClick:()=>p(k),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete Section",children:s.jsx(vr,{size:16})})]})]})},k))}),e.length===0&&s.jsx("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(zt,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Sections Created Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Add Section" to create your first section'}),s.jsx("p",{className:"text-sm text-gray-500",children:"Each section can have its own name, duration, number of questions, and marks"})]}),s.jsxs("button",{type:"button",onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[s.jsx(zt,{size:20}),"Create First Section"]})]})}),u!==null&&s.jsx(qN,{isOpen:!0,onClose:()=>m(null),questions:e[u].questions,sectionName:e[u].sectionName,onEditQuestion:(N,k)=>S(u,N,k),onDeleteQuestion:N=>j(u,N)})]})},YO=({isOpen:e,onClose:t,questions:r,sectionName:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 bg-white",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Et,{className:"w-6 h-6"}),"Coding Questions Preview: ",n]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total Questions: ",r.length]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ur,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:"No coding questions in this section yet."})}):s.jsx("div",{className:"space-y-6",children:r.map((a,i)=>{var l;return s.jsx("div",{className:"border rounded-lg p-6 bg-white space-y-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:i+1}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:a.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium
                          ${a.difficulty==="easy"?"bg-green-100 text-green-800":a.difficulty==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.difficulty.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(gr,{className:"w-4 h-4"}),((l=a.supported_languages)==null?void 0:l.join(", "))||"Python, JavaScript"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(De,{className:"w-4 h-4"}),a.timeLimit||a.time_limit||3600,"s"]})]}),s.jsxs("div",{className:"prose max-w-none",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700",children:a.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Constraints"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a.constraints})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Input Format"}),s.jsx("p",{className:"text-gray-700",children:a.input_format})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Output Format"}),s.jsx("p",{className:"text-gray-700",children:a.output_format})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Sample Input"}),s.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm font-mono",children:a.sample_input})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Sample Output"}),s.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm font-mono",children:a.sample_output})]})]}),a.explanation&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Explanation"}),s.jsx("p",{className:"text-gray-700",children:a.explanation})]})]})]})})},a._id)})})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})})]})}):null,XO=({selectedQuestions:e,onQuestionsChange:t})=>{const[r,n]=h.useState([]),[a,i]=h.useState([]),[l,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState("all"),[f,p]=h.useState(!1);h.useEffect(()=>{g()},[]),h.useEffect(()=>{x()},[r,c,u]);const g=async()=>{o(!0);try{const j=await Q.get("/coding/questions"),N=Array.isArray(j)?j:j.data||[],k=await Promise.all(N.map(async P=>{var D,F;const A=P.id||P._id,O=await Q.get(`/coding/questions/${A}`),T=O.data||O;return{...T,id:T._id||T.id,description:T.description||"",constraints:T.constraints||"",input_format:T.input_format||"",output_format:T.output_format||"",sample_input:T.sample_input||"",sample_output:T.sample_output||"",explanation:T.explanation||"",memory_limit:T.memory_limit||512,time_limit:T.time_limit||2e3,supported_languages:T.supported_languages||["python","javascript"],tags:T.tags||[],points:((D=e.find(U=>U.id===P.id))==null?void 0:D.points)||100,timeLimit:((F=e.find(U=>U.id===P.id))==null?void 0:F.timeLimit)||3600}}));n(k)}catch(j){console.error("Error fetching coding questions:",j);const N=j instanceof Error?j.message:"Failed to fetch coding questions";alert(N)}finally{o(!1)}},x=()=>{let j=[...r];c&&(j=j.filter(k=>k.title.toLowerCase().includes(c.toLowerCase())||k.tags.some(P=>P.toLowerCase().includes(c.toLowerCase())))),u!=="all"&&(j=j.filter(k=>k.difficulty===u));const N=new Set(e.map(k=>k.id));j=j.filter(k=>!N.has(k.id)),i(j)},w=j=>{!j._id&&!j.id||t([...e,{...j,id:j._id||j.id,points:100,timeLimit:3600}])},v=j=>{j&&t(e.filter(N=>N.id!==j))},y=(j,N)=>{j&&t(e.map(k=>k.id===j?{...k,points:N}:k))},b=(j,N)=>{j&&t(e.map(k=>k.id===j?{...k,timeLimit:N}:k))},S=j=>{switch(j){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5 text-blue-600"}),"Coding Questions"]}),s.jsxs("button",{type:"button",onClick:()=>p(!f),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(zt,{className:"w-4 h-4"}),"Add Question"]})]}),e.length>0&&s.jsx("div",{className:"space-y-3",children:e.map((j,N)=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["#",N+1]}),s.jsx("h4",{className:"font-medium text-gray-800",children:j.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(j.difficulty)}`,children:j.difficulty.toUpperCase()})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:j.tags.map(k=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:k},k))}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Points:"}),s.jsx("input",{type:"number",value:j.points||100,onChange:k=>y(j.id,parseInt(k.target.value)),className:"w-24 px-3 py-1 border rounded focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Time Limit (sec):"}),s.jsx("input",{type:"number",value:j.timeLimit||3600,onChange:k=>b(j.id,parseInt(k.target.value)),className:"w-24 px-3 py-1 border rounded focus:ring-2 focus:ring-blue-500",min:"60",step:"60"})]})]})]}),s.jsx("button",{type:"button",onClick:()=>v(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(vr,{className:"w-4 h-4"})})]})},j.id))}),e.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed rounded-lg",children:'No coding questions added yet. Click "Add Question" to select questions.'}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Select Coding Questions"}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search questions...",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:u,onChange:j=>m(j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Difficulties"}),s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"No questions available"}):s.jsx("div",{className:"space-y-3",children:a.map(j=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(j),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:j.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(j.difficulty)}`,children:j.difficulty.toUpperCase()})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.tags.map(N=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:N},N))})]}),s.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),w(j)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]})},j.id))})}),s.jsx("div",{className:"p-6 border-t flex justify-end",children:s.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Done"})})]})})]})},_l=({onSubmit:e,loading:t,initialData:r})=>{const n=_=>{const B=new Date(_),K=B.getFullYear(),oe=String(B.getMonth()+1).padStart(2,"0"),Ne=String(B.getDate()).padStart(2,"0"),xe=String(B.getHours()).padStart(2,"0"),Be=String(B.getMinutes()).padStart(2,"0");return`${K}-${oe}-${Ne}T${xe}:${Be}`},a=_=>["Assessment","Mock Test","Specific Company Test"].includes(_),i=(r==null?void 0:r.testType)||"Assessment",l=(r==null?void 0:r.hasSections)!==void 0?r.hasSections:a(i),[o,c]=h.useState({testName:(r==null?void 0:r.testName)||"",testDescription:(r==null?void 0:r.testDescription)||"",subject:(r==null?void 0:r.subject)||"Technical",testType:i,companyName:(r==null?void 0:r.companyName)||"",topics:(r==null?void 0:r.topics)||[],difficulty:(r==null?void 0:r.difficulty)||"Medium",numberOfQuestions:(r==null?void 0:r.numberOfQuestions)||10,marksPerQuestion:(r==null?void 0:r.marksPerQuestion)||1,duration:(r==null?void 0:r.duration)||60,startDateTime:r!=null&&r.startDateTime?n(r.startDateTime):"",endDateTime:r!=null&&r.endDateTime?n(r.endDateTime):"",questions:(r==null?void 0:r.questions)||[],hasSections:l,sections:(r==null?void 0:r.sections)||[],hasCodingSection:(r==null?void 0:r.hasCodingSection)||!1,codingQuestions:(r==null?void 0:r.codingQuestions)||[]}),[d,u]=h.useState({questionText:"",questionImageUrl:"",options:{A:"",B:"",C:"",D:""},optionImages:{A:"",B:"",C:"",D:""},correctAnswer:"A",marks:1}),[m,f]=h.useState(null),[p,g]=h.useState(!1),[x,w]=h.useState({}),[v,y]=h.useState(null),[b,S]=h.useState(null),[j,N]=h.useState(null),[k,P]=h.useState(!1),[A,O]=h.useState(!1),[T,D]=h.useState(!1),[F,U]=h.useState(!1),$=["Verbal","Reasoning","Technical","Arithmetic","Communication"],C=["Assessment","Practice","Assignment","Mock Test","Specific Company Test"],R=["Easy","Medium","Hard"],L={Verbal:["Vocabulary","Grammar","Reading Comprehension","Synonyms & Antonyms","Sentence Completion"],Reasoning:["Logical Reasoning","Analytical Reasoning","Verbal Reasoning","Non-Verbal Reasoning","Critical Thinking"],Technical:["Programming","Data Structures","Algorithms","Database","Networking","Operating Systems"],Arithmetic:["Basic Math","Algebra","Geometry","Statistics","Probability","Number Systems"],Communication:["Written Communication","Verbal Communication","Presentation Skills","Business Communication","Email Etiquette"]},[E,I]=ni.useState(L),[X,W]=ni.useState("");ni.useEffect(()=>{let _=!0;return(async()=>{try{const B=await Q.getSubjectTopics(o.subject);_&&B&&B.topics&&I(K=>({...K,[o.subject]:Array.from(new Set([...K[o.subject]||[],...B.topics]))}))}catch{}})(),()=>{_=!1}},[o.subject]);const le=(_,B)=>{c(K=>({...K,topics:B?[...K.topics,_]:K.topics.filter(oe=>oe!==_)}))},ye=async(_,B,K)=>{if(!_)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(_.type)){alert("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(_.size>5*1024*1024){alert("Image size must be less than 5MB");return}U(!0);try{const Ne=await Q.uploadQuestionImage(_);B==="question"?b?S(xe=>xe?{...xe,questionImageUrl:Ne.imageUrl}:null):u(xe=>({...xe,questionImageUrl:Ne.imageUrl})):B==="option"&&K&&(b?S(xe=>xe?{...xe,optionImages:{...xe.optionImages,[K]:Ne.imageUrl}}:null):u(xe=>({...xe,optionImages:{...xe.optionImages,[K]:Ne.imageUrl}})))}catch(Ne){console.error("Image upload error:",Ne),alert("Failed to upload image. Please try again.")}finally{U(!1)}},me=_=>{const B=["Assessment","Mock Test","Specific Company Test"].includes(_);c(K=>{var oe;return{...K,testType:_,subject:_==="Practice"?K.subject:"Technical",topics:[],hasSections:B,sections:B?(oe=K.sections)!=null&&oe.length?K.sections:[]:[],questions:B?[]:K.questions,hasCodingSection:!1}})},pe=_=>{c(B=>({...B,sections:_}))},we=_=>{f(_),g(!0)},Wt=async(_,B)=>{P(!0),N(_);try{const K=await Q.extractQuestionsFromFile(B);if(K.questions&&K.questions.length>0){const oe=o.sections[_],Ne=oe.numberOfQuestions-oe.questions.length;if(Ne<=0){alert(`Section "${oe.sectionName}" already has maximum questions`),P(!1),N(null);return}const xe=K.questions.slice(0,Ne).map(Vr=>({...Vr,marks:oe.marksPerQuestion})),Be=[...o.sections];Be[_]={...oe,questions:[...oe.questions,...xe]},c(Vr=>({...Vr,sections:Be})),alert(`Successfully added ${xe.length} questions to section "${oe.sectionName}"`)}}catch(K){console.error("File upload error:",K),alert(K.message||"Failed to upload file")}finally{P(!1),N(null)}},J=(_,B)=>{let K;_!==null?K=o.sections[_].questions[B]:K=o.questions[B],S({...K}),y(B),f(_)},ge=(_,B)=>{if(m!==null){const K=[...o.sections];K[m].questions[_]=B,c(oe=>({...oe,sections:K}))}},he=_=>{m!==null&&ve(_,m)},M=()=>{if(!(!b||v===null)){if(!re()){alert("Please fill all question fields correctly");return}if(m!==null){const _=[...o.sections],B=_[m];B.questions[v]={...b,marks:B.marksPerQuestion},c(K=>({...K,sections:_}))}else{const _=[...o.questions];_[v]={...b,marks:o.marksPerQuestion},c(B=>({...B,questions:_}))}S(null),y(null),f(null)}},Z=()=>{S(null),y(null),f(null)},re=()=>b?b.questionText.trim()!==""&&b.options.A.trim()!==""&&b.options.B.trim()!==""&&b.options.C.trim()!==""&&b.options.D.trim()!==""&&["A","B","C","D"].includes(b.correctAnswer):!1,fe=()=>{if(!H()){alert("Please fill all question fields correctly");return}if(o.hasSections&&m!==null){const _=o.sections[m];if(_.questions.length>=_.numberOfQuestions){alert(`Maximum ${_.numberOfQuestions} questions allowed for this section`);return}const B=[...o.sections];B[m]={..._,questions:[..._.questions,{...d,marks:_.marksPerQuestion}]},c(K=>({...K,sections:B}))}else{if(o.questions.length>=o.numberOfQuestions){alert(`Maximum ${o.numberOfQuestions} questions allowed`);return}c(_=>({..._,questions:[..._.questions,{...d,marks:o.marksPerQuestion}]}))}u({questionText:"",options:{A:"",B:"",C:"",D:""},correctAnswer:"A",marks:o.marksPerQuestion})},ve=(_,B)=>{if(typeof B=="number"){const K=[...o.sections];K[B]={...K[B],questions:K[B].questions.filter((oe,Ne)=>Ne!==_)},c(oe=>({...oe,sections:K}))}else c(K=>({...K,questions:K.questions.filter((oe,Ne)=>Ne!==_)}))},H=()=>d.questionText.trim()!==""&&d.options.A.trim()!==""&&d.options.B.trim()!==""&&d.options.C.trim()!==""&&d.options.D.trim()!==""&&["A","B","C","D"].includes(d.correctAnswer),ce=()=>{var B;const _={};if(o.testName.trim()||(_.testName="Test name is required"),o.testDescription.trim()||(_.testDescription="Description is required"),o.startDateTime||(_.startDateTime="Start date is required"),o.endDateTime||(_.endDateTime="End date is required"),o.testType==="Practice"&&o.hasCodingSection)return(!o.codingQuestions||o.codingQuestions.length===0)&&(_.codingQuestions="At least one coding question is required"),o.testName.trim()||(_.testName="Test name is required"),o.testDescription.trim()||(_.testDescription="Description is required"),o.startDateTime||(_.startDateTime="Start date is required"),o.endDateTime||(_.endDateTime="End date is required"),o.startDateTime&&o.endDateTime&&new Date(o.startDateTime)>=new Date(o.endDateTime)&&(_.endDateTime="End date must be after start date"),w(_),{isValid:Object.keys(_).length===0,errors:_};if(o.startDateTime&&o.endDateTime&&new Date(o.startDateTime)>=new Date(o.endDateTime)&&(_.endDateTime="End date must be after start date"),o.testType==="Specific Company Test"&&!((B=o.companyName)!=null&&B.trim())&&(_.companyName="Company name is required for Specific Company tests"),o.hasCodingSection&&(!o.codingQuestions||o.codingQuestions.length===0)&&(_.codingQuestions="At least one coding question is required when coding section is enabled"),o.hasSections)if(!o.sections||o.sections.length===0)_.sections="At least one section is required";else for(let K=0;K<o.sections.length;K++){const oe=o.sections[K];if(oe.questions.length!==oe.numberOfQuestions){_.sections=`Section "${oe.sectionName}" needs exactly ${oe.numberOfQuestions} questions`;break}}else o.numberOfQuestions<1&&(_.numberOfQuestions="Must have at least 1 question"),o.marksPerQuestion<1&&(_.marksPerQuestion="Marks must be at least 1"),o.duration<5&&(_.duration="Duration must be at least 5 minutes"),o.questions.length!==o.numberOfQuestions&&(_.questions=`You need exactly ${o.numberOfQuestions} questions`);return w(_),{isValid:Object.keys(_).length===0,errors:_}},_e=async _=>{var K,oe;_.preventDefault(),console.log("Form submitted with data:",{hasSections:o.hasSections,sectionsCount:(K=o.sections)==null?void 0:K.length,sections:(oe=o.sections)==null?void 0:oe.map(Ne=>({name:Ne.sectionName,questionsAdded:Ne.questions.length,questionsRequired:Ne.numberOfQuestions}))});const B=ce();if(!B.isValid){console.log("Validation failed. Errors:",B.errors);const Ne=Object.values(B.errors)[0];Ne&&alert(`Validation Error: ${Ne}`);return}try{const Ne={testName:o.testName,testDescription:o.testDescription,subject:o.subject,testType:o.testType,companyName:o.companyName,topics:o.topics,difficulty:o.difficulty,hasSections:o.hasSections,sections:o.hasSections?o.sections:[],numberOfQuestions:o.hasSections?0:o.numberOfQuestions,marksPerQuestion:o.hasSections?0:o.marksPerQuestion,duration:o.hasSections?0:o.duration,startDateTime:o.startDateTime,endDateTime:o.endDateTime,questions:o.hasSections?[]:o.questions,hasCodingSection:o.hasCodingSection,codingQuestions:o.hasCodingSection?(o.codingQuestions||[]).map(xe=>({id:xe.id||xe._id,title:xe.title,description:xe.description||"",difficulty:xe.difficulty,constraints:xe.constraints||"",input_format:xe.input_format||"",output_format:xe.output_format||"",sample_input:xe.sample_input||"",sample_output:xe.sample_output||"",explanation:xe.explanation||"",time_limit:xe.timeLimit||xe.time_limit||3600,memory_limit:xe.memory_limit||512,supported_languages:xe.supported_languages||["python","javascript"],tags:xe.tags||[],points:xe.points||100,timeLimit:xe.timeLimit||3600})):[],sourceType:"manual"};console.log("Submitting test with payload:",Ne),await e(Ne),c({testName:"",testDescription:"",subject:"Technical",testType:"Assessment",companyName:"",topics:[],difficulty:"Medium",numberOfQuestions:10,marksPerQuestion:1,duration:60,startDateTime:"",endDateTime:"",questions:[],hasSections:!1,sections:[],hasCodingSection:!1,codingQuestions:[]}),w({})}catch(Ne){console.error("Form submission error:",Ne),alert(`Test creation failed: ${Ne instanceof Error?Ne.message:"Unknown error"}`)}};return s.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Test Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ze,{className:"inline w-4 h-4 mr-1"}),"Test Name"]}),s.jsx("input",{type:"text",value:o.testName,onChange:_=>c(B=>({...B,testName:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${x.testName?"border-red-500":"border-gray-300"}`,placeholder:"Enter test name"}),x.testName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.testName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Type"}),s.jsx("select",{value:o.testType,onChange:_=>me(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:C.map(_=>s.jsx("option",{value:_,children:_},_))})]}),o.testType==="Practice"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsx("select",{value:o.subject,onChange:_=>c(B=>({...B,subject:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:$.map(_=>s.jsx("option",{value:_,children:_},_))})]}),o.testType==="Specific Company Test"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:o.companyName||"",onChange:_=>c(B=>({...B,companyName:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${x.companyName?"border-red-500":"border-gray-300"}`,placeholder:"Enter company name"}),x.companyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.companyName})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:o.testDescription,onChange:_=>c(B=>({...B,testDescription:_.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${x.testDescription?"border-red-500":"border-gray-300"}`,placeholder:"Enter test description"}),x.testDescription&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.testDescription}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topics (based on selected subject)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(E[o.subject]||[]).map(_=>s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:o.topics.includes(_),onChange:B=>le(_,B.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-gray-700",children:_})]},_))}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Add new topic",value:X,onChange:_=>W(_.target.value),className:"px-3 py-2 border border-gray-300 rounded w-64"}),s.jsx("button",{type:"button",onClick:async()=>{const _=X.trim();if(_)try{const B=await Q.createSubjectTopic(o.subject,_);I(K=>({...K,[o.subject]:B.topics})),le(_,!0),W("")}catch(B){console.error("Failed to add topic",B),alert(B.message||"Failed to add topic")}},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Add"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Choose relevant topics for the selected subject."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),s.jsx("select",{value:o.difficulty,onChange:_=>c(B=>({...B,difficulty:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:R.map(_=>s.jsx("option",{value:_,children:_},_))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yt,{className:"inline w-4 h-4 mr-1"}),"Start Date & Time"]}),s.jsx("input",{type:"datetime-local",value:o.startDateTime,onChange:_=>c(B=>({...B,startDateTime:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${x.startDateTime?"border-red-500":"border-gray-300"}`}),x.startDateTime&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.startDateTime})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),s.jsx("input",{type:"datetime-local",value:o.endDateTime,onChange:_=>c(B=>({...B,endDateTime:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${x.endDateTime?"border-red-500":"border-gray-300"}`}),x.endDateTime&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.endDateTime})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.hasCodingSection,onChange:_=>{const B=_.target.checked;c(K=>({...K,hasCodingSection:B,...B&&K.testType==="Practice"?{numberOfQuestions:0,marksPerQuestion:0,duration:0,questions:[],hasSections:!1,sections:[]}:{}})),w({})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx(gr,{className:"w-4 h-4 text-blue-600"}),o.testType==="Practice"?"Coding Questions Only":"Enable Coding Section"]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 ml-6",children:o.hasCodingSection?o.testType==="Practice"?"This will be a coding-only practice test (MCQ section will be disabled)":"This test will include a coding section in addition to MCQs":o.testType==="Practice"?"Enable to create a coding-only practice test":"Enable to add coding problems to this test"})]})]})]}),o.hasCodingSection&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-green-300 bg-green-50",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-green-900 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5"}),"Coding Section Configuration"]}),s.jsx("p",{className:"text-sm text-green-700",children:"Select coding problems for this test. Students will solve these after completing MCQ sections."})]}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(XO,{selectedQuestions:(o.codingQuestions||[]).map(_=>({..._,description:_.description||"",constraints:_.constraints||"",input_format:_.input_format||"",output_format:_.output_format||"",sample_input:_.sample_input||"",sample_output:_.sample_output||"",explanation:_.explanation||"",time_limit:_.timeLimit||_.time_limit||3600,memory_limit:_.memory_limit||512,supported_languages:_.supported_languages||["python","javascript"]})),onQuestionsChange:_=>c(B=>({...B,codingQuestions:_}))}),o.codingQuestions&&o.codingQuestions.length>0&&s.jsxs("button",{type:"button",onClick:()=>D(!0),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 flex items-center gap-1",children:[s.jsx(Et,{size:14}),"Preview Questions"]})]}),x.codingQuestions&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:x.codingQuestions})]}),a(o.testType)&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-blue-300 bg-blue-50",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Multi-Section Test Configuration"}),s.jsx("p",{className:"text-sm text-blue-700",children:"This test type requires multiple sections. Configure each section with its own duration, questions, and marks."})]}),s.jsx(GO,{sections:o.sections||[],onSectionsChange:pe,onAddQuestions:we,onUploadFile:Wt,uploadingSectionIndex:j,fileUploadLoading:k}),x.sections&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:x.sections})]}),!o.hasSections&&!a(o.testType)&&!(o.testType==="Practice"&&o.hasCodingSection)&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"MCQ Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),"Number of Questions"]}),s.jsx("input",{type:"number",min:"1",max:"100",value:o.numberOfQuestions,onChange:_=>c(B=>({...B,numberOfQuestions:parseInt(_.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marks per Question"}),s.jsx("input",{type:"number",min:"1",max:"10",value:o.marksPerQuestion,onChange:_=>c(B=>({...B,marksPerQuestion:parseInt(_.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(De,{className:"inline w-4 h-4 mr-1"}),"Duration (minutes)"]}),s.jsx("input",{type:"number",min:"5",max:"300",value:o.duration,onChange:_=>c(B=>({...B,duration:parseInt(_.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),!o.hasSections&&!a(o.testType)&&!(o.testType==="Practice"&&o.hasCodingSection)&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Questions (",o.questions.length,"/",o.numberOfQuestions,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 cursor-pointer flex items-center gap-1",children:[s.jsx(cn,{size:14}),"Upload JSON/CSV",s.jsx("input",{type:"file",accept:".json,.csv",onChange:async _=>{var K;const B=(K=_.target.files)==null?void 0:K[0];if(B){P(!0);try{const oe=await Q.extractQuestionsFromFile(B);if(oe.questions&&oe.questions.length>0){const Ne=o.numberOfQuestions-o.questions.length;if(Ne<=0){alert("Test already has maximum questions");return}const xe=oe.questions.slice(0,Ne).map(Be=>({...Be,marks:o.marksPerQuestion}));c(Be=>({...Be,questions:[...Be.questions,...xe]})),alert(`Successfully added ${xe.length} questions`)}}catch(oe){console.error("File upload error:",oe),alert(oe.message||"Failed to upload file")}finally{P(!1),_.target.value=""}}},className:"hidden",disabled:k})]}),s.jsxs("button",{type:"button",onClick:()=>g(!p),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 flex items-center gap-1",children:[s.jsx(zt,{size:14}),"Add Question"]})]})]}),k&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{size:"sm"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Uploading and processing file..."})]})}),p&&s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Add Question"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),s.jsx("textarea",{value:d.questionText,onChange:_=>u(B=>({...B,questionText:_.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your question here..."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["A","B","C","D"].map(_=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Option ",_]}),s.jsx("input",{type:"text",value:d.options[_],onChange:B=>u(K=>({...K,options:{...K.options,[_]:B.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Enter option ${_}`})]},_))}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),s.jsxs("select",{value:d.correctAnswer,onChange:_=>u(B=>({...B,correctAnswer:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{type:"button",onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Question"})]})]})]}),s.jsx("div",{className:"space-y-3",children:o.questions.map((_,B)=>s.jsx("div",{className:"p-4 border rounded-lg border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium mb-2",children:[B+1,". ",_.questionText]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(_.options).map(([K,oe])=>s.jsxs("div",{className:`p-1 rounded ${_.correctAnswer===K?"bg-green-100":"bg-gray-100"}`,children:[s.jsxs("span",{className:"font-medium",children:[K,")"]})," ",oe]},K))})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{type:"button",onClick:()=>J(null,B),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit question",children:s.jsx(xd,{size:16})}),s.jsx("button",{type:"button",onClick:()=>ve(B),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete question",children:s.jsx(vr,{size:16})})]})]})},B))})]}),b!==null&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Edit Question"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),s.jsx("textarea",{value:b.questionText,onChange:_=>S(B=>B?{...B,questionText:_.target.value}:null),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your question here..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Image (Optional)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 cursor-pointer text-sm flex items-center gap-2",children:[s.jsx(cn,{size:16}),F?"Uploading...":"Upload Image",s.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var B;return((B=_.target.files)==null?void 0:B[0])&&ye(_.target.files[0],"question")},className:"hidden",disabled:F})]}),b.questionImageUrl&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:b.questionImageUrl,alt:"Question",className:"h-16 w-16 object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>S(_=>_?{..._,questionImageUrl:""}:null),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["A","B","C","D"].map(_=>{var B;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Option ",_]}),s.jsx("input",{type:"text",value:b.options[_],onChange:K=>S(oe=>oe?{...oe,options:{...oe.options,[_]:K.target.value}}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Enter option ${_}`}),s.jsxs("label",{className:"mt-1 px-3 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 cursor-pointer inline-flex items-center gap-1",children:[s.jsx(cn,{size:12}),"Image",s.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var oe;return((oe=K.target.files)==null?void 0:oe[0])&&ye(K.target.files[0],"option",_)},className:"hidden",disabled:F})]}),((B=b.optionImages)==null?void 0:B[_])&&s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("img",{src:b.optionImages[_],alt:`Option ${_}`,className:"h-12 w-12 object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>S(K=>K?{...K,optionImages:{...K.optionImages,[_]:""}}:null),className:"text-red-600 hover:text-red-800 text-xs",children:"Remove"})]})]},_)})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),s.jsxs("select",{value:b.correctAnswer,onChange:_=>S(B=>B?{...B,correctAnswer:_.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})}),o.hasSections&&m!==null&&p&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Add Questions to: ",o.sections[m].sectionName]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[o.sections[m].questions.length>0&&s.jsxs("button",{type:"button",onClick:()=>O(!0),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 flex items-center gap-1",children:[s.jsx(Et,{size:14}),"Preview All (",o.sections[m].questions.length,")"]}),s.jsxs("label",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 cursor-pointer flex items-center gap-1",children:[s.jsx(cn,{size:14}),"Upload JSON/CSV",s.jsx("input",{type:"file",accept:".json,.csv",onChange:_=>{var K;const B=(K=_.target.files)==null?void 0:K[0];B&&(Wt(m,B),_.target.value="")},className:"hidden",disabled:k})]}),s.jsx("button",{type:"button",onClick:()=>{g(!1),f(null)},className:"text-gray-500 hover:text-gray-700",children:s.jsx(Es,{size:20})})]})]}),k&&j===m&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{size:"sm"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Uploading and processing file..."})]})}),s.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),s.jsx("textarea",{value:d.questionText,onChange:_=>u(B=>({...B,questionText:_.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your question here..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Image (Optional)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 cursor-pointer text-sm flex items-center gap-2",children:[s.jsx(cn,{size:16}),F?"Uploading...":"Upload Image",s.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var B;return((B=_.target.files)==null?void 0:B[0])&&ye(_.target.files[0],"question")},className:"hidden",disabled:F})]}),d.questionImageUrl&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:d.questionImageUrl,alt:"Question",className:"h-16 w-16 object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>u(_=>({..._,questionImageUrl:""})),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["A","B","C","D"].map(_=>{var B;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Option ",_]}),s.jsx("input",{type:"text",value:d.options[_],onChange:K=>u(oe=>({...oe,options:{...oe.options,[_]:K.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Enter option ${_}`}),s.jsxs("label",{className:"mt-1 px-3 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 cursor-pointer inline-flex items-center gap-1",children:[s.jsx(cn,{size:12}),"Image",s.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var oe;return((oe=K.target.files)==null?void 0:oe[0])&&ye(K.target.files[0],"option",_)},className:"hidden",disabled:F})]}),((B=d.optionImages)==null?void 0:B[_])&&s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("img",{src:d.optionImages[_],alt:`Option ${_}`,className:"h-12 w-12 object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>u(K=>({...K,optionImages:{...K.optionImages,[_]:""}})),className:"text-red-600 hover:text-red-800 text-xs",children:"Remove"})]})]},_)})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),s.jsxs("select",{value:d.correctAnswer,onChange:_=>u(B=>({...B,correctAnswer:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{g(!1),f(null)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Done"}),s.jsx("button",{type:"button",onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Question"})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium",children:["Questions in this section (",o.sections[m].questions.length,")"]}),o.sections[m].questions.map((_,B)=>s.jsx("div",{className:"p-4 border rounded-lg border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium mb-2",children:[B+1,". ",_.questionText]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(_.options).map(([K,oe])=>s.jsxs("div",{className:`p-1 rounded ${_.correctAnswer===K?"bg-green-100":"bg-gray-100"}`,children:[s.jsxs("span",{className:"font-medium",children:[K,")"]})," ",oe]},K))})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{type:"button",onClick:()=>J(m,B),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit question",children:s.jsx(xd,{size:16})}),s.jsx("button",{type:"button",onClick:()=>ve(B,m),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete question",children:s.jsx(vr,{size:16})})]})]})},B))]})]}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[t?s.jsx(be,{size:"sm"}):null,"Create Test"]})}),A&&m!==null&&s.jsx(qN,{isOpen:!0,onClose:()=>O(!1),questions:o.sections[m].questions,sectionName:o.sections[m].sectionName,onEditQuestion:ge,onDeleteQuestion:he}),T&&o.codingQuestions&&s.jsx(YO,{isOpen:!0,onClose:()=>D(!1),questions:o.codingQuestions.map(_=>({_id:_.id,title:_.title,description:"",difficulty:_.difficulty,constraints:"",input_format:"",output_format:"",sample_input:"",sample_output:"",explanation:"",time_limit:_.timeLimit||3600,memory_limit:512,supported_languages:["python","javascript"],tags:_.tags,points:_.points||100,timeLimit:_.timeLimit||3600})),sectionName:"Coding Questions"})]})},ZO=({onClose:e,onSubmit:t,initialData:r})=>{const[n,a]=h.useState({title:(r==null?void 0:r.title)||"",description:(r==null?void 0:r.description)||"",difficulty:(r==null?void 0:r.difficulty)||"medium",constraints:(r==null?void 0:r.constraints)||"",input_format:(r==null?void 0:r.input_format)||"",output_format:(r==null?void 0:r.output_format)||"",time_limit:(r==null?void 0:r.time_limit)||2e3,memory_limit:(r==null?void 0:r.memory_limit)||256,sample_input:(r==null?void 0:r.sample_input)||"",sample_output:(r==null?void 0:r.sample_output)||"",explanation:(r==null?void 0:r.explanation)||"",tags:(r==null?void 0:r.tags)||[]}),[i,l]=h.useState((r==null?void 0:r.supported_languages)||["javascript","python","java","cpp"]),[o,c]=h.useState((r==null?void 0:r.testCases)||[{input:"",expected_output:"",is_sample:!0,weight:10}]),[d,u]=h.useState(""),m=[{id:"javascript",name:"JavaScript"},{id:"python",name:"Python"},{id:"java",name:"Java"},{id:"cpp",name:"C++"},{id:"c",name:"C"},{id:"csharp",name:"C#"},{id:"go",name:"Go"},{id:"rust",name:"Rust"}],f=b=>{l(S=>S.includes(b)?S.filter(j=>j!==b):[...S,b])},p=()=>{c([...o,{input:"",expected_output:"",is_sample:!1,weight:10}])},g=b=>{c(o.filter((S,j)=>j!==b))},x=(b,S,j)=>{const N=[...o];N[b]={...N[b],[S]:j},c(N)},w=()=>{d.trim()&&!n.tags.includes(d.trim())&&(a({...n,tags:[...n.tags,d.trim()]}),u(""))},v=b=>{a({...n,tags:n.tags.filter(S=>S!==b)})},y=b=>{if(b.preventDefault(),i.length===0){alert("Please select at least one programming language");return}if(o.length===0){alert("Please add at least one test case");return}t({...n,supported_languages:i,testCases:o})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[r?"Edit":"Create"," Coding Question"]}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(Ur,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:y,className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),s.jsx("input",{type:"text",required:!0,value:n.title,onChange:b=>a({...n,title:b.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Two Sum"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty *"}),s.jsxs("select",{required:!0,value:n.difficulty,onChange:b=>a({...n,difficulty:b.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:d,onChange:b=>u(b.target.value),onKeyPress:b=>b.key==="Enter"&&(b.preventDefault(),w()),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., arrays, dp, graphs"}),s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.tags.map(b=>s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[b,s.jsx("button",{type:"button",onClick:()=>v(b),children:s.jsx(Ur,{className:"w-3 h-3"})})]},b))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Problem Description *"}),s.jsx("textarea",{required:!0,value:n.description,onChange:b=>a({...n,description:b.target.value}),rows:6,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Detailed problem description..."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constraints"}),s.jsx("textarea",{value:n.constraints,onChange:b=>a({...n,constraints:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 1 <= n <= 10^5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Format"}),s.jsx("textarea",{value:n.input_format,onChange:b=>a({...n,input_format:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe input format..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Format"}),s.jsx("textarea",{value:n.output_format,onChange:b=>a({...n,output_format:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe output format..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (ms)"}),s.jsx("input",{type:"number",value:n.time_limit,onChange:b=>a({...n,time_limit:parseInt(b.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"100",step:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Memory Limit (MB)"}),s.jsx("input",{type:"number",value:n.memory_limit,onChange:b=>a({...n,memory_limit:parseInt(b.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"64",step:"32"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supported Languages *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:m.map(b=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(b.id),onChange:()=>f(b.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:b.name})]},b.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Input"}),s.jsx("textarea",{value:n.sample_input,onChange:b=>a({...n,sample_input:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sample input for demonstration"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sample Output"}),s.jsx("textarea",{value:n.sample_output,onChange:b=>a({...n,sample_output:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Expected output for sample input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation"}),s.jsx("textarea",{value:n.explanation,onChange:b=>a({...n,explanation:b.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explain the sample test case..."})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Test Cases *"}),s.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(zt,{className:"w-4 h-4"}),"Add Test Case"]})]}),s.jsx("div",{className:"space-y-4",children:o.map((b,S)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-700",children:["Test Case ",S+1]}),o.length>1&&s.jsx("button",{type:"button",onClick:()=>g(S),className:"text-red-600 hover:text-red-700",children:s.jsx(vr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input"}),s.jsx("textarea",{required:!0,value:b.input,onChange:j=>x(S,"input",j.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Test case input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Output"}),s.jsx("textarea",{required:!0,value:b.expected_output,onChange:j=>x(S,"expected_output",j.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Expected output"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.is_sample,onChange:j=>x(S,"is_sample",j.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Sample Test Case (Visible to Students)"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (Points)"}),s.jsx("input",{type:"number",value:b.weight,onChange:j=>x(S,"weight",parseInt(j.target.value)),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]})]})]},S))})]}),s.jsxs("div",{className:"flex justify-end gap-4 border-t pt-6",children:[s.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r?"Update":"Create"," Question"]})]})]})]})})},JO=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(""),[f,p]=h.useState("all");h.useEffect(()=>{g()},[]),h.useEffect(()=>{x()},[e,u,f]);const g=async()=>{try{const j=await Q.get("/coding/questions");t(j)}catch(j){console.error("Error fetching questions:",j)}finally{i(!1)}},x=()=>{let j=[...e];u&&(j=j.filter(N=>N.title.toLowerCase().includes(u.toLowerCase())||N.tags.some(k=>k.toLowerCase().includes(u.toLowerCase())))),f!=="all"&&(j=j.filter(N=>N.difficulty===f)),n(j)},w=async j=>{try{await Q.post("/coding/questions",j),o(!1),g()}catch(N){console.error("Error creating question:",N),alert("Failed to create question")}},v=async j=>{try{await Q.put(`/coding/questions/${c.id}`,j),o(!1),d(null),g()}catch(N){console.error("Error updating question:",N),alert("Failed to update question")}},y=async j=>{if(confirm("Are you sure you want to delete this question?"))try{await Q.delete(`/coding/questions/${j}`),g()}catch(N){console.error("Error deleting question:",N),alert("Failed to delete question")}},b=async j=>{try{const N=await Q.get(`/coding/questions/${j.id}`),k=N!=null&&N.data?N.data:N;d(k),o(!0)}catch(N){console.error("Error fetching question details:",N),alert("Failed to load question details")}},S=j=>{switch(j){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(gr,{className:"w-8 h-8 text-blue-600"}),"Coding Questions Bank"]}),s.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(zt,{className:"w-5 h-5"}),"Add Question"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by title or tags...",value:u,onChange:j=>m(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"text-gray-400 w-5 h-5"}),s.jsxs("select",{value:f,onChange:j=>p(j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Difficulties"}),s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]})]}),s.jsx("div",{className:"space-y-3",children:r.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:e.length===0?"No coding questions yet. Create your first one!":"No questions match your filters."}):r.map(j=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:j.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(j.difficulty)}`,children:j.difficulty.toUpperCase()})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:j.tags.map(N=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:N},N))}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[j.test_cases_count||0," test cases"]}),s.jsxs("span",{children:["Created ",new Date(j.created_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>b(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:s.jsx(F6,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:s.jsx(vr,{className:"w-5 h-5"})})]})]})},j.id))})]}),l&&s.jsx(ZO,{onClose:()=>{o(!1),d(null)},onSubmit:c?v:w,initialData:c})]})},e4=({activeTab:e,setActiveTab:t})=>{var Xi,O0,_0,M0,D0,I0,$0,L0,R0,F0,z0;const[r,n]=h.useState([]),[a,i]=h.useState([]),[l,o]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(30),[f,p]=h.useState("Assessment"),[g,x]=h.useState("all"),[w,v]=h.useState(null),[y,b]=h.useState(!1),[S,j]=h.useState(!1),[N,k]=h.useState(!1),[P,A]=h.useState(!1),[O,T]=h.useState(null),[D,F]=h.useState(!0),[U,$]=h.useState(!1),[C,R]=h.useState(null),[L,E]=h.useState(null),[I,X]=h.useState(""),[W,le]=h.useState(null),[ye,me]=h.useState(!1),[pe,we]=h.useState("batches"),[Wt,J]=h.useState({faculty:[],students:[]}),[ge,he]=h.useState(!1);h.useEffect(()=>{e==="colleges"||e==="college-management"||e==="dashboard"||e==="stats"?(M(),re(u)):e==="tests"&&fe(f,g)},[e,f,g]),h.useEffect(()=>{const q=G=>{var vt;const te=(vt=G.detail)==null?void 0:vt.testType;te&&(p(te),x("all"))};return window.addEventListener("testTypeChanged",q),()=>{window.removeEventListener("testTypeChanged",q)}},[]);const M=async()=>{try{F(!0);const[q,G]=await Promise.all([Q.getColleges(),Q.getAdminStats()]);n(q),o(G)}catch(q){R(q instanceof Error?q.message:"Failed to load data")}finally{F(!1)}},Z=async(q,G)=>{try{he(!0);const te=await Q.getCollegeUsers(G,q);J(vt=>({...vt,[G==="student"?"students":"faculty"]:te}))}catch(te){console.error("Failed to load users:",te)}finally{he(!1)}},re=async q=>{try{const G=await Q.getDashboardStats(q);d(G),G&&G.testCounts&&v(G.testCounts)}catch(G){console.error("Failed to load analytics data:",G),d(null)}},fe=async(q,G)=>{try{F(!0);const te=await Q.getTests(q==="all"?void 0:q,G==="all"?void 0:G);if(i(te),!w){const vt={Verbal:te.filter(Ke=>Ke.subject==="Verbal").length,Reasoning:te.filter(Ke=>Ke.subject==="Reasoning").length,Technical:te.filter(Ke=>Ke.subject==="Technical").length,Arithmetic:te.filter(Ke=>Ke.subject==="Arithmetic").length,Communication:te.filter(Ke=>Ke.subject==="Communication").length};v(Ke=>Ke||{bySubject:vt})}}catch(te){R(te instanceof Error?te.message:"Failed to load tests")}finally{F(!1)}},ve=async q=>{try{$(!0),await Q.createCollege(q),b(!1),M()}catch(G){throw G}finally{$(!1)}},H=async q=>{var G,te,vt;try{$(!0),console.log("Creating test with data:",JSON.stringify(q,null,2)),q.hasSections?(console.log("Sections count:",(G=q.sections)==null?void 0:G.length),(te=q.sections)==null||te.forEach((za,xm)=>{console.log(`Section ${xm+1} questions:`,za.questions.length)})):(console.log("Questions count:",(vt=q.questions)==null?void 0:vt.length),console.log("Expected questions:",q.numberOfQuestions));const Ke={...q,startDateTime:new Date(q.startDateTime).toISOString(),endDateTime:new Date(q.endDateTime).toISOString()},Uo=await Q.createTest(Ke);console.log("Test created successfully:",Uo),j(!1),p(q.testType),x("all"),await fe(q.testType,"all"),alert("Test created successfully!")}catch(Ke){throw console.error("Test creation error:",Ke),console.error("Error details:",Ke instanceof Error?Ke.message:String(Ke)),Ke}finally{$(!1)}},ce=async q=>{try{$(!0),await Q.createNotificationWithFile(q),k(!1)}catch(G){throw G}finally{$(!1)}},_e=async(q,G)=>{try{await Q.assignTestToColleges(q,G),A(!1),T(null)}catch(te){throw te}},[_,B]=h.useState(!1),[K,oe]=h.useState(null),Ne=async q=>{try{const G=await Q.getTest(q);oe(G),B(!0)}catch(G){alert(G instanceof Error?G.message:"Failed to load test details")}},[xe,Be]=h.useState(null),[Vr,ns]=h.useState(null),zo=async q=>{try{ns(null);const G=await Q.getTest(q);G?(Be(G),j(!0)):(ns("Test details not found."),Be(null),j(!1))}catch(G){const te=G instanceof Error?G.message:"Failed to load test details";ns(te),Be(null),j(!1)}},pm=async q=>{const G=a.find(te=>te._id===q);if(confirm(`Are you sure you want to delete "${G==null?void 0:G.testName}"? This action cannot be undone.`))try{await Q.deleteTest(q),fe(f,g),alert("Test deleted successfully")}catch(te){alert(te instanceof Error?te.message:"Failed to delete test")}},[gm,La]=h.useState(!1),[lr,Yi]=h.useState(null),Bo=async q=>{try{const G=await Q.getMasterTestReport(q);Yi(G),La(!0)}catch(G){alert(G instanceof Error?G.message:"Failed to load test report")}},V=q=>{const G=a.find(te=>te._id===q);G&&(T(G),A(!0))},ue=q=>{switch(q){case"test-assignments":console.log("Navigate to test assignments");break;case"college-credentials":t("colleges");break;case"resend-credentials":console.log("Resend credentials");break}},ae=async q=>{try{await Q.toggleCollegeStatus(q),M()}catch(G){R(G instanceof Error?G.message:"Failed to update status")}},Cr=q=>{le(q),me(!0)},Ra=async q=>{try{if($(!0),!W)return;await Q.updateCollege(W.id,q),me(!1),le(null),M()}catch(G){throw G}finally{$(!1)}},Fa=q=>{console.log("Manage admin for college:",q.name)},Ys=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(D)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})});if(C)return s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:C}),s.jsx("button",{onClick:M,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]});if(e==="stats"&&l)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tt,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Colleges"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalColleges})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalFaculty})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(fa,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalStudents})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Recent Login Activity"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"analytics-days",className:"text-sm text-gray-600",children:"Window:"}),s.jsxs("select",{id:"analytics-days",value:u,onChange:q=>{const G=parseInt(q.target.value,10)||30;m(G),re(G)},className:"border border-gray-300 rounded px-2 py-1 text-sm bg-white",children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"College"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(c&&c.recentLogins?c.recentLogins:l.recentLogins).map((q,G)=>{var te;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),s.jsx("div",{className:"text-sm text-gray-500",children:q.email||"N/A"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:q.role.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((te=q.collegeId)==null?void 0:te.name)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.lastLogin?Ys(q.lastLogin):"Never"})]},G)})})]})})]})]});if(e==="notifications")return s.jsx(AN,{});if(e==="coding-questions")return s.jsx(JO,{});if(e==="notifications-old")return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Notification"}),s.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:20}),"Create Notification"]})]}),s.jsx(Te,{isOpen:N,onClose:()=>k(!1),title:"Create New Notification",size:"lg",children:s.jsx(Jl,{onSubmit:ce,loading:U,onClose:()=>k(!1)})})]});if(e==="tests")return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Test Management"}),s.jsxs("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:20}),"Create Test"]})]}),s.jsx(G6,{tests:a,onView:Ne,onAssign:V,onEdit:zo,onDelete:pm,onReport:Bo,loading:D}),s.jsx(Te,{isOpen:S,onClose:()=>{j(!1),Be(null)},title:xe?"Edit Test":"Create New Test",size:"xl",children:s.jsx(V6,{fallback:s.jsx("div",{className:"p-4",children:"Failed to load the test editor. Please try again."}),children:Vr?s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Unable to load test for editing"}),s.jsx("p",{className:"mt-2 text-sm text-gray-700",children:Vr}),s.jsx("div",{className:"mt-4 flex gap-2",children:s.jsx("button",{onClick:()=>{j(!1),ns(null)},className:"px-3 py-2 bg-gray-200 rounded",children:"Close"})})]}):s.jsx(_l,{onSubmit:xe?async q=>{await Q.updateTest(xe._id,q),j(!1),Be(null),fe(f,g)}:H,loading:U,initialData:xe})})}),O&&s.jsx(Te,{isOpen:P,onClose:()=>{A(!1),T(null)},title:"Assign Test to Colleges",size:"lg",children:s.jsx(CN,{testId:O._id,testName:O.testName,onClose:()=>{A(!1),T(null)},onAssign:_e})}),K&&s.jsx(Te,{isOpen:_,onClose:()=>{B(!1),oe(null)},title:`Preview: ${K.testName}`,size:"xl",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:K.testDescription}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Subject"}),s.jsx("p",{className:"font-semibold",children:K.subject})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Questions"}),s.jsx("p",{className:"font-semibold",children:K.numberOfQuestions})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsxs("p",{className:"font-semibold",children:[K.duration," min"]})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsx("p",{className:"font-semibold",children:K.totalMarks})]})]}),K.hasSections&&Array.isArray(K.sections)&&K.sections.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[s.jsxs("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:[" Test Structure: ",K.sections.length," Section",K.sections.length!==1?"s":""]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:K.sections.map((q,G)=>{var te;return s.jsxs("div",{className:"text-xs text-blue-800 bg-white p-2 rounded border border-blue-100",children:[s.jsxs("span",{className:"font-semibold",children:[G+1,". ",q.sectionName]}),s.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",q.numberOfQuestions||((te=q.questions)==null?void 0:te.length)||0," Q"]}),q.sectionDuration&&s.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",q.sectionDuration," min"]}),q.marksPerQuestion&&s.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",q.marksPerQuestion," marks/Q"]})]},G)})})]})]}),s.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-4",children:[K.hasSections&&Array.isArray(K.sections)?K.sections.map((q,G)=>{var te,vt;return s.jsxs("div",{className:"space-y-2 border-l-4 border-blue-500 pl-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-4 py-3 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-blue-900",children:["Section ",G+1,": ",q.sectionName]}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[q.numberOfQuestions||((te=q.questions)==null?void 0:te.length)||0," Questions",q.sectionDuration&&`  ${q.sectionDuration} min`,q.marksPerQuestion&&`  ${q.marksPerQuestion} marks per question`]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"inline-block bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-xs font-semibold",children:[q.numberOfQuestions||((vt=q.questions)==null?void 0:vt.length)||0," Q"]})})]})}),(q.questions||[]).map((Ke,Uo)=>s.jsxs("div",{className:"border rounded-lg p-4 ml-2 bg-white hover:shadow-md transition-shadow",children:[s.jsxs("h5",{className:"font-medium mb-2 text-gray-900",children:[Uo+1,". ",Ke.questionText]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Ke.options||{}).map(([za,xm])=>s.jsxs("div",{className:`p-2 rounded text-sm ${za===Ke.correctAnswer?"bg-green-100 border border-green-300 font-medium":"bg-gray-50 border border-gray-200"}`,children:[s.jsxs("span",{className:"font-semibold",children:[za,")"]})," ",xm,za===Ke.correctAnswer&&s.jsx("span",{className:"ml-2 text-green-600 text-xs",children:""})]},za))})]},Uo))]},G)}):(Xi=K.questions)==null?void 0:Xi.map((q,G)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium mb-2",children:[G+1,". ",q.questionText]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(q.options||{}).map(([te,vt])=>s.jsxs("div",{className:`p-2 rounded ${te===q.correctAnswer?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[s.jsxs("span",{className:"font-medium",children:[te,")"]})," ",vt,te===q.correctAnswer&&s.jsx("span",{className:"ml-2 text-green-600 text-xs",children:" Correct"})]},te))})]},G)),K.hasCodingSection&&K.codingQuestions&&K.codingQuestions.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Coding Questions"}),K.codingQuestions.map((q,G)=>{const te=q.questionId||q;return s.jsxs("div",{className:"border rounded-lg p-4 mb-3",children:[s.jsxs("h5",{className:"font-semibold",children:[G+1,". ",te.title||te.name||"Untitled"]}),te.description&&s.jsx("p",{className:"text-sm text-gray-700 mt-2",children:te.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[te.sample_input!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Sample Input"}),s.jsx("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-x-auto",children:te.sample_input})]}),te.sample_output!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Sample Output"}),s.jsx("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-x-auto",children:te.sample_output})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 text-xs text-gray-600",children:[te.supported_languages&&s.jsxs("span",{className:"px-2 py-1 bg-gray-50 border rounded",children:["Languages: ",(te.supported_languages||[]).join(", ")]}),q.points!==void 0&&s.jsxs("span",{className:"px-2 py-1 bg-gray-50 border rounded",children:["Points: ",q.points]}),q.timeLimit!==void 0&&s.jsxs("span",{className:"px-2 py-1 bg-gray-50 border rounded",children:["Time Limit: ",q.timeLimit,"s"]})]})]},G)})]})]})]})}),lr&&s.jsx(Te,{isOpen:gm,onClose:()=>{La(!1),Yi(null)},title:"Test Report & Analytics",size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:lr.totalAssigned||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assigned"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:lr.totalAttempted||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Attempted"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[lr.averageScore?lr.averageScore.toFixed(1):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Score"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[lr.completionRate?lr.completionRate.toFixed(1):0,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completion"})]})]}),lr.collegeResults&&lr.collegeResults.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"College-wise Performance"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"College"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Attempted"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Score"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lr.collegeResults.map((q,G)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:q.collegeName}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:q.assigned}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:q.attempted}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[q.averageScore?q.averageScore.toFixed(1):0,"%"]})]},G))})]})})]})]})})]});if(e==="colleges")return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Colleges Management"}),s.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:20}),"Add College"]})]}),s.jsx("div",{className:"grid gap-6",children:Array.isArray(r)&&r.length>0?r.map(q=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:q.name}),s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:q.code}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${q.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.isActive?"Active":"Inactive"})]}),s.jsx("p",{className:"text-gray-600 mb-2",children:q.email}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:q.address}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.totalFaculty||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faculty"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.totalStudents||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Students"})]})]}),q.adminInfo&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["College Admin: ",q.adminInfo.name]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q.adminInfo.hasLoggedIn?s.jsx(Re,{size:16,className:"text-green-500"}):s.jsx(De,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"text-xs text-gray-500",children:q.adminInfo.hasLoggedIn?`Last login: ${q.adminInfo.lastLogin?Ys(q.adminInfo.lastLogin):"Unknown"}`:"Never logged in"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("button",{onClick:()=>ae(q.id),className:`px-3 py-1 rounded text-sm ${q.isActive?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:q.isActive?"Deactivate":"Activate"}),s.jsx("button",{onClick:()=>Cr(q),className:"px-3 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded text-sm",children:"Edit"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",Ys(q.createdAt)]})]})]})},q.id)):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Tt,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{children:"No colleges found"})]})}),s.jsx(Te,{isOpen:y,onClose:()=>b(!1),title:"Create New College",size:"md",children:s.jsx(il,{onSubmit:ve,loading:U})}),s.jsx(Te,{isOpen:ye,onClose:()=>{me(!1),le(null)},title:"Edit College",size:"md",children:W&&s.jsx(il,{onSubmit:Ra,loading:U,initialData:{name:W.name,code:W.code,email:W.email,address:W.address}})})]});if(e==="college-management"){const q=r.filter(G=>G.name.toLowerCase().includes(I.toLowerCase())||G.code.toLowerCase().includes(I.toLowerCase())||G.email.toLowerCase().includes(I.toLowerCase()));return s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Tt,{className:"h-8 w-8"}),"College Management"]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:20}),"Add College"]}),s.jsxs("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center gap-2",children:[s.jsx(vr,{size:20}),"Delete College"]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search colleges by name, code, or location...",value:I,onChange:G=>X(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Ws,{size:20}),"Filter"]})]}),s.jsx("div",{className:"grid gap-6",children:Array.isArray(q)&&q.length>0?q.map(G=>s.jsxs("div",{className:"bg-white rounded-lg shadow border",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:G.name}),s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:G.code}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${G.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Tt,{className:"h-4 w-4"}),s.jsx("span",{children:G.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ge,{className:"h-4 w-4"}),s.jsx("span",{children:G.address})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.totalStudents}),s.jsx("p",{className:"text-sm text-gray-600",children:"Students"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.totalFaculty}),s.jsx("p",{className:"text-sm text-gray-600",children:"Batches"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tests"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tests"})]})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>E(L===G.id?null:G.id),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[s.jsx(Et,{size:16}),"View"]}),s.jsxs("button",{onClick:()=>Cr(G),className:"flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[s.jsx($i,{size:16}),"Edit"]}),s.jsxs("button",{onClick:()=>Fa(G),className:"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200",children:[s.jsx(I6,{size:16}),"Admin"]})]})]}),L===G.id&&s.jsx("div",{className:"border-t bg-gray-50",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[G.name," - Detailed View"]}),s.jsx("button",{onClick:()=>{E(null),we("batches"),J({faculty:[],students:[]})},className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),s.jsxs("div",{className:"flex border-b mb-6",children:[s.jsxs("button",{onClick:()=>we("batches"),className:`px-4 py-2 ${pe==="batches"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Tt,{className:"inline h-4 w-4 mr-2"}),"Batches"]}),s.jsxs("button",{onClick:()=>{we("faculty"),Z(G.id,"faculty")},className:`px-4 py-2 ${pe==="faculty"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ge,{className:"inline h-4 w-4 mr-2"}),"Faculty"]}),s.jsxs("button",{onClick:()=>{we("students"),Z(G.id,"student")},className:`px-4 py-2 ${pe==="students"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(fa,{className:"inline h-4 w-4 mr-2"}),"Students"]}),s.jsxs("button",{onClick:()=>we("tests"),className:`px-4 py-2 ${pe==="tests"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(ze,{className:"inline h-4 w-4 mr-2"}),"Tests"]})]}),ge?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(be,{size:"md"})}):s.jsxs(s.Fragment,{children:[pe==="batches"&&s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:"Batch 2024"}),s.jsx(Et,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"3 Streams"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"1240"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:"Batch 2025"}),s.jsx(Et,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"2 Streams"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"980"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:"Batch 2026"}),s.jsx(Et,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"2 Streams"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"650"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"})]})]})]}),pe==="faculty"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Wt.faculty.map((te,vt)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.lastLogin?Ys(te.lastLogin):"Never"})]},vt))})]})}),pe==="students"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Wt.students.map((te,vt)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name}),s.jsx("div",{className:"text-sm text-gray-500",children:te.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.idNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.batch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.branch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.isActive?"Active":"Inactive"})})]},vt))})]})}),pe==="tests"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:"Test Assignments"}),s.jsx("p",{className:"text-gray-500",children:"No tests assigned yet."})]})]})]})})]},G.id)):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Tt,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{children:"No colleges found matching your search"})]})})]}),s.jsx(Te,{isOpen:y,onClose:()=>b(!1),title:"Create New College",size:"md",children:s.jsx(il,{onSubmit:ve,loading:U})}),s.jsx(Te,{isOpen:ye,onClose:()=>{me(!1),le(null)},title:"Edit College",size:"md",children:s.jsx(il,{onSubmit:Ra,loading:U,initialData:W?{name:W.name,code:W.code,email:W.email,address:W.address}:void 0})})]})}return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Last updated: ",new Date().toLocaleString()," ",c?" Live data":" Loading..."]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Welcome, Master"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(yn,{size:16}),"Send Notification"]}),s.jsxs("button",{onClick:()=>j(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm",children:[s.jsx(zt,{size:16}),"Create Test"]})]})]}),c&&s.jsx(UN,{data:c,exportArrayKey:"recentActivity",filename:`dashboard-analytics-${u}d`,title:`Dashboard Analytics Report (${u}d)`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(lc,{title:"Total Colleges",value:((O0=c==null?void 0:c.overview)==null?void 0:O0.totalColleges)||(l==null?void 0:l.totalColleges)||0,icon:Tt,iconColor:"text-blue-600",trend:{value:((_0=c==null?void 0:c.platformGrowth)==null?void 0:_0.collegeGrowthPercentage)||0,isPositive:(((M0=c==null?void 0:c.platformGrowth)==null?void 0:M0.collegeGrowthPercentage)||0)>=0},onClick:()=>t("colleges")}),s.jsx(lc,{title:"Total Students",value:((D0=c==null?void 0:c.overview)==null?void 0:D0.totalStudents)||(l==null?void 0:l.totalStudents)||0,icon:fa,iconColor:"text-green-600",trend:{value:((I0=c==null?void 0:c.platformGrowth)==null?void 0:I0.studentGrowthPercentage)||0,isPositive:((($0=c==null?void 0:c.platformGrowth)==null?void 0:$0.studentGrowthPercentage)||0)>=0}}),s.jsx(lc,{title:"Active Exams",value:((L0=c==null?void 0:c.overview)==null?void 0:L0.activeExams)||0,subtitle:"Currently running",icon:As,iconColor:"text-purple-600",onClick:()=>t("tests")}),s.jsx(lc,{title:"Completed Tests",value:((R0=c==null?void 0:c.overview)==null?void 0:R0.completedTests)||0,icon:pn,iconColor:"text-orange-600",trend:{value:((F0=c==null?void 0:c.platformGrowth)==null?void 0:F0.testCompletionGrowthPercentage)||0,isPositive:(((z0=c==null?void 0:c.platformGrowth)==null?void 0:z0.testCompletionGrowthPercentage)||0)>=0}})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(c==null?void 0:c.pendingActions)&&s.jsx(VO,{data:c.pendingActions,onActionClick:ue}),(c==null?void 0:c.platformGrowth)&&s.jsx(HO,{data:c.platformGrowth})]}),s.jsx("div",{className:"mt-6",children:s.jsx(QO,{})}),(c==null?void 0:c.recentActivity)&&s.jsx(X6,{activities:c.recentActivity}),s.jsx(Te,{isOpen:y,onClose:()=>b(!1),title:"Create New College",size:"md",children:s.jsx(il,{onSubmit:ve,loading:U})}),s.jsx(Te,{isOpen:S,onClose:()=>j(!1),title:"Create New Test",size:"xl",children:s.jsx(_l,{onSubmit:H,loading:U})}),s.jsx(Te,{isOpen:N,onClose:()=>k(!1),title:"Create New Notification",size:"lg",children:s.jsx(Jl,{onSubmit:ce,loading:U,onClose:()=>k(!1)})})]})},qa=({onSubmit:e,loading:t,defaultRole:r="student",initialData:n})=>{const[a,i]=h.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",role:(n==null?void 0:n.role)||r,idNumber:(n==null?void 0:n.idNumber)||"",branch:(n==null?void 0:n.branch)||"",batch:(n==null?void 0:n.batch)||"",section:(n==null?void 0:n.section)||"",phoneNumber:(n==null?void 0:n.phoneNumber)||""}),[l,o]=h.useState({}),c=()=>{const m={};return a.name.trim()||(m.name="Name is required"),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(m.email="Please enter a valid email"):m.email="Email is required",a.idNumber.trim()||(m.idNumber=`${a.role==="student"?"Roll Number":"ID"} is required`),a.branch.trim()||(m.branch="Branch is required"),a.batch.trim()||(m.batch="Batch is required"),a.section.trim()||(m.section="Section is required"),a.phoneNumber&&!/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phoneNumber)&&(m.phoneNumber="Please enter a valid phone number"),o(m),Object.keys(m).length===0},d=async m=>{if(m.preventDefault(),!!c())try{await e(a),n||(i({name:"",email:"",role:r,idNumber:"",branch:"",batch:"",section:"",phoneNumber:""}),o({}))}catch(f){throw console.error("Form submission error:",f),f}},u=m=>{const{name:f,value:p}=m.target;i(g=>({...g,[f]:p})),l[f]&&o(g=>({...g,[f]:void 0}))};return s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx($n,{className:"inline w-4 h-4 mr-1"}),"Full Name"]}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name",disabled:t}),l.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ji,{className:"inline w-4 h-4 mr-1"}),"Email Address"]}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"user@email.com",disabled:t}),l.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),s.jsxs("select",{id:"role",name:"role",value:a.role,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t,children:[s.jsx("option",{value:"student",children:"Student"}),s.jsx("option",{value:"faculty",children:"Faculty"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"idNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),a.role==="student"?"Roll Number":"ID Number"]}),s.jsx("input",{type:"text",id:"idNumber",name:"idNumber",value:a.idNumber,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.idNumber?"border-red-500":"border-gray-300"}`,placeholder:a.role==="student"?"e.g., 2023001":"e.g., FAC001",disabled:t}),l.idNumber&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.idNumber})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(As,{className:"inline w-4 h-4 mr-1"}),"Branch/Department"]}),s.jsx("input",{type:"text",id:"branch",name:"branch",value:a.branch,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.branch?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Computer Science",disabled:t}),l.branch&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.branch})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"batch",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yt,{className:"inline w-4 h-4 mr-1"}),"Batch/Year"]}),s.jsx("input",{type:"text",id:"batch",name:"batch",value:a.batch,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.batch?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 2023-27 or 2023",disabled:t}),l.batch&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.batch})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"section",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ge,{className:"inline w-4 h-4 mr-1"}),"Section"]}),s.jsx("input",{type:"text",id:"section",name:"section",value:a.section,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.section?"border-red-500":"border-gray-300"}`,placeholder:"e.g., A, B1, CSE-1",disabled:t}),l.section&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.section})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(SN,{className:"inline w-4 h-4 mr-1"}),"Phone Number (Optional)"]}),s.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:a.phoneNumber,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.phoneNumber?"border-red-500":"border-gray-300"}`,placeholder:"+1 (555) 123-4567",disabled:t}),l.phoneNumber&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.phoneNumber})]})]}),s.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:t?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm",className:"mr-2"}),"Creating ",a.role,"..."]}):`Create ${a.role==="student"?"Student":"Faculty"}`})]})},Hm=({role:e,onSubmit:t,onClose:r})=>{const[n,a]=h.useState(null),[i,l]=h.useState(null),[o,c]=h.useState(!1),[d,u]=h.useState(!1),m=y=>{var S;const b=(S=y.target.files)==null?void 0:S[0];b&&(a(b),l(null))},f=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?u(!0):y.type==="dragleave"&&u(!1)},p=y=>{var S;y.preventDefault(),y.stopPropagation(),u(!1);const b=(S=y.dataTransfer.files)==null?void 0:S[0];b&&(b.name.endsWith(".xlsx")||b.name.endsWith(".xls"))&&(a(b),l(null))},g=async y=>{if(y.preventDefault(),!!n)try{c(!0);const b=await t(n,e);l(b.results)}catch(b){console.error("Upload error:",b)}finally{c(!1)}},x=async()=>{try{const{blob:y,filename:b}=await Q.downloadSampleTemplate(e),S=window.URL.createObjectURL(y),j=document.createElement("a");j.href=S,j.download=b,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(S),document.body.removeChild(j)}catch(y){console.error("Template download error:",y),alert((y==null?void 0:y.message)||"Template download failed. Check console for details.")}},w=e==="faculty"?["Name","Faculty ID","Branch","Email"]:["Name","Roll Number","Branch","Batch","Section","Email"],v=e==="faculty"?["Batch","Section","Phone"]:["Phone"];return i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${i.failed===0?"bg-green-100":"bg-yellow-100"}`,children:i.failed===0?s.jsx(Re,{className:"w-8 h-8 text-green-600"}):s.jsx(In,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Complete"}),s.jsxs("p",{className:"text-gray-600",children:[i.successful," of ",i.total," accounts created successfully"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.successful}),s.jsx("div",{className:"text-sm text-gray-600",children:"Successful"})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.failed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]}),i.errors.length>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Errors Found:"}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:i.errors.map((y,b)=>s.jsxs("div",{className:"text-sm text-red-700",children:["Row ",y.row,": ",y.field," - ",y.message]},b))})]}),i.successful>0&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsx("p",{className:"text-green-800 text-sm",children:" Login credentials have been sent via email to all successfully created accounts."})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{l(null),a(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Another File"}),s.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Close"})]})]}):o?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[s.jsx(fg,{size:"lg",message:`Creating ${e==="faculty"?"faculty":"student"} accounts...`}),s.jsxs("div",{className:"text-center text-sm text-gray-600 max-w-md",children:[s.jsx("p",{children:"Processing your file. This may take a moment for large uploads."}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Validating data, checking for duplicates, and creating accounts..."})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(wN,{className:"w-12 h-12 mx-auto text-blue-600 mb-4"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Bulk Upload ",e==="faculty"?"Faculty":"Students"]}),s.jsx("p",{className:"text-gray-600",children:"Upload an Excel file to create multiple accounts at once"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Required Fields:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(y=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:y},y))}),v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("h4",{className:"font-medium text-blue-800 mt-3 mb-2",children:"Optional Fields:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(y=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:y},y))})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(Li,{size:16}),"Download Sample Template"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-400 bg-blue-50":n?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:p,children:n?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Re,{className:"w-8 h-8 mx-auto text-green-600"}),s.jsx("p",{className:"text-green-800 font-medium",children:n.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[(n.size/1024/1024).toFixed(2)," MB"]}),s.jsx("button",{type:"button",onClick:()=>a(null),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove file"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(cn,{className:"w-8 h-8 mx-auto text-gray-400"}),s.jsxs("p",{className:"text-gray-600",children:["Drag and drop your Excel file here, or"," ",s.jsxs("label",{className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:["browse",s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:m,className:"hidden"})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supports .xlsx and .xls files (max 5MB)"})]})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",disabled:o,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!n||o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{size:16}),"Upload & Create Accounts"]})})]})]})]})},t4=({testId:e,onBack:t})=>{const[r,n]=h.useState(null),[a,i]=h.useState(!0),[l,o]=h.useState(null),[c,d]=h.useState("all"),[u,m]=h.useState("all"),[f,p]=h.useState("all"),[g,x]=h.useState("all"),[w,v]=h.useState([]),[y,b]=h.useState([]),[S,j]=h.useState([]);h.useEffect(()=>{k(),N()},[e]);const N=async()=>{try{const[T,D,F]=await Promise.all([Q.getBranches(),Q.getBatches(),Q.getSections()]);v(T),b(D),j(F)}catch(T){console.error("Failed to load filters:",T)}},k=async()=>{try{i(!0);const T=await Q.getCollegeTestReport(e);n(T)}catch(T){o(T instanceof Error?T.message:"Failed to load report")}finally{i(!1)}},P=(r==null?void 0:r.students.filter(T=>!(c!=="all"&&T.branch!==c||u!=="all"&&T.batch!==u||f!=="all"&&T.section!==f||g!=="all"&&T.status!==g)))||[],A=()=>{if(!r)return;const T=["Student Name","ID Number","Branch","Batch","Section","Status","Marks Obtained","Total Marks","Percentage","Time Spent (min)"],D=P.map(R=>[R.name,R.idNumber,R.branch,R.batch,R.section,R.status,R.marksObtained,R.totalMarks,R.percentage.toFixed(2)+"%",Math.round(R.timeSpent/60)]),F=[T.join(","),...D.map(R=>R.join(","))].join(`
`),U=new Blob([F],{type:"text/csv"}),$=window.URL.createObjectURL(U),C=document.createElement("a");C.href=$,C.download=`${r.test.testName}_report.csv`,C.click(),window.URL.revokeObjectURL($)},O=()=>{d("all"),m("all"),p("all"),x("all")};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):l?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:l}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(b6,{size:20}),"Back to Tests"]}),s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(Li,{size:18}),"Download CSV"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.test.testName}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:r.test.subject}),r.test.testType&&s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:r.test.testType}),r.test.difficulty&&s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:r.test.difficulty})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Questions:"})," ",r.test.numberOfQuestions]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total Marks:"})," ",r.test.totalMarks]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Duration:"})," ",r.test.duration," min"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Ws,{size:20}),"Filters"]}),s.jsx("button",{onClick:O,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear All"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),s.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Branches"}),w.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),s.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Batches"}),y.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),s.jsxs("select",{value:f,onChange:T=>p(T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Sections"}),S.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:g,onChange:T=>x(T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Not Attempted",children:"Not Attempted"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Assigned"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.statistics.totalAssigned})]}),s.jsx(Ge,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.statistics.totalCompleted}),s.jsxs("p",{className:"text-xs text-gray-500",children:[r.statistics.completionRate,"% completion"]})]}),s.jsx(ze,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average Score"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.statistics.averageScore}),s.jsxs("p",{className:"text-xs text-gray-500",children:["H: ",r.statistics.highestScore," | L: ",r.statistics.lowestScore]})]}),s.jsx(qt,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pass Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.statistics.passRate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[r.statistics.passedStudents," / ",r.statistics.totalCompleted," passed"]})]}),s.jsx(Gt,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Student-wise Results"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",r.students.length," students"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch/Batch/Section"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Spent"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No students match the selected filters"})}):P.map((T,D)=>s.jsxs("tr",{className:D%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),s.jsx("div",{className:"text-sm text-gray-500",children:T.idNumber})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.branch," / ",T.batch," / ",T.section]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:T.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.marksObtained," / ",T.totalMarks]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:`h-2 rounded-full ${T.percentage>=60?"bg-green-500":T.percentage>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(T.percentage,100)}%`}})}),s.jsxs("span",{className:"text-sm text-gray-900",children:[T.percentage.toFixed(1),"%"]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Math.round(T.timeSpent/60)," min"]})]},D))})]})})]})]}):null},r4=({activeTab:e})=>{const[t,r]=h.useState(null),[n,a]=h.useState([]),[i,l]=h.useState([]),[o,c]=h.useState(1),[d,u]=h.useState(1),[m,f]=h.useState(null),[p,g]=h.useState(null),[x,w]=h.useState([]),[v,y]=h.useState("Assessment"),[b,S]=h.useState("all"),[j,N]=h.useState(!1),[k,P]=h.useState(!1),[A,O]=h.useState(!1),[T,D]=h.useState(!1),[F,U]=h.useState(null),[$,C]=h.useState(null),[R,L]=h.useState(!1),[E,I]=h.useState("student"),[X,W]=h.useState(!0),[le,ye]=h.useState(!1),[me,pe]=h.useState(null),[we,Wt]=h.useState(!1),[J,ge]=h.useState(null);h.useEffect(()=>{e==="faculty"?M():e==="students"?Z():e==="assigned-tests"?(he(),ve(v,b)):he()},[e,v,b]),h.useEffect(()=>{const V=ue=>{var Cr;const ae=(Cr=ue.detail)==null?void 0:Cr.testType;ae&&(y(ae),S("all"))};return window.addEventListener("testTypeChanged",V),()=>{window.removeEventListener("testTypeChanged",V)}},[]);const he=async()=>{try{const V=await Q.getCollegeDashboard();r(V)}catch(V){pe(V instanceof Error?V.message:"Failed to load dashboard data")}},M=async()=>{try{W(!0);const ae=await Q.getCollegeUsers("faculty",void 0,1,50);Array.isArray(ae)?(a(ae),f(ae.length),c(1)):ae&&ae.users?(a(ae.users),f(ae.total),c(ae.page||1)):a([])}catch(V){pe(V instanceof Error?V.message:"Failed to load faculty")}finally{W(!1)}},Z=async()=>{try{W(!0);const ae=await Q.getCollegeUsers("student",void 0,1,50);Array.isArray(ae)?(l(ae),g(ae.length),u(1)):ae&&ae.users?(l(ae.users),g(ae.total),u(ae.page||1)):l([])}catch(V){pe(V instanceof Error?V.message:"Failed to load students")}finally{W(!1)}},re=async()=>{if(m!==null&&n.length>=m)return;const V=o+1;try{ye(!0);const ue=await Q.getCollegeUsers("faculty",void 0,V,50);ue&&ue.users&&(a(ae=>[...ae,...ue.users]),c(ue.page||V))}catch(ue){console.error("Failed to load more faculty",ue)}finally{ye(!1)}},fe=async()=>{if(p!==null&&i.length>=p)return;const V=d+1;try{ye(!0);const ue=await Q.getCollegeUsers("student",void 0,V,50);ue&&ue.users&&(l(ae=>[...ae,...ue.users]),u(ue.page||V))}catch(ue){console.error("Failed to load more students",ue)}finally{ye(!1)}},ve=async(V,ue)=>{try{W(!0),pe(null);const ae=V!==void 0?V:v,Cr=ue!==void 0?ue:b,Fa=[...await Q.getAllTestsForCollege(ae==="all"?void 0:ae,Cr==="all"?void 0:Cr)].sort((Ys,Xi)=>Ys.assignedAt?Xi.assignedAt?new Date(Xi.assignedAt).getTime()-new Date(Ys.assignedAt).getTime():-1:1);w(Fa)}catch(ae){console.error("Failed to load tests:",ae),pe(ae instanceof Error?ae.message:"Failed to load tests")}finally{W(!1)}},H=async V=>{try{ye(!0),await Q.createUser(V),await he(),V.role==="faculty"?await M():await Z(),N(!1)}catch(ue){throw ue}finally{ye(!1)}},ce=async(V,ue)=>{try{ye(!0);const ae=await Q.bulkUploadUsers(V,ue);return await he(),ue==="faculty"?await M():await Z(),ae}catch(ae){throw ae}finally{ye(!1)}},_e=async(V,ue,ae)=>{try{await Q.updateTestAssignmentStatus(V,ue),ue==="accepted"&&ae?(y(ae),S("all"),await ve(ae,"all")):await ve()}catch(Cr){pe(Cr instanceof Error?Cr.message:"Failed to update test status")}},_=async(V,ue)=>{try{await Q.assignTestToStudents(V,ue),O(!1),U(null),await ve()}catch(ae){pe(ae instanceof Error?ae.message:"Failed to assign test to students")}},B=async V=>{try{ye(!0),await Q.createNotificationWithFile(V),D(!1)}catch(ue){throw ue}finally{ye(!1)}},K=V=>{C(V),L(!0)},oe=async V=>{if($)try{ye(!0),await Q.updateUser($._id,V),L(!1),C(null),he(),$.role==="faculty"?M():Z()}catch(ue){throw ue}finally{ye(!1)}},[Ne,xe]=h.useState(!1),[Be,Vr]=h.useState(null),[ns,zo]=h.useState(!1),pm=async(V,ue,ae)=>{Vr({id:V,name:ue,role:ae}),xe(!0)},gm=async()=>{if(Be)try{zo(!0),await Q.deleteUser(Be.id),alert(`Successfully deleted ${Be.role}: ${Be.name}`),he(),Be.role==="faculty"?M():Z()}catch(V){const ue=V instanceof Error?V.message:"Failed to delete user";pe(`Failed to delete ${Be.name}: ${ue}`)}finally{zo(!1),xe(!1),Vr(null)}},La=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),lr=V=>{I(V),N(!0)},Yi=V=>{I(V),P(!0)};if(X&&!t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})});if(me)return s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:me}),s.jsx("button",{onClick:()=>{pe(null),he()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]});if(e==="assigned-tests")return we&&J?s.jsx(t4,{testId:J,onBack:()=>{Wt(!1),ge(null)}}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Assigned Tests"})}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branches"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(x)&&x.length>0?x.map(V=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:V.testName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.assignmentStatus==="accepted"?"bg-green-100 text-green-800":V.assignmentStatus==="rejected"?"bg-red-100 text-red-800":V.assignmentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:V.assignmentStatus==="not_assigned"?"Not Assigned":V.assignmentStatus})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[V.testType&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:V.testType}),V.subject&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-800 rounded text-xs",children:V.subject}),V.difficulty&&s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${V.difficulty==="Easy"?"bg-green-100 text-green-800":V.difficulty==="Hard"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:V.difficulty})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.assignedAt?La(V.assignedAt):"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("div",{className:"text-xs text-gray-500",children:V.testBatches?V.testBatches.join(", "):"Not assigned"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("div",{className:"text-xs text-gray-500",children:V.testBranches?V.testBranches.join(", "):"Not assigned"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex gap-2",children:[V.assignmentStatus==="pending"&&V.assignmentId&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>_e(V.assignmentId,"accepted",V.testType),className:"bg-green-600 text-white py-1.5 px-3 rounded hover:bg-green-700 text-xs",children:"Accept"}),s.jsx("button",{onClick:()=>_e(V.assignmentId,"rejected"),className:"bg-red-600 text-white py-1.5 px-3 rounded hover:bg-red-700 text-xs",children:"Reject"})]}),V.assignmentStatus==="accepted"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{U(V),O(!0)},className:"bg-blue-600 text-white py-1.5 px-3 rounded hover:bg-blue-700 flex items-center gap-1 text-xs",title:"Assign to Students",children:[s.jsx(Ts,{size:14}),"Assign"]}),s.jsxs("button",{onClick:()=>{ge(V._id),Wt(!0)},className:"bg-purple-600 text-white py-1.5 px-3 rounded hover:bg-purple-700 flex items-center gap-1 text-xs",title:"View Report",children:[s.jsx(Et,{size:14}),"Report"]})]}),V.assignmentStatus==="not_assigned"&&s.jsx("span",{className:"text-xs text-gray-500 italic",children:"Not assigned"})]})})]},V._id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tests found"}),s.jsx("p",{className:"text-gray-600",children:"Tests created by Master Admin will appear here"})]})})})]})})}),F&&s.jsx(Te,{isOpen:A,onClose:()=>{O(!1),U(null)},title:"Assign Test to Students",size:"lg",children:s.jsx(n4,{test:F,onAssign:_,onClose:()=>{O(!1),U(null)}})})]});if(e==="notifications")return s.jsx(AN,{});const Bo=(V,ue)=>s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:ue}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>Yi(ue.toLowerCase().slice(0,-1)),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm",children:[s.jsx(cn,{size:16}),"Bulk Upload"]}),s.jsxs("button",{onClick:()=>lr(ue.toLowerCase().slice(0,-1)),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:16}),"Add ",ue.slice(0,-1)]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Login Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(V)&&V.length>0?V.map(ae=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.name}),s.jsx("div",{className:"text-sm text-gray-500",children:ae.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.idNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.branch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.batch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.section}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-2",children:ae.hasLoggedIn?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:16,className:"text-green-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:ae.lastLogin?La(ae.lastLogin):"Recently"})]}):s.jsxs(s.Fragment,{children:[s.jsx(De,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Never"})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K(ae),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:s.jsx($i,{size:18})}),s.jsx("button",{onClick:()=>pm(ae._id,ae.name,ae.role),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(vr,{size:18})})]})})]},ae._id)):null})]})}),(!Array.isArray(V)||V.length===0)&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsxs("p",{children:["No ",ue.toLowerCase()," found"]}),s.jsxs("div",{className:"mt-2 space-x-2",children:[s.jsxs("button",{onClick:()=>Yi(ue.toLowerCase().slice(0,-1)),className:"text-green-600 hover:text-green-800",children:["Bulk upload ",ue.toLowerCase()]}),s.jsx("span",{className:"text-gray-400",children:"or"}),s.jsx("button",{onClick:()=>lr(ue.toLowerCase().slice(0,-1)),className:"text-blue-600 hover:text-blue-800",children:"Add manually"})]})]})]});return e==="faculty"?s.jsxs("div",{className:"space-y-6",children:[Bo(n,"Faculty"),m!==null&&n.length<m&&s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:re,className:"px-4 py-2 bg-white border rounded text-sm hover:bg-gray-50",disabled:le,children:le?"Loading...":"Load more faculty"})}),s.jsx(Te,{isOpen:j,onClose:()=>N(!1),title:"Create New Faculty",size:"lg",children:s.jsx(qa,{onSubmit:H,loading:le,defaultRole:"faculty"})}),s.jsx(Te,{isOpen:k,onClose:()=>P(!1),title:"Bulk Upload Faculty",size:"lg",children:s.jsx(Hm,{role:"faculty",onSubmit:ce,onClose:()=>P(!1)})}),s.jsx(Te,{isOpen:R,onClose:()=>{L(!1),C(null)},title:"Edit Faculty",size:"lg",children:$&&s.jsx(qa,{onSubmit:oe,loading:le,defaultRole:"faculty",initialData:{name:$.name,email:$.email,role:"faculty",idNumber:$.idNumber,branch:$.branch,batch:$.batch,section:$.section,phoneNumber:$.phoneNumber||""}})})]}):e==="students"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[Bo(i,"Students"),p!==null&&i.length<p&&s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:fe,className:"px-4 py-2 bg-white border rounded text-sm hover:bg-gray-50",disabled:le,children:le?"Loading...":"Load more students"})}),s.jsx(Te,{isOpen:j,onClose:()=>N(!1),title:"Create New Student",size:"lg",children:s.jsx(qa,{onSubmit:H,loading:le,defaultRole:"student"})}),s.jsx(Te,{isOpen:k,onClose:()=>P(!1),title:"Bulk Upload Students",size:"lg",children:s.jsx(Hm,{role:"student",onSubmit:ce,onClose:()=>P(!1)})}),s.jsx(Te,{isOpen:R,onClose:()=>{L(!1),C(null)},title:"Edit Student",size:"lg",children:$&&s.jsx(qa,{onSubmit:oe,loading:le,defaultRole:"student",initialData:{name:$.name,email:$.email,role:"student",idNumber:$.idNumber,branch:$.branch,batch:$.batch,section:$.section,phoneNumber:$.phoneNumber||""}})})]}),s.jsx(Te,{isOpen:T,onClose:()=>D(!1),title:"Create New Notification",size:"lg",children:s.jsx(Jl,{onSubmit:B,loading:le,onClose:()=>D(!1)})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border",children:[s.jsxs("div",{className:"px-6 py-4 border-b",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Student Assignment Timeline"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Chronological view of student assignments to this college"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"relative",children:i.sort((V,ue)=>{var Ra,Fa;const ae=(Ra=V.assignedToCollege)!=null&&Ra.date?new Date(V.assignedToCollege.date).getTime():0;return((Fa=ue.assignedToCollege)!=null&&Fa.date?new Date(ue.assignedToCollege.date).getTime():0)-ae}).map(V=>{var ue;return s.jsx("div",{className:"mb-6 relative",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"absolute left-2.5 h-full w-0.5 bg-gray-200",style:{top:"20px"}}),s.jsx("div",{className:"absolute w-5 h-5 rounded-full bg-blue-500 border-2 border-white"}),s.jsxs("div",{className:"ml-8",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:V.name}),s.jsxs("p",{className:"text-xs text-gray-600",children:[V.branch," - ",V.batch," - ",V.section]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(ue=V.assignedToCollege)!=null&&ue.date?s.jsxs(s.Fragment,{children:["Assigned on ",new Date(V.assignedToCollege.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V.assignedToCollege.assignedBy&&s.jsxs(s.Fragment,{children:[" by ",s.jsx("span",{className:"font-medium",children:"Admin"})]})]}):"Assignment date not recorded"})]})]})},V._id)})})})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Faculty"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalFaculty})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(fa,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalStudents})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Re,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.loginStats.hasLoggedIn})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(De,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.loginStats.neverLoggedIn})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Recent Additions"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:Array.isArray(t.recentUsers)&&t.recentUsers.length>0?t.recentUsers.slice(0,5).map(V=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:V.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[V.role," - ",V.branch]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:V.hasLoggedIn?s.jsx(Re,{size:16,className:"text-green-500"}):s.jsx(De,{size:16,className:"text-orange-500"})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Added ",La(V.createdAt)]})]})]},V._id)):s.jsx("div",{className:"text-center text-gray-500 py-4",children:s.jsx("p",{className:"text-sm",children:"No recent users"})})})})]})})]}),s.jsx(Te,{isOpen:j,onClose:()=>N(!1),title:`Create New ${E==="faculty"?"Faculty":"Student"}`,size:"lg",children:s.jsx(qa,{onSubmit:H,loading:le,defaultRole:E})}),s.jsx(Te,{isOpen:k,onClose:()=>P(!1),title:`Bulk Upload ${E==="faculty"?"Faculty":"Students"}`,size:"lg",children:s.jsx(Hm,{role:E,onSubmit:ce,onClose:()=>P(!1)})}),s.jsx(Te,{isOpen:Ne,onClose:()=>{xe(!1),Vr(null)},title:"Confirm Delete",size:"sm",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",Be==null?void 0:Be.name,"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{xe(!1),Vr(null)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",disabled:ns,children:"Cancel"}),s.jsx("button",{onClick:gm,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",disabled:ns,children:ns?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vr,{size:16}),"Delete"]})})]})]})})]})},n4=({test:e,onAssign:t,onClose:r})=>{const[n,a]=h.useState([]),[i,l]=h.useState([]),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,f]=h.useState(""),[p,g]=h.useState(""),[x,w]=h.useState(""),[v,y]=h.useState([]),[b,S]=h.useState(""),[j,N]=h.useState(!0),[k,P]=h.useState(!1),[A,O]=h.useState(null);h.useEffect(()=>{T()},[]),h.useEffect(()=>{if(!(m||p||x||b)){u([]);return}const L=setTimeout(()=>{D()},300);return()=>clearTimeout(L)},[m,p,x,b]);const T=async()=>{try{N(!0),O(null);const[C,R,L]=await Promise.all([Q.getBranches(),Q.getBatches(),Q.getSections()]);if(!Array.isArray(C)||!Array.isArray(R)||!Array.isArray(L)){O("Failed to load filters: Invalid data received");return}a(C),l(R),c(L),(C.length>0||R.length>0||L.length>0)&&await D()}catch(C){console.error("Failed to load filters:",C),O(C instanceof Error?C.message:"Failed to load filters")}finally{N(!1)}},D=async()=>{try{N(!0),O(null);const C=await Q.getStudents(m||void 0,p||void 0,x||void 0,b||void 0,1,500);Array.isArray(C)?u(C):C&&C.students?u(C.students):(u([]),O("No students found matching the selected criteria"))}catch(C){console.error("Failed to load students:",C),u([]),O(C instanceof Error?C.message:"Failed to load students")}finally{N(!1)}},F=async C=>{if(C.preventDefault(),v.length===0){alert("Please select at least one student");return}if(!e.assignmentId){alert("Assignment ID not found");return}try{P(!0),await t(e.assignmentId,{branches:m?[m]:[],batches:p?[p]:[],sections:x?[x]:[],specificStudents:v})}finally{P(!1)}},U=C=>{y(R=>R.includes(C)?R.filter(L=>L!==C):[...R,C])},$=()=>{v.length===d.length?y([]):y(d.map(C=>C._id))};return s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Assign Test: ",e.testName]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select filters and then choose specific students to assign the test"})]}),j&&s.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10",children:s.jsx(be,{size:"lg"})}),A&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-red-700",children:A}),s.jsx("button",{onClick:()=>{O(null),T()},className:"text-sm text-red-600 hover:text-red-800 mt-2",children:"Try again"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),s.jsxs("select",{value:m,onChange:C=>f(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",disabled:j,children:[s.jsx("option",{value:"",children:"All Branches"}),n.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),s.jsxs("select",{value:p,onChange:C=>g(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",disabled:j,children:[s.jsx("option",{value:"",children:"All Batches"}),i.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),s.jsxs("select",{value:x,onChange:C=>w(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",disabled:j,children:[s.jsx("option",{value:"",children:"All Sections"}),o.map(C=>s.jsx("option",{value:C,children:C},C))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Students"}),s.jsx("input",{type:"text",value:b,onChange:C=>S(C.target.value),placeholder:"Search by name, email, or ID...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",disabled:j})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Students (",v.length," selected)"]}),d.length>0&&!j&&s.jsx("button",{type:"button",onClick:$,className:"text-sm text-blue-600 hover:text-blue-800",children:v.length===d.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto relative",children:j?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(be,{size:"sm"}),s.jsx("p",{className:"mt-2",children:"Loading students..."})]}):d.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"No students found. Please adjust your filters or search term."})}):s.jsx("div",{className:"divide-y",children:d.map(C=>s.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v.includes(C._id),onChange:()=>U(C._id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:j}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[C.idNumber," | ",C.branch," - ",C.batch," - ",C.section]})]})]},C._id))})})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",disabled:k||j,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:k||j||v.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:k?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Assigning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ts,{size:16}),"Assign to ",v.length," Student",v.length!==1?"s":""]})})]})]})},s4=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(null),[l,o]=h.useState("Assessment"),[c,d]=h.useState("all"),[u,m]=h.useState(!0),[f,p]=h.useState(null);h.useEffect(()=>{g(l,c)},[]);const g=async(S,j)=>{try{m(!0),p(null);const N=await Q.getCollegeAssignedTests(S==="all"?void 0:S,j==="all"?void 0:j);t(N);const k=await Q.getCollegeAssignedTests(),P=["Verbal","Reasoning","Technical","Arithmetic","Communication"],A={assessment:{},practice:{},mockTest:{},company:{}};P.forEach(T=>{A.assessment[T]=k.filter(D=>D.testId.testType==="Assessment"&&D.testId.subject===T).length,A.practice[T]=k.filter(D=>D.testId.testType==="Practice"&&D.testId.subject===T).length,A.mockTest[T]=k.filter(D=>D.testId.testType==="Mock Test"&&D.testId.subject===T).length,A.company[T]=k.filter(D=>D.testId.testType==="Specific Company Test"&&D.testId.subject===T).length}),n(A);const O={assessment:k.filter(T=>T.testId.testType==="Assessment").length,practice:k.filter(T=>T.testId.testType==="Practice").length,mockTest:k.filter(T=>T.testId.testType==="Mock Test").length,company:k.filter(T=>T.testId.testType==="Specific Company Test").length};i(O)}catch(N){p(N instanceof Error?N.message:"Failed to load tests")}finally{m(!1)}},x=S=>new Date(S).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=S=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-300",accepted:"bg-green-100 text-green-800 border-green-300",rejected:"bg-red-100 text-red-800 border-red-300"})[S]||"bg-gray-100 text-gray-800 border-gray-300",v=S=>({Assessment:"bg-blue-100 text-blue-800",Practice:"bg-green-100 text-green-800","Mock Test":"bg-orange-100 text-orange-800","Specific Company Test":"bg-red-100 text-red-800"})[S]||"bg-gray-100 text-gray-800",y=S=>({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"})[S]||"bg-gray-100 text-gray-800",b=S=>{const j=new Date,N=new Date(S.testId.startDateTime),k=new Date(S.testId.endDateTime);return j<N?{text:"Upcoming",icon:De,color:"text-yellow-600"}:j>k?{text:"Ended",icon:In,color:"text-red-600"}:{text:"Active",icon:mg,color:"text-green-600"}};return u&&!r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):f?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx(In,{className:"mx-auto h-12 w-12 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:f}),s.jsx("button",{onClick:()=>g(l,c),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tests"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage assigned tests"})]})}),s.jsx("div",{className:"grid gap-6",children:e.map(S=>{const j=b(S),N=j.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.testId.testName}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${w(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(S.testId.testType)}`,children:S.testId.testType}),S.testId.difficulty&&s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(S.testId.difficulty)}`,children:S.testId.difficulty}),s.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${j.color} bg-gray-100`,children:[s.jsx(N,{size:14}),j.text]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:S.testId.testDescription}),S.testId.companyName&&s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["Company: ",S.testId.companyName]})}),S.testId.testType==="Practice"&&s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Students get instant feedback"})})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Subject"}),s.jsx("p",{className:"font-semibold text-blue-700",children:S.testId.subject})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Questions"}),s.jsx("p",{className:"font-semibold text-green-700",children:S.testId.numberOfQuestions})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Duration"}),s.jsxs("p",{className:"font-semibold text-purple-700",children:[S.testId.duration," min"]})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Marks"}),s.jsx("p",{className:"font-semibold text-orange-700",children:S.testId.totalMarks})]}),S.assignedStudentsCount!==void 0&&s.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Students"}),s.jsx("p",{className:"font-semibold text-indigo-700",children:S.assignedStudentsCount})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{size:16}),s.jsxs("span",{children:["Start: ",x(S.testId.startDateTime)]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{size:16}),s.jsxs("span",{children:["End: ",x(S.testId.endDateTime)]})]})]})})]},S._id)})}),e.length===0&&!u&&s.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx(ze,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tests found"}),s.jsx("p",{className:"text-gray-600",children:"No tests available for the selected category and subject."})]})]})},a4=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(null);h.useState("all"),h.useState("all");const[l,o]=h.useState(""),[c,d]=h.useState("all"),[u,m]=h.useState("all"),[f,p]=h.useState("all"),[g,x]=h.useState(!0),[w,v]=h.useState(null),[y,b]=h.useState([]),[S,j]=h.useState([]),[N,k]=h.useState([]);h.useEffect(()=>{P()},[]),h.useEffect(()=>{A()},[e,l,c,u,f]);const P=async(C,R)=>{try{x(!0),v(null);const L=await Q.getFacultyStudentReports(C==="all"?void 0:C,R==="all"?void 0:R);t(L);const E=[...new Set(L.map(me=>me.batch).filter(Boolean))],I=[...new Set(L.map(me=>me.branch).filter(Boolean))],X=[...new Set(L.map(me=>me.section).filter(Boolean))];b(E),j(I),k(X);const W=await Q.getFacultyStudentReports(),le=["Verbal","Reasoning","Technical","Arithmetic","Communication"],ye={assessment:{},practice:{},mockTest:{},company:{}};le.forEach(me=>{ye.assessment[me]=W.filter(pe=>pe.testType==="Assessment"&&pe.subject===me).length,ye.practice[me]=W.filter(pe=>pe.testType==="Practice"&&pe.subject===me).length,ye.mockTest[me]=W.filter(pe=>pe.testType==="Mock Test"&&pe.subject===me).length,ye.company[me]=W.filter(pe=>pe.testType==="Specific Company Test"&&pe.subject===me).length}),i(ye)}catch(L){v(L instanceof Error?L.message:"Failed to load reports")}finally{x(!1)}},A=()=>{let C=[...e];l&&(C=C.filter(R=>R.studentName.toLowerCase().includes(l.toLowerCase())||R.studentEmail.toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(C=C.filter(R=>R.batch===c)),u!=="all"&&(C=C.filter(R=>R.branch===u)),f!=="all"&&(C=C.filter(R=>R.section===f)),n(C)},O=C=>new Date(C).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=C=>C==="Pass"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",D=C=>({Assessment:"bg-blue-100 text-blue-800",Practice:"bg-green-100 text-green-800","Mock Test":"bg-orange-100 text-orange-800","Specific Company Test":"bg-red-100 text-red-800"})[C]||"bg-gray-100 text-gray-800",F=C=>({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"})[C]||"bg-gray-100 text-gray-800",$=(()=>{if(r.length===0)return null;const C=r.length,R=new Set(r.map(I=>I.studentEmail)).size,L=r.filter(I=>I.status==="Pass").length,E=r.reduce((I,X)=>I+X.percentage,0)/C;return{totalTests:C,uniqueStudents:R,passedTests:L,failedTests:C-L,avgPercentage:E.toFixed(1)}})();return g&&!a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):w?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:w}),s.jsx("button",{onClick:()=>P(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Test Reports"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View all students test performance and scores"})]})}),$&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ze,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Attempts"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:$.totalTests})]})]})}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-700",children:$.uniqueStudents})]})]})}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Passed"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:$.passedTests})]})]})}),s.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ze,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:$.failedTests})]})]})}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Avg Score"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[$.avgPercentage,"%"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ws,{className:"h-5 w-5 text-gray-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by student name or email...",value:l,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Batches"}),y.map(C=>s.jsx("option",{value:C,children:C},C))]}),s.jsxs("select",{value:u,onChange:C=>m(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Branches"}),S.map(C=>s.jsx("option",{value:C,children:C},C))]}),s.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Sections"}),N.map(C=>s.jsx("option",{value:C,children:C},C))]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.studentName}),s.jsx("div",{className:"text-xs text-gray-500",children:C.studentEmail}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[C.batch&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:C.batch}),C.branch&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:C.branch}),C.section&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:C.section})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.testName}),C.companyName&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Company: ",C.companyName]}),C.difficulty&&s.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-full text-xs font-medium w-fit ${F(C.difficulty)}`,children:C.difficulty})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D(C.testType)}`,children:C.testType})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:C.subject})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.marksObtained," / ",C.totalMarks]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[C.correctAnswers," correct, ",C.incorrectAnswers," incorrect"]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[C.percentage.toFixed(1),"%"]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T(C.status)}`,children:C.status})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[s.jsx(Yt,{size:14}),O(C.completedAt)]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[s.jsx(De,{size:12}),C.timeSpent," min"]})]})]},C._id))})]})})}),r.length===0&&!g&&s.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx(Gt,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No test reports found"}),s.jsx("p",{className:"text-gray-600",children:"No student has completed any tests yet or no results match your filters."})]})]})};function WN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=WN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=WN(e))&&(n&&(n+=" "),n+=t);return n}var Nu={},KN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(KN);var vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vg);var bg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(bg);var Su={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];o?d==="\\"&&i+1<a?(i++,l+=r[i]):d===o?o="":l+=d:c?d==='"'||d==="'"?o=d:d==="]"?(c=!1,n.push(l),l=""):l+=d:d==="["?(c=!0,l&&(n.push(l),l="")):d==="."?l&&(n.push(l),l=""):l+=d,i++}return l&&n.push(l),n}e.toPath=t})(Su);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KN,r=vg,n=bg,a=Su;function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?r.isDeepKey(c)?i(o,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(Nu);var i4=Nu.get;const Sa=Hn(i4);var QN={exports:{}},Ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=Symbol.for("react.transitional.element"),wg=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),Cu=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),Au=Symbol.for("react.consumer"),Tu=Symbol.for("react.context"),Eu=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),Du=Symbol.for("react.lazy"),l4=Symbol.for("react.view_transition"),o4=Symbol.for("react.client.reference");function Kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jg:switch(e=e.type,e){case ku:case Pu:case Cu:case Ou:case _u:case l4:return e;default:switch(e=e&&e.$$typeof,e){case Tu:case Eu:case Du:case Mu:return e;case Au:return e;default:return t}}case wg:return t}}}Ie.ContextConsumer=Au;Ie.ContextProvider=Tu;Ie.Element=jg;Ie.ForwardRef=Eu;Ie.Fragment=ku;Ie.Lazy=Du;Ie.Memo=Mu;Ie.Portal=wg;Ie.Profiler=Pu;Ie.StrictMode=Cu;Ie.Suspense=Ou;Ie.SuspenseList=_u;Ie.isContextConsumer=function(e){return Kr(e)===Au};Ie.isContextProvider=function(e){return Kr(e)===Tu};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jg};Ie.isForwardRef=function(e){return Kr(e)===Eu};Ie.isFragment=function(e){return Kr(e)===ku};Ie.isLazy=function(e){return Kr(e)===Du};Ie.isMemo=function(e){return Kr(e)===Mu};Ie.isPortal=function(e){return Kr(e)===wg};Ie.isProfiler=function(e){return Kr(e)===Pu};Ie.isStrictMode=function(e){return Kr(e)===Cu};Ie.isSuspense=function(e){return Kr(e)===Ou};Ie.isSuspenseList=function(e){return Kr(e)===_u};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ku||e===Pu||e===Cu||e===Ou||e===_u||typeof e=="object"&&e!==null&&(e.$$typeof===Du||e.$$typeof===Mu||e.$$typeof===Tu||e.$$typeof===Au||e.$$typeof===Eu||e.$$typeof===o4||e.getModuleId!==void 0)};Ie.typeOf=Kr;QN.exports=Ie;var c4=QN.exports,wt=e=>e===0?0:e>0?1:-1,br=e=>typeof e=="number"&&e!=+e,la=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!br(e),bn=e=>de(e)||typeof e=="string",d4=0,eo=e=>{var t=++d4;return"".concat(e||"").concat(t)},Bt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var i;if(la(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return br(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},VN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function st(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function HN(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Sa(n,t))===r)}var Ye=e=>e===null||typeof e>"u",yo=e=>Ye(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),u4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ng(e){if(typeof e!="string")return!1;var t=u4;return t.includes(e)}var m4=["viewBox","children"],ov=["points","pathLength"],Gm={svg:m4,polygon:ov,polyline:ov},Sg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ng(a)&&(n[a]=i=>r[a](r,i))}),n},f4=(e,t,r)=>n=>(e(t,r,n),null),vo=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ng(a)&&typeof i=="function"&&(n||(n={}),n[a]=f4(i,t,r))}),n},h4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GN(e){if(typeof e!="string")return!1;var t=h4;return t.includes(e)}function Nn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return GN(n)});return Object.fromEntries(t)}var cv=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dv=null,Ym=null,YN=e=>{if(e===dv&&Array.isArray(Ym))return Ym;var t=[];return h.Children.forEach(e,r=>{Ye(r)||(c4.isFragment(r)?t=t.concat(YN(r.props.children)):t.push(r))}),Ym=t,dv=e,t};function kg(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>cv(a)):n=[cv(t)],YN(e).forEach(a=>{var i=Sa(a,"type.displayName")||Sa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var XN=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,p4=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(Gm==null?void 0:Gm[n]))!==null&&a!==void 0?a:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||GN(t)),c=!!r&&Ng(t);return l||o||c},tt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(h.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;p4((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},g4=["children","width","height","viewBox","className","style","title","desc"];function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}function x4(e,t){if(e==null)return{};var r,n,a=y4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cg=h.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=x4(e,g4),m=i||{width:n,height:a,x:0,y:0},f=Pe("recharts-surface",l);return h.createElement("svg",wh({},tt(u,!0,"svg"),{className:f,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,d),r)}),v4=["children","className"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(null,arguments)}function b4(e,t){if(e==null)return{};var r,n,a=j4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mt=h.forwardRef((e,t)=>{var{children:r,className:n}=e,a=b4(e,v4),i=Pe("recharts-layer",n);return h.createElement("g",Nh({className:i},tt(a,!0),{ref:t}),r)}),ZN=h.createContext(null),w4=()=>h.useContext(ZN);function $e(e){return function(){return e}}const JN=Math.cos,yd=Math.sin,an=Math.sqrt,vd=Math.PI,Iu=2*vd,Sh=Math.PI,kh=2*Sh,ea=1e-6,N4=kh-ea;function e2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function S4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e2;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class k4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e2:S4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,d=a-r,u=l-t,m=o-r,f=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ea)if(!(Math.abs(m*c-d*u)>ea)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-l,g=a-o,x=c*c+d*d,w=p*p+g*g,v=Math.sqrt(x),y=Math.sqrt(f),b=i*Math.tan((Sh-Math.acos((x+f-w)/(2*v*y)))/2),S=b/y,j=b/v;Math.abs(S-1)>ea&&this._append`L${t+S*u},${r+S*m}`,this._append`A${i},${i},0,0,${+(m*p>u*g)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),d=t+o,u=r+c,m=1^l,f=l?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ea||Math.abs(this._y1-u)>ea)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%kh+kh),f>N4?this._append`A${n},${n},0,1,${m},${t-o},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=u}`:f>ea&&this._append`A${n},${n},0,${+(f>=Sh)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Pg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new k4(t)}function Ag(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t2(e){this._context=e}t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $u(e){return new t2(e)}function r2(e){return e[0]}function n2(e){return e[1]}function s2(e,t){var r=$e(!0),n=null,a=$u,i=null,l=Pg(o);e=typeof e=="function"?e:e===void 0?r2:$e(e),t=typeof t=="function"?t:t===void 0?n2:$e(t);function o(c){var d,u=(c=Ag(c)).length,m,f=!1,p;for(n==null&&(i=a(p=l())),d=0;d<=u;++d)!(d<u&&r(m=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,d,c),+t(m,d,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:$e(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:$e(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:$e(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function dc(e,t,r){var n=null,a=$e(!0),i=null,l=$u,o=null,c=Pg(d);e=typeof e=="function"?e:e===void 0?r2:$e(+e),t=typeof t=="function"?t:$e(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?n2:$e(+r);function d(m){var f,p,g,x=(m=Ag(m)).length,w,v=!1,y,b=new Array(x),S=new Array(x);for(i==null&&(o=l(y=c())),f=0;f<=x;++f){if(!(f<x&&a(w=m[f],f,m))===v)if(v=!v)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(b[g],S[g]);o.lineEnd(),o.areaEnd()}v&&(b[f]=+e(w,f,m),S[f]=+t(w,f,m),o.point(n?+n(w,f,m):b[f],r?+r(w,f,m):S[f]))}if(y)return o=null,y+""||null}function u(){return s2().defined(a).curve(l).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:$e(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:$e(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:$e(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:$e(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:$e(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:$e(+m),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:$e(!!m),d):a},d.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),d):l},d.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),d):i},d}class a2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C4(e){return new a2(e,!0)}function P4(e){return new a2(e,!1)}const Tg={draw(e,t){const r=an(t/vd);e.moveTo(r,0),e.arc(0,0,r,0,Iu)}},A4={draw(e,t){const r=an(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},i2=an(1/3),T4=i2*2,E4={draw(e,t){const r=an(t/T4),n=r*i2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},O4={draw(e,t){const r=an(t),n=-r/2;e.rect(n,n,r,r)}},_4=.8908130915292852,l2=yd(vd/10)/yd(7*vd/10),M4=yd(Iu/10)*l2,D4=-JN(Iu/10)*l2,I4={draw(e,t){const r=an(t*_4),n=M4*r,a=D4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Iu*i/5,o=JN(l),c=yd(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Xm=an(3),$4={draw(e,t){const r=-an(t/(Xm*3));e.moveTo(0,r*2),e.lineTo(-Xm*r,-r),e.lineTo(Xm*r,-r),e.closePath()}},Pr=-.5,Ar=an(3)/2,Ch=1/an(12),L4=(Ch/2+1)*3,R4={draw(e,t){const r=an(t/L4),n=r/2,a=r*Ch,i=n,l=r*Ch+r,o=-i,c=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(Pr*n-Ar*a,Ar*n+Pr*a),e.lineTo(Pr*i-Ar*l,Ar*i+Pr*l),e.lineTo(Pr*o-Ar*c,Ar*o+Pr*c),e.lineTo(Pr*n+Ar*a,Pr*a-Ar*n),e.lineTo(Pr*i+Ar*l,Pr*l-Ar*i),e.lineTo(Pr*o+Ar*c,Pr*c-Ar*o),e.closePath()}};function F4(e,t){let r=null,n=Pg(a);e=typeof e=="function"?e:$e(e||Tg),t=typeof t=="function"?t:$e(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:$e(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:$e(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function bd(){}function jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function o2(e){this._context=e}o2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z4(e){return new o2(e)}function c2(e){this._context=e}c2.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B4(e){return new c2(e)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U4(e){return new d2(e)}function u2(e){this._context=e}u2.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q4(e){return new u2(e)}function uv(e){return e<0?-1:1}function mv(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(uv(i)+uv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function fv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function wd(e){this._context=e}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zm(this,this._t0,fv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zm(this,fv(this,r=mv(this,e,t)),r);break;default:Zm(this,this._t0,r=mv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function m2(e){this._context=new f2(e)}(m2.prototype=Object.create(wd.prototype)).point=function(e,t){wd.prototype.point.call(this,t,e)};function f2(e){this._context=e}f2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function W4(e){return new wd(e)}function K4(e){return new m2(e)}function h2(e){this._context=e}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hv(e),a=hv(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hv(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Q4(e){return new h2(e)}function Lu(e,t){this._context=e,this._t=t}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function V4(e){return new Lu(e,.5)}function H4(e){return new Lu(e,0)}function G4(e){return new Lu(e,1)}function Ni(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ph(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Y4(e,t){return e[t]}function X4(e){const t=[];return t.key=e,t}function Z4(){var e=$e([]),t=Ph,r=Ni,n=Y4;function a(i){var l=Array.from(e.apply(this,arguments),X4),o,c=l.length,d=-1,u;for(const m of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+n(m,l[o].key,d,i)]).data=m;for(o=0,u=Ag(t(l));o<c;++o)l[u[o]].index=o;return r(l,u),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:$e(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$e(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ph:typeof i=="function"?i:$e(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ni,a):r},a}function J4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Ni(e,t)}}function e3(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ni(e,t)}}function t3(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],m=u[n][1]||0,f=u[n-1][1]||0,p=(m-f)/2,g=0;g<o;++g){var x=e[t[g]],w=x[n][1]||0,v=x[n-1][1]||0;p+=w-v}c+=m,d+=p*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Ni(e,t)}}var r3=["type","size","sizeType"];function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n3(e,t,r){return(t=s3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3(e){var t=a3(e,"string");return typeof t=="symbol"?t:t+""}function a3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3(e,t){if(e==null)return{};var r,n,a=l3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p2={symbolCircle:Tg,symbolCross:A4,symbolDiamond:E4,symbolSquare:O4,symbolStar:I4,symbolTriangle:$4,symbolWye:R4},o3=Math.PI/180,c3=e=>{var t="symbol".concat(yo(e));return p2[t]||Tg},d3=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*o3;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},u3=(e,t)=>{p2["symbol".concat(yo(e))]=t},Eg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=i3(e,r3),i=gv(gv({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var f=c3(l),p=F4().type(f).size(d3(r,n,l));return p()},{className:c,cx:d,cy:u}=i,m=tt(i,!0);return d===+d&&u===+u&&r===+r?h.createElement("path",Ah({},m,{className:Pe("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};Eg.registerSymbol=u3;function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(null,arguments)}function xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xv(Object(r),!0).forEach(function(n){Og(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Og(e,t,r){return(t=f3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=h3(e,"string");return typeof t=="symbol"?t:t+""}function h3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tr=32;class _g extends h.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Tr/2,i=Tr/6,l=Tr/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return h.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Tr,y2:a,className:"recharts-legend-icon"});if(c==="line")return h.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Tr,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return h.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Tr/8,"h").concat(Tr,"v").concat(Tr*3/4,"h").concat(-Tr,"z"),className:"recharts-legend-icon"});if(h.isValidElement(t.legendIcon)){var d=m3({},t);return delete d.legendIcon,h.cloneElement(t.legendIcon,d)}return h.createElement(Eg,{fill:o,cx:a,cy:a,size:Tr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:Tr,height:Tr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var f=u.formatter||a,p=Pe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?i:u.color,x=f?f(u.value,u,m):u.value;return h.createElement("li",Th({className:p,style:c,key:"legend-item-".concat(m)},vo(this.props,u,m)),h.createElement(Cg,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,l)),h.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return h.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Og(_g,"displayName","Legend");Og(_g,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var g2={},x2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(x2);var Mg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Mg);var y2={},Ru={},v2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(v2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ru);var b2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(b2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ru,r=b2;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(y2);var j2={},w2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nu;function r(n){return function(a){return t.get(a,n)}}e.property=r})(w2);var N2={},Jm={},ef={},Dg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dg);var Ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ig);var $g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})($g);var yv;function p3(){return yv||(yv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lg(),r=Dg,n=Ig,a=$g;function i(m,f,p){return typeof p!="function"?t.isMatch(m,f):l(m,f,function g(x,w,v,y,b,S){const j=p(x,w,v,y,b,S);return j!==void 0?!!j:l(x,w,g,S)},new Map)}function l(m,f,p,g){if(f===m)return!0;switch(typeof f){case"object":return o(m,f,p,g);case"function":return Object.keys(f).length>0?l(m,{...f},p,g):a.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:a.eq(m,f)}}function o(m,f,p,g){if(f==null)return!0;if(Array.isArray(f))return d(m,f,p,g);if(f instanceof Map)return c(m,f,p,g);if(f instanceof Set)return u(m,f,p,g);const x=Object.keys(f);if(m==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(f))return g.get(f)===m;g&&g.set(f,m);try{for(let w=0;w<x.length;w++){const v=x[w];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!p(m[v],f[v],v,m,f,g))return!1}return!0}finally{g&&g.delete(f)}}function c(m,f,p,g){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,w]of f.entries()){const v=m.get(x);if(p(v,w,x,m,f,g)===!1)return!1}return!0}function d(m,f,p,g){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let w=0;w<f.length;w++){const v=f[w];let y=!1;for(let b=0;b<m.length;b++){if(x.has(b))continue;const S=m[b];let j=!1;if(p(S,v,w,m,f,g)&&(j=!0),j){x.add(b),y=!0;break}}if(!y)return!1}return!0}function u(m,f,p,g){return f.size===0?!0:m instanceof Set?d([...m],[...f],p,g):!1}e.isMatchWith=i,e.isSetMatch=u}(ef)),ef}var vv;function Lg(){return vv||(vv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p3();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Jm)),Jm}var S2={},Rg={},k2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(k2);var Fg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Fg);var zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",P="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=x,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=v})(zg);var C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(C2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k2,r=Fg,n=zg,a=Ig,i=C2;function l(u,m){return o(u,void 0,u,new Map,m)}function o(u,m,f,p=new Map,g=void 0){const x=g==null?void 0:g(u,m,f,p);if(x!==void 0)return x;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const w=new Array(u.length);p.set(u,w);for(let v=0;v<u.length;v++)w[v]=o(u[v],v,f,p,g);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;p.set(u,w);for(const[v,y]of u)w.set(v,o(y,v,f,p,g));return w}if(u instanceof Set){const w=new Set;p.set(u,w);for(const v of u)w.add(o(v,void 0,f,p,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,w);for(let v=0;v<u.length;v++)w[v]=o(u[v],v,f,p,g);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,w),c(w,u,f,p,g),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return p.set(u,w),c(w,u,f,p,g),w}if(u instanceof Blob){const w=new Blob([u],{type:u.type});return p.set(u,w),c(w,u,f,p,g),w}if(u instanceof Error){const w=new u.constructor;return p.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,c(w,u,f,p,g),w}if(typeof u=="object"&&d(u)){const w=Object.create(Object.getPrototypeOf(u));return p.set(u,w),c(w,u,f,p,g),w}return u}function c(u,m,f=u,p,g){const x=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<x.length;w++){const v=x[w],y=Object.getOwnPropertyDescriptor(u,v);(y==null||y.writable)&&(u[v]=o(m[v],v,f,p,g))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(Rg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lg(),r=S2;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(N2);var P2={},A2={},T2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rg,r=zg;function n(a,i){return t.cloneDeepWith(a,(l,o,c,d)=>{const u=i==null?void 0:i(l,o,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(A2);var E2={},Bg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Bg);var O2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fg;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vg,r=Bg,n=O2,a=Su;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(E2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lg(),r=bg,n=A2,a=Nu,i=E2;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(P2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg,r=w2,n=N2,a=P2;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(j2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x2,r=Mg,n=y2,a=j2;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(g2);var g3=g2.uniqBy;const bv=Hn(g3);function _2(e,t,r){return t===!0?bv(e,r):typeof t=="function"?bv(e,t):e}var M2={exports:{}},D2={},I2={exports:{}},$2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=h;function x3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y3=typeof Object.is=="function"?Object.is:x3,v3=Si.useState,b3=Si.useEffect,j3=Si.useLayoutEffect,w3=Si.useDebugValue;function N3(e,t){var r=t(),n=v3({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return j3(function(){a.value=r,a.getSnapshot=t,tf(a)&&i({inst:a})},[e,r,t]),b3(function(){return tf(a)&&i({inst:a}),e(function(){tf(a)&&i({inst:a})})},[e]),w3(r),r}function tf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!y3(e,r)}catch{return!0}}function S3(e,t){return t()}var k3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S3:N3;$2.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:k3;I2.exports=$2;var C3=I2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=h,P3=C3;function A3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T3=typeof Object.is=="function"?Object.is:A3,E3=P3.useSyncExternalStore,O3=Fu.useRef,_3=Fu.useEffect,M3=Fu.useMemo,D3=Fu.useDebugValue;D2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=O3(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=M3(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),a!==void 0&&l.hasValue){var g=l.value;if(a(g,p))return m=g}return m=p}if(g=m,T3(u,p))return g;var x=n(p);return a!==void 0&&a(g,x)?(u=p,g):(u=p,m=x)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var o=E3(e,i[0],i[1]);return _3(function(){l.hasValue=!0,l.value=o},[o]),D3(o),o};M2.exports=D2;var I3=M2.exports,Ug=h.createContext(null),$3=e=>e,rt=()=>{var e=h.useContext(Ug);return e?e.store.dispatch:$3},Wc=()=>{},L3=()=>Wc,R3=(e,t)=>e===t;function ie(e){var t=h.useContext(Ug);return I3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L3,t?t.store.getState:Wc,t?t.store.getState:Wc,t?e:Wc,R3)}function F3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function z3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function B3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var jv=e=>Array.isArray(e)?e:[e];function U3(e){const t=Array.isArray(e[0])?e[0]:e;return B3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function q3(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var W3=class{constructor(e){this.value=e}deref(){return this.value}},K3=typeof WeakRef<"u"?WeakRef:W3,Q3=0,wv=1;function uc(){return{s:Q3,v:void 0,o:null,p:null}}function L2(e,t={}){let r=uc();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var m;let o=r;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const w=x.get(g);w===void 0?(o=uc(),x.set(g,o)):o=w}else{let x=o.p;x===null&&(o.p=x=new Map);const w=x.get(g);w===void 0?(o=uc(),x.set(g,o)):o=w}}const d=o;let u;if(o.s===wv)u=o.v;else if(u=e.apply(null,arguments),i++,n){const f=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;f!=null&&n(f,u)&&(u=f,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new K3(u):u}return d.s=wv,d.v=u,u}return l.clearCache=()=>{r=uc(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function V3(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),F3(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:p=L2,argsMemoizeOptions:g=[],devModeChecks:x={}}=u,w=jv(f),v=jv(g),y=U3(a),b=m(function(){return i++,d.apply(null,arguments)},...w),S=p(function(){l++;const N=q3(y,arguments);return o=b.apply(null,N),o},...v);return Object.assign(S,{resultFunc:d,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var z=V3(L2),H3=Object.assign((e,t=z)=>{z3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>H3}),R2={},F2={},z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(z2);var B2={},qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(B2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z2,r=B2,n=Su;function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const d=(p,g)=>{let x=p;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},u=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:d(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?d(g,p):typeof g=="object"?g[p]:g,m=l.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(g=>u(g,p))})).slice().sort((p,g)=>{for(let x=0;x<m.length;x++){const w=t.compareValues(p.criteria[x],g.criteria[x],o[x]);if(w!==0)return w}return 0}).map(p=>p.original)}e.orderBy=a})(F2);var U2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):a.push(u)}};return l(r,0),a}e.flatten=t})(U2);var Wg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bg,r=Ru,n=Dg,a=$g;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(Wg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2,r=U2,n=Wg;function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(R2);var G3=R2.sortBy;const zu=Hn(G3);var q2=e=>e.legend.settings,Y3=e=>e.legend.size,X3=e=>e.legend.payload,Z3=z([X3,q2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?zu(n,r):n});function J3(){return ie(Z3)}var mc=1;function W2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),n=h.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>mc||Math.abs(l.left-t.left)>mc||Math.abs(l.top-t.top)>mc||Math.abs(l.width-t.width)>mc)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e_=typeof Symbol=="function"&&Symbol.observable||"@@observable",Nv=e_,rf=()=>Math.random().toString(36).substring(7).split("").join("."),t_={INIT:`@@redux/INIT${rf()}`,REPLACE:`@@redux/REPLACE${rf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rf()}`},Nd=t_;function Kg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function K2(e,t,r){if(typeof e!="function")throw new Error(Ct(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ct(1));return r(K2)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((w,v)=>{l.set(v,w)}))}function u(){if(c)throw new Error(Ct(3));return a}function m(w){if(typeof w!="function")throw new Error(Ct(4));if(c)throw new Error(Ct(5));let v=!0;d();const y=o++;return l.set(y,w),function(){if(v){if(c)throw new Error(Ct(6));v=!1,d(),l.delete(y),i=null}}}function f(w){if(!Kg(w))throw new Error(Ct(7));if(typeof w.type>"u")throw new Error(Ct(8));if(typeof w.type!="string")throw new Error(Ct(17));if(c)throw new Error(Ct(9));try{c=!0,a=n(a,w)}finally{c=!1}return(i=l).forEach(y=>{y()}),w}function p(w){if(typeof w!="function")throw new Error(Ct(10));n=w,f({type:Nd.REPLACE})}function g(){const w=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ct(11));function y(){const S=v;S.next&&S.next(u())}return y(),{unsubscribe:w(y)}},[Nv](){return this}}}return f({type:Nd.INIT}),{dispatch:f,subscribe:m,getState:u,replaceReducer:p,[Nv]:g}}function r_(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nd.INIT})>"u")throw new Error(Ct(12));if(typeof r(void 0,{type:Nd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function Q2(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{r_(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const m=n[u],f=r[m],p=l[m],g=f(p,o);if(typeof g>"u")throw o&&o.type,new Error(Ct(14));d[m]=g,c=c||g!==p}return c=c||n.length!==Object.keys(l).length,c?d:l}}function Sd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function n_(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ct(15))};const l={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Sd(...o)(a.dispatch),{...a,dispatch:i}}}function V2(e){return Kg(e)&&"type"in e&&typeof e.type=="string"}var H2=Symbol.for("immer-nothing"),Sv=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function Jr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ki=Object.getPrototypeOf;function ka(e){return!!e&&!!e[jr]}function Wn(e){var t;return e?G2(e)||Array.isArray(e)||!!e[Sv]||!!((t=e.constructor)!=null&&t[Sv])||bo(e)||Uu(e):!1}var s_=Object.prototype.constructor.toString();function G2(e){if(!e||typeof e!="object")return!1;const t=ki(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===s_}function kd(e,t){Bu(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Bu(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:bo(e)?2:Uu(e)?3:0}function Eh(e,t){return Bu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Y2(e,t,r){const n=Bu(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function a_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bo(e){return e instanceof Map}function Uu(e){return e instanceof Set}function ta(e){return e.copy_||e.base_}function Oh(e,t){if(bo(e))return new Map(e);if(Uu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=G2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(ki(e),n)}else{const n=ki(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Qg(e,t=!1){return qu(e)||ka(e)||!Wn(e)||(Bu(e)>1&&Object.defineProperties(e,{set:{value:fc},add:{value:fc},clear:{value:fc},delete:{value:fc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Qg(r,!0))),e}function fc(){Jr(2)}function qu(e){return Object.isFrozen(e)}var i_={};function Ca(e){const t=i_[e];return t||Jr(0,e),t}var to;function X2(){return to}function l_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kv(e,t){t&&(Ca("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _h(e){Mh(e),e.drafts_.forEach(o_),e.drafts_=null}function Mh(e){e===to&&(to=e.parent_)}function Cv(e){return to=l_(to,e)}function o_(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Pv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(_h(t),Jr(4)),Wn(e)&&(e=Cd(t,e),t.parent_||Pd(t,e)),t.patches_&&Ca("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=Cd(t,r,[]),_h(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H2?e:void 0}function Cd(e,t,r){if(qu(t))return t;const n=t[jr];if(!n)return kd(t,(a,i)=>Av(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Pd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),kd(i,(o,c)=>Av(e,n,a,o,c,r,l)),Pd(e,a,!1),r&&e.patches_&&Ca("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Av(e,t,r,n,a,i,l){if(ka(a)){const o=i&&t&&t.type_!==3&&!Eh(t.assigned_,n)?i.concat(n):void 0,c=Cd(e,a,o);if(Y2(r,n,c),ka(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Wn(a)&&!qu(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Cd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(bo(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Pd(e,a)}}function Pd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qg(t,r)}function c_(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:X2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Vg;r&&(a=[n],i=ro);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var Vg={get(e,t){if(t===jr)return e;const r=ta(e);if(!Eh(r,t))return d_(e,r,t);const n=r[t];return e.finalized_||!Wn(n)?n:n===nf(e.base_,t)?(sf(e),e.copy_[t]=Ih(n,e)):n},has(e,t){return t in ta(e)},ownKeys(e){return Reflect.ownKeys(ta(e))},set(e,t,r){const n=Z2(ta(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=nf(ta(e),t),i=a==null?void 0:a[jr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(a_(r,a)&&(r!==void 0||Eh(e.base_,t)))return!0;sf(e),Dh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sf(e),Dh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ta(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Jr(11)},getPrototypeOf(e){return ki(e.base_)},setPrototypeOf(){Jr(12)}},ro={};kd(Vg,(e,t)=>{ro[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ro.deleteProperty=function(e,t){return ro.set.call(this,e,t,void 0)};ro.set=function(e,t,r){return Vg.set.call(this,e[0],t,r,e[0])};function nf(e,t){const r=e[jr];return(r?ta(r):e)[t]}function d_(e,t,r){var a;const n=Z2(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Z2(e,t){if(!(t in e))return;let r=ki(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ki(r)}}function Dh(e){e.modified_||(e.modified_=!0,e.parent_&&Dh(e.parent_))}function sf(e){e.copy_||(e.copy_=Oh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var u_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...d){return l.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Jr(6),n!==void 0&&typeof n!="function"&&Jr(7);let a;if(Wn(t)){const i=Cv(this),l=Ih(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?_h(i):Mh(i)}return kv(i,n),Pv(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===H2&&(a=void 0),this.autoFreeze_&&Qg(a,!0),n){const i=[],l=[];Ca("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Jr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wn(e)||Jr(8),ka(e)&&(e=Ln(e));const t=Cv(this),r=Ih(e,void 0);return r[jr].isManual_=!0,Mh(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&Jr(9);const{scope_:n}=r;return kv(n,t),Pv(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ca("Patches").applyPatches_;return ka(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ih(e,t){const r=bo(e)?Ca("MapSet").proxyMap_(e,t):Uu(e)?Ca("MapSet").proxySet_(e,t):c_(e,t);return(t?t.scope_:X2()).drafts_.push(r),r}function Ln(e){return ka(e)||Jr(10,e),J2(e)}function J2(e){if(!Wn(e)||qu(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Oh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Oh(e,!0);return kd(r,(n,a)=>{Y2(r,n,J2(a))}),t&&(t.finalized_=!1),r}var m_=new u_,eS=m_.produce;function tS(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var f_=tS(),h_=tS,p_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sd:Sd.apply(null,arguments)};function qr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(xr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>V2(n)&&n.type===e,r}var rS=class jl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jl.prototype)}static get[Symbol.species](){return jl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jl(...t[0].concat(this)):new jl(...t.concat(this))}};function Tv(e){return Wn(e)?eS(e,()=>{}):e}function hc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function g_(e){return typeof e=="boolean"}var x_=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new rS;return r&&(g_(r)?l.push(f_):l.push(h_(r.extraArgument))),l},y_="RTK_autoBatch",Ev=e=>t=>{setTimeout(t,e)},v_=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ev(10):e.type==="callback"?e.queueNotification:Ev(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>a&&u(),f=n.subscribe(m);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var m;try{return a=!((m=u==null?void 0:u.meta)!=null&&m[y_]),i=!a,i&&(l||(l=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},b_=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new rS(e);return n&&a.push(v_(typeof n=="object"?n:void 0)),a};function j_(e){const t=x_(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Kg(r))c=Q2(r);else throw new Error(xr(1));let d;typeof n=="function"?d=n(t):d=t();let u=Sd;a&&(u=p_({trace:!1,...typeof a=="object"&&a}));const m=n_(...d),f=b_(m);let p=typeof o=="function"?o(f):f();const g=u(...p);return K2(c,l,g)}function nS(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(xr(28));if(o in t)throw new Error(xr(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function w_(e){return typeof e=="function"}function N_(e,t){let[r,n,a]=nS(t),i;if(w_(e))i=()=>Tv(e());else{const o=Tv(e);i=()=>o}function l(o=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,m)=>{if(m)if(ka(u)){const p=m(u,c);return p===void 0?u:p}else{if(Wn(u))return eS(u,f=>m(f,c));{const f=m(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return l.getInitialState=i,l}var S_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",k_=(e=21)=>{let t="",r=e;for(;r--;)t+=S_[Math.random()*64|0];return t},C_=Symbol.for("rtk-slice-createasyncthunk");function P_(e,t){return`${e}/${t}`}function A_({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[C_];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(xr(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(E_()):a.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(xr(12));if(N in d.sliceCaseReducersByType)throw new Error(xr(13));return d.sliceCaseReducersByType[N]=j,u},addMatcher(S,j){return d.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return d.actionCreators[S]=j,u},exposeCaseReducer(S,j){return d.sliceCaseReducersByName[S]=j,u}};c.forEach(S=>{const j=o[S],N={reducerName:S,type:P_(i,S),createNotation:typeof a.reducers=="function"};__(j)?D_(N,j,u,t):O_(N,j,u)});function m(){const[S={},j=[],N=void 0]=typeof a.extraReducers=="function"?nS(a.extraReducers):[a.extraReducers],k={...S,...d.sliceCaseReducersByType};return N_(a.initialState,P=>{for(let A in k)P.addCase(A,k[A]);for(let A of d.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of j)P.addMatcher(A.matcher,A.reducer);N&&P.addDefaultCase(N)})}const f=S=>S,p=new Map,g=new WeakMap;let x;function w(S,j){return x||(x=m()),x(S,j)}function v(){return x||(x=m()),x.getInitialState()}function y(S,j=!1){function N(P){let A=P[S];return typeof A>"u"&&j&&(A=hc(g,N,v)),A}function k(P=f){const A=hc(p,j,()=>new WeakMap);return hc(A,P,()=>{const O={};for(const[T,D]of Object.entries(a.selectors??{}))O[T]=T_(D,P,()=>hc(g,P,v),j);return O})}return{reducerPath:S,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const b={name:i,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:v,...y(l),injectInto(S,{reducerPath:j,...N}={}){const k=j??l;return S.inject({reducerPath:k,reducer:w},N),{...b,...y(k,!0)}}};return b}}function T_(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var kr=A_();function E_(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function O_({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!M_(n))throw new Error(xr(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?qr(e,l):qr(e))}function __(e){return e._reducerDefinitionType==="asyncThunk"}function M_(e){return e._reducerDefinitionType==="reducerWithPrepare"}function D_({type:e,reducerName:t},r,n,a){if(!a)throw new Error(xr(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=r,m=a(e,i,u);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),c&&n.addCase(m.rejected,c),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:l||pc,pending:o||pc,rejected:c||pc,settled:d||pc})}function pc(){}var I_="task",sS="listener",aS="completed",Hg="cancelled",$_=`task-${Hg}`,L_=`task-${aS}`,$h=`${sS}-${Hg}`,R_=`${sS}-${aS}`,Wu=class{constructor(e){ym(this,"name","TaskAbortError");ym(this,"message");this.code=e,this.message=`${I_} ${Hg} (reason: ${e})`}},Gg=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Ad=()=>{},iS=(e,t=Ad)=>(e.catch(t),e),lS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ha=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},pa=e=>{if(e.aborted){const{reason:t}=e;throw new Wu(t)}};function oS(e,t){let r=Ad;return new Promise((n,a)=>{const i=()=>a(new Wu(e.reason));if(e.aborted){i();return}r=lS(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ad})}var F_=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wu?"cancelled":"rejected",error:r}}finally{t==null||t()}},Td=e=>t=>iS(oS(e,t).then(r=>(pa(e),r))),cS=e=>{const t=Td(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:mi}=Object,Ov={},Ku="listenerMiddleware",z_=(e,t)=>{const r=n=>lS(e,()=>ha(n,e.reason));return(n,a)=>{Gg(n);const i=new AbortController;r(i);const l=F_(async()=>{pa(e),pa(i.signal);const o=await n({pause:Td(i.signal),delay:cS(i.signal),signal:i.signal});return pa(i.signal),o},()=>ha(i,L_));return a!=null&&a.autoJoin&&t.push(l.catch(Ad)),{result:Td(e)(l),cancel(){ha(i,$_)}}}},B_=(e,t)=>{const r=async(n,a)=>{pa(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await oS(t,Promise.race(o));return pa(t),c}finally{i()}};return(n,a)=>iS(r(n,a))},dS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=qr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(xr(21));return Gg(i),{predicate:a,type:t,effect:i}},uS=mi(e=>{const{type:t,predicate:r,effect:n}=dS(e);return{id:k_(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>uS}),_v=(e,t)=>{const{type:r,effect:n,predicate:a}=dS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Lh=e=>{e.pending.forEach(t=>{ha(t,$h)})},U_=e=>()=>{e.forEach(Lh),e.clear()},Mv=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},mS=mi(qr(`${Ku}/add`),{withTypes:()=>mS}),q_=qr(`${Ku}/removeAll`),fS=mi(qr(`${Ku}/remove`),{withTypes:()=>fS}),W_=(...e)=>{console.error(`${Ku}/error`,...e)},jo=(e={})=>{const t=new Map,{extra:r,onError:n=W_}=e;Gg(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),m=>{u.unsubscribe(),m!=null&&m.cancelActive&&Lh(u)}),i=u=>{const m=_v(t,u)??uS(u);return a(m)};mi(i,{withTypes:()=>i});const l=u=>{const m=_v(t,u);return m&&(m.unsubscribe(),u.cancelActive&&Lh(m)),!!m};mi(l,{withTypes:()=>l});const o=async(u,m,f,p)=>{const g=new AbortController,x=B_(i,g.signal),w=[];try{u.pending.add(g),await Promise.resolve(u.effect(m,mi({},f,{getOriginalState:p,condition:(v,y)=>x(v,y).then(Boolean),take:x,delay:cS(g.signal),pause:Td(g.signal),extra:r,signal:g.signal,fork:z_(g.signal,w),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,y,b)=>{v!==g&&(ha(v,$h),b.delete(v))})},cancel:()=>{ha(g,$h),u.pending.delete(g)},throwIfCancelled:()=>{pa(g.signal)}})))}catch(v){v instanceof Wu||Mv(n,v,{raisedBy:"effect"})}finally{await Promise.all(w),ha(g,R_),u.pending.delete(g)}},c=U_(t);return{middleware:u=>m=>f=>{if(!V2(f))return m(f);if(mS.match(f))return i(f.payload);if(q_.match(f)){c();return}if(fS.match(f))return l(f.payload);let p=u.getState();const g=()=>{if(p===Ov)throw new Error(xr(23));return p};let x;try{if(x=m(f),t.size>0){const w=u.getState(),v=Array.from(t.values());for(const y of v){let b=!1;try{b=y.predicate(f,w,p)}catch(S){b=!1,Mv(n,S,{raisedBy:"predicate"})}b&&o(y,f,u,g)}}}finally{p=Ov}return x},startListening:i,stopListening:l,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K_={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hS=kr({name:"chartLayout",initialState:K_,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Q_,setLayout:V_,setChartSize:H_,setScale:G_}=hS.actions,Y_=hS.reducer;function Dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dv(Object(r),!0).forEach(function(n){X_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X_(e,t,r){return(t=Z_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_(e){var t=J_(e,"string");return typeof t=="symbol"?t:t+""}function J_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ed=Math.PI/180,e5=e=>e*180/Math.PI,dt=(e,t,r,n)=>({x:e+Math.cos(-Ed*n)*r,y:t+Math.sin(-Ed*n)*r}),pS=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},t5=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},r5=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=t5({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:e5(c),angleInRadian:c}},n5=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},s5=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},a5=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=r5({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:d}=n5(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?Iv(Iv({},t),{},{radius:a,angle:s5(u,t)}):null};function gS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(r),!0).forEach(function(n){i5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i5(e,t,r){return(t=l5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5(e){var t=o5(e,"string");return typeof t=="symbol"?t:t+""}function o5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fe(e,t,r){return Ye(e)||Ye(t)?r:bn(t)?Sa(e,t,r):typeof t=="function"?t(e):r}var c5=(e,t,r,n,a)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,u=r[c].coordinate,m=c>=o-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(wt(u-d)!==wt(m-u)){var p=[];if(wt(m-u)===wt(a[1]-a[0])){f=m;var g=u+a[1]-a[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{f=d;var x=m+a[1]-a[0];p[0]=Math.min(u,(x+u)/2),p[1]=Math.max(u,(x+u)/2)}var w=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>w[0]&&e<=w[1]||e>=p[0]&&e<=p[1]){({index:l}=r[c]);break}}else{var v=Math.min(d,m),y=Math.max(d,m);if(e>(v+u)/2&&e<=(y+u)/2){({index:l}=r[c]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:l}=t[b]);break}}return l},d5=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&de(e[i]))return Dr(Dr({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&de(e[l]))return Dr(Dr({},e),{},{[l]:e[l]+(a||0)})}return e},Ks=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xS=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},yS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:f,axisType:p}=e;if(!l)return null;var g=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,x=a==="category"&&l.bandwidth?l.bandwidth()/g:0;if(x=p==="angleAxis"&&i&&i.length>=2?wt(i[0]-i[1])*2*x:x,m||f){var w=(m||f||[]).map((v,y)=>{var b=n?n.indexOf(v):v;return{coordinate:l(b)+x,value:v,offset:x,index:y}});return w.filter(v=>!br(v.coordinate))}return c&&d?d.map((v,y)=>({coordinate:l(v)+x,value:v,index:y,offset:x})):l.ticks&&!r&&u!=null?l.ticks(u).map((v,y)=>({coordinate:l(v)+x,value:v,offset:x,index:y})):l.domain().map((v,y)=>({coordinate:l(v)+x,value:n?n[v]:v,index:y,offset:x}))},Lv=1e-4,u5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Lv,i=Math.max(n[0],n[1])+Lv,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},m5=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},f5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=br(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},h5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=br(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},p5={sign:f5,expand:J4,none:Ni,silhouette:e3,wiggle:t3,positive:h5},g5=(e,t,r)=>{var n=p5[r],a=Z4().keys(t).value((i,l)=>+Fe(i,l,0)).order(Ph).offset(n);return a(e)};function x5(e){return e==null?void 0:String(e)}function Rv(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var o=HN(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Fe(a,Ye(l)?t.dataKey:l);return Ye(c)?null:t.scale(c)}var Fv=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=Fe(i,t.dataKey,t.scale.domain()[l]);return Ye(o)?null:t.scale(o)-a/2+n},y5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},v5=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},b5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],j5=(e,t,r)=>{if(e!=null)return b5(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=gS(d,t,r),m=v5(u);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},zv=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bv=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,no=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=zu(t,u=>u.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],d=a[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Uv(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Dr(Dr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Fi(e,t){if(e)return String(e);if(typeof t=="string")return t}function w5(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?a5({x:e,y:t},n):null}var N5=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Dr(Dr(Dr({},n),dt(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=n;return Dr(Dr(Dr({},n),dt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},S5=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Yn=e=>e.layout.width,Xn=e=>e.layout.height,k5=e=>e.layout.scale,vS=e=>e.layout.margin,Qu=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vu=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bS="data-recharts-item-index",jS="data-recharts-item-data-key",wo=60;function qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(r),!0).forEach(function(n){C5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C5(e,t,r){return(t=P5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5(e){var t=A5(e,"string");return typeof t=="symbol"?t:t+""}function A5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T5=e=>e.brush.height;function E5(e){var t=Vu(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wo;return r+a}return r},0)}function O5(e){var t=Vu(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wo;return r+a}return r},0)}function _5(e){var t=Qu(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function M5(e){var t=Qu(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var gt=z([Yn,Xn,vS,T5,E5,O5,_5,M5,q2,Y3],(e,t,r,n,a,i,l,o,c,d)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},f=gc(gc({},m),u),p=f.bottom;f.bottom+=n,f=d5(f,c,d);var g=e-f.left-f.right,x=t-f.top-f.bottom;return gc(gc({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(x,0)})}),D5=z(gt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yg=z(Yn,Xn,(e,t)=>({x:0,y:0,width:e,height:t})),I5=h.createContext(null),ir=()=>h.useContext(I5)!=null,Hu=e=>e.brush,Gu=z([Hu,gt,vS],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),Xg=()=>{var e,t=ir(),r=ie(D5),n=ie(Gu),a=(e=ie(Hu))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},$5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wS=()=>{var e;return(e=ie(gt))!==null&&e!==void 0?e:$5},Zg=()=>ie(Yn),Jg=()=>ie(Xn),L5=()=>ie(e=>e.layout.margin),ke=e=>e.layout.layoutType,Yu=()=>ie(ke),R5={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NS=kr({name:"legend",initialState:R5,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Ln(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Wv,setLegendSettings:F5,addLegendPayload:SS,removeLegendPayload:kS}=NS.actions,z5=NS.reducer,B5=["contextPayload"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(null,arguments)}function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kv(Object(r),!0).forEach(function(n){ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ex(e,t,r){return(t=U5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=q5(e,"string");return typeof t=="symbol"?t:t+""}function q5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W5(e,t){if(e==null)return{};var r,n,a=K5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Q5(e){return e.value}function V5(e){var{contextPayload:t}=e,r=W5(e,B5),n=_2(t,e.payloadUniqBy,Q5),a=Ci(Ci({},r),{},{payload:n});return h.isValidElement(e.content)?h.cloneElement(e.content,a):typeof e.content=="function"?h.createElement(e.content,a):h.createElement(_g,a)}function H5(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((n||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ci(Ci({},d),u)}function G5(e){var t=rt();return h.useEffect(()=>{t(F5(e))},[t,e]),null}function Y5(e){var t=rt();return h.useEffect(()=>(t(Wv(e)),()=>{t(Wv({width:0,height:0}))}),[t,e]),null}function X5(e){var t=J3(),r=w4(),n=L5(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[c,d]=W2([t]),u=Zg(),m=Jg();if(u==null||m==null)return null;var f=u-(n.left||0)-(n.right||0),p=Pa.getWidthOrHeight(e.layout,i,a,f),g=o?l:Ci(Ci({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||i||"auto"},H5(l,e,n,u,m,c)),l),x=o??r;if(x==null)return null;var w=h.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},h.createElement(G5,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),h.createElement(Y5,{width:c.width,height:c.height}),h.createElement(V5,Rh({},e,p,{margin:n,chartWidth:u,chartHeight:m,contextPayload:t})));return cg.createPortal(w,x)}class Pa extends h.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&de(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return h.createElement(X5,this.props)}}ex(Pa,"displayName","Legend");ex(Pa,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(null,arguments)}function Qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qv(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5(e,t,r){return(t=J5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=eM(e,"string");return typeof t=="symbol"?t:t+""}function eM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tM(e){return Array.isArray(e)&&bn(e[0])&&bn(e[1])?e.join(" ~ "):e}var rM=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:f=!1}=e,p=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(o?zu(i,o):i).map((k,P)=>{if(k.type==="none")return null;var A=k.formatter||l||tM,{value:O,name:T}=k,D=O,F=T;if(A){var U=A(O,T,k,P,i);if(Array.isArray(U))[D,F]=U;else if(U!=null)D=U;else return null}var $=af({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:$},bn(F)?h.createElement("span",{className:"recharts-tooltip-item-name"},F):null,bn(F)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},D),h.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},g=af({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=af({margin:0},a),w=!Ye(u),v=w?u:"",y=Pe("recharts-default-tooltip",c),b=Pe("recharts-tooltip-label",d);w&&m&&i!==void 0&&i!==null&&(v=m(u,i));var S=f?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",Fh({className:y,style:g},S),h.createElement("p",{className:b,style:x},h.isValidElement(v)?v:"".concat(v)),p())},ol="recharts-tooltip-wrapper",nM={visibility:"hidden"};function sM(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(ol,{["".concat(ol,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(ol,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(ol,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(ol,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function Vv(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&de(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?u:m;var f=c[n];if(f==null)return 0;if(l[n]){var p=u,g=f;return p<g?Math.max(m,f):Math.max(u,f)}if(d==null)return 0;var x=m+o,w=f+d;return x>w?Math.max(u,f):Math.max(m,f)}function aM(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iM(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,m;return l.height>0&&l.width>0&&r?(u=Vv({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=Vv({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=aM({translateX:u,translateY:m,useTranslate3d:o})):d=nM,{cssProperties:d,cssClasses:sM({translateX:u,translateY:m,coordinate:r})}}function Hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hv(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return(t=lM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lM(e){var t=oM(e,"string");return typeof t=="symbol"?t:t+""}function oM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cM extends h.PureComponent{constructor(){super(...arguments),zh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=iM({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:f,viewBox:p}),S=v?{}:xc(xc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=xc(xc({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:j,ref:w},i)}}var dM=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qs={devToolsEnabled:!1,isSsr:dM()},CS=()=>ie(e=>e.rootProps.accessibilityLayer);function wr(e){return Number.isFinite(e)}function Pi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){uM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uM(e,t,r){return(t=mM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mM(e){var t=fM(e,"string");return typeof t=="symbol"?t:t+""}function fM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv={curveBasisClosed:B4,curveBasisOpen:U4,curveBasis:z4,curveBumpX:C4,curveBumpY:P4,curveLinearClosed:q4,curveLinear:$u,curveMonotoneX:W4,curveMonotoneY:K4,curveNatural:Q4,curveStep:V4,curveStepAfter:G4,curveStepBefore:H4},yc=e=>wr(e.x)&&wr(e.y),cl=e=>e.x,dl=e=>e.y,hM=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(yo(e));return(r==="curveMonotone"||r==="curveBump")&&t?Xv["".concat(r).concat(t==="vertical"?"Y":"X")]:Xv[r]||$u},pM=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=hM(t,a),o=i?r.filter(yc):r,c;if(Array.isArray(n)){var d=i?n.filter(m=>yc(m)):n,u=o.map((m,f)=>Yv(Yv({},m),{},{base:d[f]}));return a==="vertical"?c=dc().y(dl).x1(cl).x0(m=>m.base.x):c=dc().x(cl).y1(dl).y0(m=>m.base.y),c.defined(yc).curve(l),c(u)}return a==="vertical"&&de(n)?c=dc().y(dl).x1(cl).x0(n):de(n)?c=dc().x(cl).y1(dl).y0(n):c=s2().x(cl).y(dl),c.defined(yc).curve(l),c(o)},tx=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?pM(e):n;return h.createElement("path",Bh({},Nn(e),Sg(e),{className:Pe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},gM=["x","y","top","left","width","height","className"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(null,arguments)}function Zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zv(Object(r),!0).forEach(function(n){yM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yM(e,t,r){return(t=vM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=bM(e,"string");return typeof t=="symbol"?t:t+""}function bM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jM(e,t){if(e==null)return{};var r,n,a=wM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NM=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),SM=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=jM(e,gM),d=xM({x:t,y:r,top:n,left:a,width:i,height:l},c);return!de(t)||!de(r)||!de(i)||!de(l)||!de(n)||!de(a)?null:h.createElement("path",Uh({},tt(d,!0),{className:Pe("recharts-cross",o),d:NM(t,r,i,l,n,a)}))};function kM(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(r),!0).forEach(function(n){PM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PM(e,t,r){return(t=AM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AM(e){var t=TM(e,"string");return typeof t=="symbol"?t:t+""}function TM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dt(e,t){var r=CM({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function EM(){}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(n){OM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OM(e,t,r){return(t=_M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _M(e){var t=MM(e,"string");return typeof t=="symbol"?t:t+""}function MM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DM=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),PS=(e,t,r)=>e.map(n=>"".concat(DM(n)," ").concat(t,"ms ").concat(r)).join(","),IM=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),so=(e,t)=>Object.keys(t).reduce((r,n)=>tb(tb({},r),{},{[n]:e(n,t[n])}),{});function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){$M(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $M(e,t,r){return(t=LM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LM(e){var t=RM(e,"string");return typeof t=="symbol"?t:t+""}function RM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od=(e,t,r)=>e+(t-e)*r,qh=e=>{var{from:t,to:r}=e;return t!==r},AS=(e,t,r)=>{var n=so((a,i)=>{if(qh(i)){var[l,o]=e(i.from,i.to,i.velocity);return At(At({},i),{},{from:l,velocity:o})}return i},t);return r<1?so((a,i)=>qh(i)?At(At({},i),{},{velocity:Od(i.velocity,n[a].velocity,r),from:Od(i.from,n[a].from,r)}):i,t):AS(e,n,r-1)};function FM(e,t,r,n,a,i){var l,o=n.reduce((f,p)=>At(At({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>so((f,p)=>p.from,o),d=()=>!Object.values(o).filter(qh).length,u=null,m=f=>{l||(l=f);var p=f-l,g=p/r.dt;o=AS(r,o,g),a(At(At(At({},e),t),c())),l=f,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{u()})}function zM(e,t,r,n,a,i,l){var o=null,c=a.reduce((m,f)=>At(At({},m),{},{[f]:[e[f],t[f]]}),{}),d,u=m=>{d||(d=m);var f=(m-d)/n,p=so((x,w)=>Od(...w,r(f)),c);if(i(At(At(At({},e),t),p)),f<1)o=l.setTimeout(u);else{var g=so((x,w)=>Od(...w,r(1)),c);i(At(At(At({},e),t),g))}};return()=>(o=l.setTimeout(u),()=>{o()})}const BM=(e,t,r,n,a,i)=>{var l=IM(e,t);return r.isStepper===!0?FM(e,t,r,l,a,i):zM(e,t,r,n,l,a,i)};var _d=1e-4,TS=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ES=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),nb=(e,t)=>r=>{var n=TS(e,t);return ES(n,r)},UM=(e,t)=>r=>{var n=TS(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return ES(a,r)},sb=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else l.length===4&&([t,n,r,a]=l);var d=nb(t,r),u=nb(n,a),m=UM(t,r),f=g=>g>1?1:g<0?0:g,p=g=>{for(var x=g>1?1:g,w=x,v=0;v<8;++v){var y=d(w)-x,b=m(w);if(Math.abs(y-x)<_d||b<_d)return u(w);w=f(w-y/b)}return u(w)};return p.isStepper=!1,p},qM=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,c)=>{var d=-(l-o)*r,u=c*n,m=c+(d-u)*a/1e3,f=c*a/1e3+l;return Math.abs(f-o)<_d&&Math.abs(m)<_d?[o,0]:[f,m]};return i.isStepper=!0,i.dt=a,i},WM=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sb(e);case"spring":return qM();default:if(e.split("(")[0]==="cubic-bezier")return sb(e)}return typeof e=="function"?e:null};function KM(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class QM{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function VM(){return KM(new QM)}var HM=h.createContext(VM);function GM(e,t){var r=h.useContext(HM);return h.useMemo(()=>t??r(e),[e,t,r])}var YM={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ab={t:0},lf={t:1};function No(e){var t=Dt(e,YM),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=GM(t.animationId,t.animationManager),[m,f]=h.useState(r?ab:lf),p=h.useRef(null);return h.useEffect(()=>{r||f(lf)},[r]),h.useEffect(()=>{if(!r||!n)return EM;var g=BM(ab,lf,WM(i),a,f,u.getTimeoutController()),x=()=>{p.current=g()};return u.start([c,l,x,a,o]),()=>{u.stop(),p.current&&p.current(),o()}},[r,n,a,i,l,c,o,u]),d(m.t)}function So(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(eo(t)),n=h.useRef(e);return n.current!==e&&(r.current=eo(t),n.current=e),r.current}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(n){XM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XM(e,t,r){return(t=ZM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=JM(e,"string");return typeof t=="symbol"?t:t+""}function JM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(null,arguments)}var ob=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],m=0,f=4;m<f;m++)u[m]=a[m]>i?i:a[m];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*u[1])),d+="L ".concat(e+r,",").concat(t+n-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),d+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);d="M ".concat(e,",").concat(t+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*p,`
            L `).concat(e+r,",").concat(t+n-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},eD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OS=e=>{var t=Dt(e,eD),r=h.useRef(null),[n,a]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:x}=t,w=h.useRef(o),v=h.useRef(c),y=h.useRef(i),b=h.useRef(l),S=h.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),j=So(S,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var N=Pe("recharts-rectangle",u);if(!x)return h.createElement("path",Md({},tt(t,!0),{className:N,d:ob(i,l,o,c,d)}));var k=w.current,P=v.current,A=y.current,O=b.current,T="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),F=PS(["strokeDasharray"],f,typeof m=="string"?m:void 0);return h.createElement(No,{animationId:j,key:j,canBegin:n>0,duration:f,easing:m,isActive:x,begin:p},U=>{var $=st(k,o,U),C=st(P,c,U),R=st(A,i,U),L=st(O,l,U);r.current&&(w.current=$,v.current=C,y.current=R,b.current=L);var E;return g?U>0?E={transition:F,strokeDasharray:D}:E={strokeDasharray:T}:E={strokeDasharray:D},h.createElement("path",Md({},tt(t,!0),{className:N,d:ob(R,L,$,C,d),ref:r,style:lb(lb({},E),t.style)}))})};function _S(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=dt(t,r,n,a),o=dt(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(null,arguments)}var tD=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+n,u=Math.asin(o/d)/Ed,m=c?a:a+i*u,f=dt(t,r,d,m),p=dt(t,r,n,m),g=c?a-i*u:a,x=dt(t,r,d*Math.cos(u*Ed),g);return{center:f,circleTangency:p,lineTangency:x,theta:u}},MS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=tD(i,l),c=i+o,d=dt(t,r,a,i),u=dt(t,r,a,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=dt(t,r,n,i),p=dt(t,r,n,c);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},rD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=wt(d-c),{circleTangency:m,lineTangency:f,theta:p}=vc({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:x,theta:w}=vc({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),v=o?Math.abs(c-d):Math.abs(c-d)-p-w;if(v<0)return l?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):MS({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var y="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:S,theta:j}=vc({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:N,lineTangency:k,theta:P}=vc({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),A=o?Math.abs(c-d):Math.abs(c-d)-j-P;if(A<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},nD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DS=e=>{var t=Dt(e,nD),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<a||d===u)return null;var f=Pe("recharts-sector",m),p=i-a,g=Bt(l,p,0,!0),x;return g>0&&Math.abs(d-u)<360?x=rD({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):x=MS({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),h.createElement("path",Wh({},tt(t,!0),{className:f,d:x}))};function sD(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:m}=t,f=dt(o,c,d,m),p=dt(o,c,u,m);n=f.x,a=f.y,i=p.x,l=p.y}else return _S(t);return[{x:n,y:a},{x:i,y:l}]}var IS={},$S={},LS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(LS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($S);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wg,r=$S;function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=a,a+=l;return c}e.range=n})(IS);var aD=IS.range;const RS=Hn(aD);function ks(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iD(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rx(e){let t,r,n;e.length!==2?(t=ks,r=(o,c)=>ks(e(o),c),n=(o,c)=>e(o)-c):(t=e===ks||e===iD?e:lD,r=e,n=e);function a(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(o[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(o[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function l(o,c,d=0,u=o.length){const m=a(o,c,d,u-1);return m>d&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:a,center:l,right:i}}function lD(){return 0}function FS(e){return e===null?NaN:+e}function*oD(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cD=rx(ks),ko=cD.right;rx(FS).center;class cb extends Map{constructor(t,r=mD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(db(this,t))}has(t){return super.has(db(this,t))}set(t,r){return super.set(dD(this,t),r)}delete(t){return super.delete(uD(this,t))}}function db({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uD({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mD(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fD(e=ks){if(e===ks)return zS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hD=Math.sqrt(50),pD=Math.sqrt(10),gD=Math.sqrt(2);function Dd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=hD?10:i>=pD?5:i>=gD?2:1;let o,c,d;return a<0?(d=Math.pow(10,-a)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?Dd(e,t,r*2):[o,c,d]}function Kh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Dd(t,e,r):Dd(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(a+d)/-l;else for(let d=0;d<o;++d)c[d]=(a+d)*l;return c}function Qh(e,t,r){return t=+t,e=+e,r=+r,Dd(e,t,r)[2]}function Vh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Qh(t,e,r):Qh(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ub(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?zS:fD(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),m=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*m/c+f)),g=Math.min(n,Math.floor(t+(c-d)*m/c+f));BS(e,t,p,g,a)}const i=e[t];let l=r,o=n;for(ul(e,r,t),a(e[n],i)>0&&ul(e,r,n);l<o;){for(ul(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ul(e,r,o):(++o,ul(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ul(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xD(e,t,r){if(e=Float64Array.from(oD(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return mb(e);if(t>=1)return ub(e);var n,a=(n-1)*t,i=Math.floor(a),l=ub(BS(e,i).subarray(0,i+1)),o=mb(e.subarray(i+1));return l+(o-l)*(a-i)}}function yD(e,t,r=FS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function vD(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Hh=Symbol("implicit");function nx(){var e=new cb,t=[],r=[],n=Hh;function a(i){let l=e.get(i);if(l===void 0){if(n!==Hh)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new cb;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nx(t,r).unknown(n)},Qr.apply(a,arguments),a}function sx(){var e=nx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var f=t().length,p=a<n,g=p?a:n,x=p?n:a;i=(x-g)/Math.max(1,f-c+d*2),o&&(i=Math.floor(i)),g+=(x-g-i*(f-c))*u,l=i*(1-c),o&&(g=Math.round(g),l=Math.round(l));var w=vD(f).map(function(v){return g+i*v});return r(p?w.reverse():w)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,m()):o},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,m()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),m()):u},e.copy=function(){return sx(t(),[n,a]).round(o).paddingInner(c).paddingOuter(d).align(u)},Qr.apply(m(),arguments)}function US(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return US(t())},e}function bD(){return US(sx.apply(null,arguments).paddingInner(1))}function ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Co(){}var ao=.7,Id=1/ao,fi="\\s*([+-]?\\d+)\\s*",io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jD=/^#([0-9a-f]{3,8})$/,wD=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),ND=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),SD=new RegExp(`^rgba\\(${fi},${fi},${fi},${io}\\)$`),kD=new RegExp(`^rgba\\(${xn},${xn},${xn},${io}\\)$`),CD=new RegExp(`^hsl\\(${io},${xn},${xn}\\)$`),PD=new RegExp(`^hsla\\(${io},${xn},${xn},${io}\\)$`),fb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(Co,lo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hb,formatHex:hb,formatHex8:AD,formatHsl:TD,formatRgb:pb,toString:pb});function hb(){return this.rgb().formatHex()}function AD(){return this.rgb().formatHex8()}function TD(){return WS(this).formatHsl()}function pb(){return this.rgb().formatRgb()}function lo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gb(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wD.exec(e))?new rr(t[1],t[2],t[3],1):(t=ND.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SD.exec(e))?bc(t[1],t[2],t[3],t[4]):(t=kD.exec(e))?bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CD.exec(e))?vb(t[1],t[2]/100,t[3]/100,1):(t=PD.exec(e))?vb(t[1],t[2]/100,t[3]/100,t[4]):fb.hasOwnProperty(e)?gb(fb[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function gb(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function bc(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function ED(e){return e instanceof Co||(e=lo(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function Gh(e,t,r,n){return arguments.length===1?ED(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ax(rr,Gh,qS(Co,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ao:Math.pow(ao,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(ga(this.r),ga(this.g),ga(this.b),$d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xb,formatHex:xb,formatHex8:OD,formatRgb:yb,toString:yb}));function xb(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}`}function OD(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}${oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function yb(){const e=$d(this.opacity);return`${e===1?"rgb(":"rgba("}${ga(this.r)}, ${ga(this.g)}, ${ga(this.b)}${e===1?")":`, ${e})`}`}function $d(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oa(e){return e=ga(e),(e<16?"0":"")+e.toString(16)}function vb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function WS(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Co||(e=lo(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new en(l,o,c,e.opacity)}function _D(e,t,r,n){return arguments.length===1?WS(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ax(en,_D,qS(Co,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ao:Math.pow(ao,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new rr(of(e>=240?e-240:e+120,a,n),of(e,a,n),of(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new en(bb(this.h),jc(this.s),jc(this.l),$d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$d(this.opacity);return`${e===1?"hsl(":"hsla("}${bb(this.h)}, ${jc(this.s)*100}%, ${jc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bb(e){return e=(e||0)%360,e<0?e+360:e}function jc(e){return Math.max(0,Math.min(1,e||0))}function of(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ix=e=>()=>e;function MD(e,t){return function(r){return e+r*t}}function DD(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ID(e){return(e=+e)==1?KS:function(t,r){return r-t?DD(t,r,e):ix(isNaN(t)?r:t)}}function KS(e,t){var r=t-e;return r?MD(e,r):ix(isNaN(e)?t:e)}const jb=function e(t){var r=ID(t);function n(a,i){var l=r((a=Gh(a)).r,(i=Gh(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),d=KS(a.opacity,i.opacity);return function(u){return a.r=l(u),a.g=o(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function $D(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function LD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RD(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=zi(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function FD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ld(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zD(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=zi(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Yh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cf=new RegExp(Yh.source,"g");function BD(e){return function(){return e}}function UD(e){return function(t){return e(t)+""}}function qD(e,t){var r=Yh.lastIndex=cf.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Yh.exec(e))&&(a=cf.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:Ld(n,a)})),r=cf.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?UD(c[0].x):BD(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)o[(m=c[u]).i]=m.x(d);return o.join("")})}function zi(e,t){var r=typeof t,n;return t==null||r==="boolean"?ix(t):(r==="number"?Ld:r==="string"?(n=lo(t))?(t=n,jb):qD:t instanceof lo?jb:t instanceof Date?FD:LD(t)?$D:Array.isArray(t)?RD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zD:Ld)(e,t)}function lx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function WD(e,t){t===void 0&&(t=e,e=zi);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function KD(e){return function(){return e}}function Rd(e){return+e}var wb=[0,1];function Vt(e){return e}function Xh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:KD(isNaN(t)?NaN:.5)}function QD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VD(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Xh(a,n),i=r(l,i)):(n=Xh(n,a),i=r(i,l)),function(o){return i(n(o))}}function HD(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Xh(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=ko(e,o,1,n)-1;return i[c](a[c](o))}}function Po(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xu(){var e=wb,t=wb,r=zi,n,a,i,l=Vt,o,c,d;function u(){var f=Math.min(e.length,t.length);return l!==Vt&&(l=QD(e[0],e[f-1])),o=f>2?HD:VD,c=d=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=o(e.map(n),t,r)))(n(l(f)))}return m.invert=function(f){return l(a((d||(d=o(t,e.map(n),Ld)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,Rd),u()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=lx,u()},m.clamp=function(f){return arguments.length?(l=f?!0:Vt,u()):l!==Vt},m.interpolate=function(f){return arguments.length?(r=f,u()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,p){return n=f,a=p,u()}}function ox(){return Xu()(Vt,Vt)}function GD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ai(e){return e=Fd(Math.abs(e)),e?e[1]:NaN}function YD(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function XD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ZD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oo(e){if(!(t=ZD.exec(e)))throw new Error("invalid format: "+e);var t;return new cx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oo.prototype=cx.prototype;function cx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JD(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QS;function eI(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(QS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Fd(e,Math.max(0,t+i-1))[0]}function Nb(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Sb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Nb(e*100,t),r:Nb,s:eI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kb(e){return e}var Cb=Array.prototype.map,Pb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tI(e){var t=e.grouping===void 0||e.thousands===void 0?kb:YD(Cb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?kb:XD(Cb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=oo(m);var f=m.fill,p=m.align,g=m.sign,x=m.symbol,w=m.zero,v=m.width,y=m.comma,b=m.precision,S=m.trim,j=m.type;j==="n"?(y=!0,j="g"):Sb[j]||(b===void 0&&(b=12),S=!0,j="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=x==="$"?n:/[%p]/.test(j)?l:"",P=Sb[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(T){var D=N,F=k,U,$,C;if(j==="c")F=P(T)+F,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?c:P(Math.abs(T),b),S&&(T=JD(T)),R&&+T==0&&g!=="+"&&(R=!1),D=(R?g==="("?g:o:g==="-"||g==="("?"":g)+D,F=(j==="s"?Pb[8+QS/3]:"")+F+(R&&g==="("?")":""),A){for(U=-1,$=T.length;++U<$;)if(C=T.charCodeAt(U),48>C||C>57){F=(C===46?a+T.slice(U+1):T.slice(U))+F,T=T.slice(0,U);break}}}y&&!w&&(T=t(T,1/0));var L=D.length+T.length+F.length,E=L<v?new Array(v-L+1).join(f):"";switch(y&&w&&(T=t(E+T,E.length?v-F.length:1/0),E=""),p){case"<":T=D+T+F+E;break;case"=":T=D+E+T+F;break;case"^":T=E.slice(0,L=E.length>>1)+D+T+F+E.slice(L);break;default:T=E+D+T+F;break}return i(T)}return O.toString=function(){return m+""},O}function u(m,f){var p=d((m=oo(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(Ai(f)/3)))*3,x=Math.pow(10,-g),w=Pb[8+g/3];return function(v){return p(x*v)+w}}return{format:d,formatPrefix:u}}var wc,dx,VS;rI({thousands:",",grouping:[3],currency:["$",""]});function rI(e){return wc=tI(e),dx=wc.format,VS=wc.formatPrefix,wc}function nI(e){return Math.max(0,-Ai(Math.abs(e)))}function sI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ai(t)/3)))*3-Ai(Math.abs(e)))}function aI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ai(t)-Ai(e))+1}function HS(e,t,r,n){var a=Vh(e,t,r),i;switch(n=oo(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sI(a,l))&&(n.precision=i),VS(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aI(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=nI(a))&&(n.precision=i-(n.type==="%")*2);break}}return dx(n)}function Vs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=a,a=i,i=d);u-- >0;){if(d=Qh(l,o,r),d===c)return n[a]=l,n[i]=o,t(n);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function GS(){var e=ox();return e.copy=function(){return Po(e,GS())},Qr.apply(e,arguments),Vs(e)}function YS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Rd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YS(e).unknown(t)},e=arguments.length?Array.from(e,Rd):[0,1],Vs(r)}function XS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Ab(e){return Math.log(e)}function Tb(e){return Math.exp(e)}function iI(e){return-Math.log(-e)}function lI(e){return-Math.exp(-e)}function oI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cI(e){return e===10?oI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Eb(e){return(t,r)=>-e(-t,r)}function ux(e){const t=e(Ab,Tb),r=t.domain;let n=10,a,i;function l(){return a=dI(n),i=cI(n),r()[0]<0?(a=Eb(a),i=Eb(i),e(iI,lI)):e(Ab,Tb),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let f=a(d),p=a(u),g,x;const w=o==null?10:+o;let v=[];if(!(n%1)&&p-f<w){if(f=Math.floor(f),p=Math.ceil(p),d>0){for(;f<=p;++f)for(g=1;g<n;++g)if(x=f<0?g/i(-f):g*i(f),!(x<d)){if(x>u)break;v.push(x)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(x=f>0?g/i(-f):g*i(f),!(x<d)){if(x>u)break;v.push(x)}v.length*2<w&&(v=Kh(d,u,w))}else v=Kh(f,p,Math.min(p-f,w)).map(i);return m?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=oo(c)).precision==null&&(c.trim=!0),c=dx(c)),o===1/0)return c;const d=Math.max(1,n*o/t.ticks().length);return u=>{let m=u/i(Math.round(a(u)));return m*n<n-.5&&(m*=n),m<=d?c(u):""}},t.nice=()=>r(XS(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function ZS(){const e=ux(Xu()).domain([1,10]);return e.copy=()=>Po(e,ZS()).base(e.base()),Qr.apply(e,arguments),e}function Ob(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _b(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mx(e){var t=1,r=e(Ob(t),_b(t));return r.constant=function(n){return arguments.length?e(Ob(t=+n),_b(t)):t},Vs(r)}function JS(){var e=mx(Xu());return e.copy=function(){return Po(e,JS()).constant(e.constant())},Qr.apply(e,arguments)}function Mb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mI(e){return e<0?-e*e:e*e}function fx(e){var t=e(Vt,Vt),r=1;function n(){return r===1?e(Vt,Vt):r===.5?e(uI,mI):e(Mb(r),Mb(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vs(t)}function hx(){var e=fx(Xu());return e.copy=function(){return Po(e,hx()).exponent(e.exponent())},Qr.apply(e,arguments),e}function fI(){return hx.apply(null,arguments).exponent(.5)}function Db(e){return Math.sign(e)*e*e}function hI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ek(){var e=ox(),t=[0,1],r=!1,n;function a(i){var l=hI(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(Db(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Rd)).map(Db)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ek(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qr.apply(a,arguments),Vs(a)}function tk(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=yD(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[ko(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ks),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return tk().domain(e).range(t).unknown(n)},Qr.apply(i,arguments)}function rk(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[ko(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return rk().domain([e,t]).range(a).unknown(i)},Qr.apply(Vs(l),arguments)}function nk(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ko(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return nk().domain(e).range(t).unknown(r)},Qr.apply(a,arguments)}const df=new Date,uf=new Date;function xt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},a.filter=i=>xt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(df.setTime(+i),uf.setTime(+l),e(df),e(uf),Math.floor(r(df,uf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const zd=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zd);zd.range;const _n=1e3,$r=_n*60,Mn=$r*60,Kn=Mn*24,px=Kn*7,Ib=Kn*30,mf=Kn*365,ca=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getUTCSeconds());ca.range;const gx=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_n)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getMinutes());gx.range;const xx=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCMinutes());xx.range;const yx=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_n-e.getMinutes()*$r)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());yx.range;const vx=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());vx.range;const Ao=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$r)/Kn,e=>e.getDate()-1);Ao.range;const Zu=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>e.getUTCDate()-1);Zu.range;const sk=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>Math.floor(e/Kn));sk.range;function Da(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$r)/px)}const Ju=Da(0),Bd=Da(1),pI=Da(2),gI=Da(3),Ti=Da(4),xI=Da(5),yI=Da(6);Ju.range;Bd.range;pI.range;gI.range;Ti.range;xI.range;yI.range;function Ia(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/px)}const em=Ia(0),Ud=Ia(1),vI=Ia(2),bI=Ia(3),Ei=Ia(4),jI=Ia(5),wI=Ia(6);em.range;Ud.range;vI.range;bI.range;Ei.range;jI.range;wI.range;const bx=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bx.range;const jx=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jx.range;const Qn=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qn.range;const Vn=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function ak(e,t,r,n,a,i){const l=[[ca,1,_n],[ca,5,5*_n],[ca,15,15*_n],[ca,30,30*_n],[i,1,$r],[i,5,5*$r],[i,15,15*$r],[i,30,30*$r],[a,1,Mn],[a,3,3*Mn],[a,6,6*Mn],[a,12,12*Mn],[n,1,Kn],[n,2,2*Kn],[r,1,px],[t,1,Ib],[t,3,3*Ib],[e,1,mf]];function o(d,u,m){const f=u<d;f&&([d,u]=[u,d]);const p=m&&typeof m.range=="function"?m:c(d,u,m),g=p?p.range(d,+u+1):[];return f?g.reverse():g}function c(d,u,m){const f=Math.abs(u-d)/m,p=rx(([,,w])=>w).right(l,f);if(p===l.length)return e.every(Vh(d/mf,u/mf,m));if(p===0)return zd.every(Math.max(Vh(d,u,m),1));const[g,x]=l[f/l[p-1][2]<l[p][2]/f?p-1:p];return g.every(x)}return[o,c]}const[NI,SI]=ak(Vn,jx,em,sk,vx,xx),[kI,CI]=ak(Qn,bx,Ju,Ao,yx,gx);function ff(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ml(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PI(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=fl(a),u=hl(a),m=fl(i),f=hl(i),p=fl(l),g=hl(l),x=fl(o),w=hl(o),v=fl(c),y=hl(c),b={a:R,A:L,b:E,B:I,c:null,d:Bb,e:Bb,f:YI,g:i$,G:o$,H:VI,I:HI,j:GI,L:ik,m:XI,M:ZI,p:X,q:W,Q:Wb,s:Kb,S:JI,u:e$,U:t$,V:r$,w:n$,W:s$,x:null,X:null,y:a$,Y:l$,Z:c$,"%":qb},S={a:le,A:ye,b:me,B:pe,c:null,d:Ub,e:Ub,f:f$,g:N$,G:k$,H:d$,I:u$,j:m$,L:ok,m:h$,M:p$,p:we,q:Wt,Q:Wb,s:Kb,S:g$,u:x$,U:y$,V:v$,w:b$,W:j$,x:null,X:null,y:w$,Y:S$,Z:C$,"%":qb},j={a:O,A:T,b:D,B:F,c:U,d:Fb,e:Fb,f:qI,g:Rb,G:Lb,H:zb,I:zb,j:FI,L:UI,m:RI,M:zI,p:A,q:LI,Q:KI,s:QI,S:BI,u:_I,U:MI,V:DI,w:OI,W:II,x:$,X:C,y:Rb,Y:Lb,Z:$I,"%":WI};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(J,ge){return function(he){var M=[],Z=-1,re=0,fe=J.length,ve,H,ce;for(he instanceof Date||(he=new Date(+he));++Z<fe;)J.charCodeAt(Z)===37&&(M.push(J.slice(re,Z)),(H=$b[ve=J.charAt(++Z)])!=null?ve=J.charAt(++Z):H=ve==="e"?" ":"0",(ce=ge[ve])&&(ve=ce(he,H)),M.push(ve),re=Z+1);return M.push(J.slice(re,Z)),M.join("")}}function k(J,ge){return function(he){var M=ml(1900,void 0,1),Z=P(M,J,he+="",0),re,fe;if(Z!=he.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(ge&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(re=hf(ml(M.y,0,1)),fe=re.getUTCDay(),re=fe>4||fe===0?Ud.ceil(re):Ud(re),re=Zu.offset(re,(M.V-1)*7),M.y=re.getUTCFullYear(),M.m=re.getUTCMonth(),M.d=re.getUTCDate()+(M.w+6)%7):(re=ff(ml(M.y,0,1)),fe=re.getDay(),re=fe>4||fe===0?Bd.ceil(re):Bd(re),re=Ao.offset(re,(M.V-1)*7),M.y=re.getFullYear(),M.m=re.getMonth(),M.d=re.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),fe="Z"in M?hf(ml(M.y,0,1)).getUTCDay():ff(ml(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(fe+5)%7:M.w+M.U*7-(fe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,hf(M)):ff(M)}}function P(J,ge,he,M){for(var Z=0,re=ge.length,fe=he.length,ve,H;Z<re;){if(M>=fe)return-1;if(ve=ge.charCodeAt(Z++),ve===37){if(ve=ge.charAt(Z++),H=j[ve in $b?ge.charAt(Z++):ve],!H||(M=H(J,he,M))<0)return-1}else if(ve!=he.charCodeAt(M++))return-1}return M}function A(J,ge,he){var M=d.exec(ge.slice(he));return M?(J.p=u.get(M[0].toLowerCase()),he+M[0].length):-1}function O(J,ge,he){var M=p.exec(ge.slice(he));return M?(J.w=g.get(M[0].toLowerCase()),he+M[0].length):-1}function T(J,ge,he){var M=m.exec(ge.slice(he));return M?(J.w=f.get(M[0].toLowerCase()),he+M[0].length):-1}function D(J,ge,he){var M=v.exec(ge.slice(he));return M?(J.m=y.get(M[0].toLowerCase()),he+M[0].length):-1}function F(J,ge,he){var M=x.exec(ge.slice(he));return M?(J.m=w.get(M[0].toLowerCase()),he+M[0].length):-1}function U(J,ge,he){return P(J,t,ge,he)}function $(J,ge,he){return P(J,r,ge,he)}function C(J,ge,he){return P(J,n,ge,he)}function R(J){return l[J.getDay()]}function L(J){return i[J.getDay()]}function E(J){return c[J.getMonth()]}function I(J){return o[J.getMonth()]}function X(J){return a[+(J.getHours()>=12)]}function W(J){return 1+~~(J.getMonth()/3)}function le(J){return l[J.getUTCDay()]}function ye(J){return i[J.getUTCDay()]}function me(J){return c[J.getUTCMonth()]}function pe(J){return o[J.getUTCMonth()]}function we(J){return a[+(J.getUTCHours()>=12)]}function Wt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ge=N(J+="",b);return ge.toString=function(){return J},ge},parse:function(J){var ge=k(J+="",!1);return ge.toString=function(){return J},ge},utcFormat:function(J){var ge=N(J+="",S);return ge.toString=function(){return J},ge},utcParse:function(J){var ge=k(J+="",!0);return ge.toString=function(){return J},ge}}}var $b={"-":"",_:" ",0:"0"},St=/^\s*\d+/,AI=/^%/,TI=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function EI(e){return e.replace(TI,"\\$&")}function fl(e){return new RegExp("^(?:"+e.map(EI).join("|")+")","i")}function hl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OI(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _I(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MI(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function DI(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function II(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Lb(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Rb(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $I(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function LI(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RI(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Fb(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FI(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zb(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zI(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function BI(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UI(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qI(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WI(e,t,r){var n=AI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function KI(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function QI(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Bb(e,t){return Ae(e.getDate(),t,2)}function VI(e,t){return Ae(e.getHours(),t,2)}function HI(e,t){return Ae(e.getHours()%12||12,t,2)}function GI(e,t){return Ae(1+Ao.count(Qn(e),e),t,3)}function ik(e,t){return Ae(e.getMilliseconds(),t,3)}function YI(e,t){return ik(e,t)+"000"}function XI(e,t){return Ae(e.getMonth()+1,t,2)}function ZI(e,t){return Ae(e.getMinutes(),t,2)}function JI(e,t){return Ae(e.getSeconds(),t,2)}function e$(e){var t=e.getDay();return t===0?7:t}function t$(e,t){return Ae(Ju.count(Qn(e)-1,e),t,2)}function lk(e){var t=e.getDay();return t>=4||t===0?Ti(e):Ti.ceil(e)}function r$(e,t){return e=lk(e),Ae(Ti.count(Qn(e),e)+(Qn(e).getDay()===4),t,2)}function n$(e){return e.getDay()}function s$(e,t){return Ae(Bd.count(Qn(e)-1,e),t,2)}function a$(e,t){return Ae(e.getFullYear()%100,t,2)}function i$(e,t){return e=lk(e),Ae(e.getFullYear()%100,t,2)}function l$(e,t){return Ae(e.getFullYear()%1e4,t,4)}function o$(e,t){var r=e.getDay();return e=r>=4||r===0?Ti(e):Ti.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function c$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function Ub(e,t){return Ae(e.getUTCDate(),t,2)}function d$(e,t){return Ae(e.getUTCHours(),t,2)}function u$(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function m$(e,t){return Ae(1+Zu.count(Vn(e),e),t,3)}function ok(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function f$(e,t){return ok(e,t)+"000"}function h$(e,t){return Ae(e.getUTCMonth()+1,t,2)}function p$(e,t){return Ae(e.getUTCMinutes(),t,2)}function g$(e,t){return Ae(e.getUTCSeconds(),t,2)}function x$(e){var t=e.getUTCDay();return t===0?7:t}function y$(e,t){return Ae(em.count(Vn(e)-1,e),t,2)}function ck(e){var t=e.getUTCDay();return t>=4||t===0?Ei(e):Ei.ceil(e)}function v$(e,t){return e=ck(e),Ae(Ei.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function b$(e){return e.getUTCDay()}function j$(e,t){return Ae(Ud.count(Vn(e)-1,e),t,2)}function w$(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function N$(e,t){return e=ck(e),Ae(e.getUTCFullYear()%100,t,2)}function S$(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function k$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ei(e):Ei.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function C$(){return"+0000"}function qb(){return"%"}function Wb(e){return+e}function Kb(e){return Math.floor(+e/1e3)}var Ua,dk,uk;P$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P$(e){return Ua=PI(e),dk=Ua.format,Ua.parse,uk=Ua.utcFormat,Ua.utcParse,Ua}function A$(e){return new Date(e)}function T$(e){return e instanceof Date?+e:+new Date(+e)}function wx(e,t,r,n,a,i,l,o,c,d){var u=ox(),m=u.invert,f=u.domain,p=d(".%L"),g=d(":%S"),x=d("%I:%M"),w=d("%I %p"),v=d("%a %d"),y=d("%b %d"),b=d("%B"),S=d("%Y");function j(N){return(c(N)<N?p:o(N)<N?g:l(N)<N?x:i(N)<N?w:n(N)<N?a(N)<N?v:y:r(N)<N?b:S)(N)}return u.invert=function(N){return new Date(m(N))},u.domain=function(N){return arguments.length?f(Array.from(N,T$)):f().map(A$)},u.ticks=function(N){var k=f();return e(k[0],k[k.length-1],N??10)},u.tickFormat=function(N,k){return k==null?j:d(k)},u.nice=function(N){var k=f();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?f(XS(k,N)):u},u.copy=function(){return Po(u,wx(e,t,r,n,a,i,l,o,c,d))},u}function E$(){return Qr.apply(wx(kI,CI,Qn,bx,Ju,Ao,yx,gx,ca,dk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O$(){return Qr.apply(wx(NI,SI,Vn,jx,em,Zu,vx,xx,ca,uk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tm(){var e=0,t=1,r,n,a,i,l=Vt,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function u(m){return function(f){var p,g;return arguments.length?([p,g]=f,l=m(p,g),d):[l(0),l(1)]}}return d.range=u(zi),d.rangeRound=u(lx),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),d}}function Hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mk(){var e=Vs(tm()(Vt));return e.copy=function(){return Hs(e,mk())},Zn.apply(e,arguments)}function fk(){var e=ux(tm()).domain([1,10]);return e.copy=function(){return Hs(e,fk()).base(e.base())},Zn.apply(e,arguments)}function hk(){var e=mx(tm());return e.copy=function(){return Hs(e,hk()).constant(e.constant())},Zn.apply(e,arguments)}function Nx(){var e=fx(tm());return e.copy=function(){return Hs(e,Nx()).exponent(e.exponent())},Zn.apply(e,arguments)}function _$(){return Nx.apply(null,arguments).exponent(.5)}function pk(){var e=[],t=Vt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ko(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ks),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>xD(e,i/n))},r.copy=function(){return pk(t).domain(e)},Zn.apply(r,arguments)}function rm(){var e=0,t=.5,r=1,n=1,a,i,l,o,c,d=Vt,u,m=!1,f;function p(x){return isNaN(x=+x)?f:(x=.5+((x=+u(x))-i)*(n*x<n*i?o:c),d(m?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=u(e=+e),i=u(t=+t),l=u(r=+r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(m=!!x,p):m},p.interpolator=function(x){return arguments.length?(d=x,p):d};function g(x){return function(w){var v,y,b;return arguments.length?([v,y,b]=w,d=WD(x,[v,y,b]),p):[d(0),d(.5),d(1)]}}return p.range=g(zi),p.rangeRound=g(lx),p.unknown=function(x){return arguments.length?(f=x,p):f},function(x){return u=x,a=x(e),i=x(t),l=x(r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,p}}function gk(){var e=Vs(rm()(Vt));return e.copy=function(){return Hs(e,gk())},Zn.apply(e,arguments)}function xk(){var e=ux(rm()).domain([.1,1,10]);return e.copy=function(){return Hs(e,xk()).base(e.base())},Zn.apply(e,arguments)}function yk(){var e=mx(rm());return e.copy=function(){return Hs(e,yk()).constant(e.constant())},Zn.apply(e,arguments)}function Sx(){var e=fx(rm());return e.copy=function(){return Hs(e,Sx()).exponent(e.exponent())},Zn.apply(e,arguments)}function M$(){return Sx.apply(null,arguments).exponent(.5)}const wl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sx,scaleDiverging:gk,scaleDivergingLog:xk,scaleDivergingPow:Sx,scaleDivergingSqrt:M$,scaleDivergingSymlog:yk,scaleIdentity:YS,scaleImplicit:Hh,scaleLinear:GS,scaleLog:ZS,scaleOrdinal:nx,scalePoint:bD,scalePow:hx,scaleQuantile:tk,scaleQuantize:rk,scaleRadial:ek,scaleSequential:mk,scaleSequentialLog:fk,scaleSequentialPow:Nx,scaleSequentialQuantile:pk,scaleSequentialSqrt:_$,scaleSequentialSymlog:hk,scaleSqrt:fI,scaleSymlog:JS,scaleThreshold:nk,scaleTime:E$,scaleUtc:O$,tickFormat:HS},Symbol.toStringTag,{value:"Module"}));var Gs=e=>e.chartData,kx=z([Gs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nm=(e,t,r,n)=>n?kx(e):Gs(e);function Oi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(wr(t)&&wr(r))return!0}return!1}function Qb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function D$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(wr(r))a=r;else if(typeof r=="function")return;if(wr(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(Oi(l))return l}}function I$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Oi(n))return Qb(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(de(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&zv.test(a)){var c=zv.exec(a);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(de(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Bv.test(i)){var u=Bv.exec(i);if(u==null||t==null)o=void 0;else{var m=+u[1];o=t[1]+m}}else o=t==null?void 0:t[1];var f=[l,o];if(Oi(f))return t==null?f:Qb(f,t,r)}}}var Bi=1e9,$$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Px,He=!0,Wr="[DecimalError] ",xa=Wr+"Invalid argument: ",Cx=Wr+"Exponent out of range: ",Ui=Math.floor,ra=Math.pow,L$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fr,bt=1e7,qe=7,vk=9007199254740991,qd=Ui(vk/qe),se={};se.absoluteValue=se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};se.comparedTo=se.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};se.decimalPlaces=se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};se.dividedBy=se.div=function(e){return Rn(this,new this.constructor(e))};se.dividedToIntegerBy=se.idiv=function(e){var t=this,r=t.constructor;return Me(Rn(t,new r(e),0,1),r.precision)};se.equals=se.eq=function(e){return!this.cmp(e)};se.exponent=function(){return ut(this)};se.greaterThan=se.gt=function(e){return this.cmp(e)>0};se.greaterThanOrEqualTo=se.gte=function(e){return this.cmp(e)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(e){return this.cmp(e)<0};se.lessThanOrEqualTo=se.lte=function(e){return this.cmp(e)<1};se.logarithm=se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fr))throw Error(Wr+"NaN");if(r.s<1)throw Error(Wr+(r.s?"NaN":"-Infinity"));return r.eq(fr)?new n(0):(He=!1,t=Rn(co(r,i),co(e,i),i),He=!0,Me(t,a))};se.minus=se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wk(t,e):bk(t,(e.s=-e.s,e))};se.modulo=se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wr+"NaN");return r.s?(He=!1,t=Rn(r,e,0,1).times(e),He=!0,r.minus(t)):Me(new n(r),a)};se.naturalExponential=se.exp=function(){return jk(this)};se.naturalLogarithm=se.ln=function(){return co(this)};se.negated=se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};se.plus=se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bk(t,e):wk(t,(e.s=-e.s,e))};se.precision=se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xa+e);if(t=ut(a)+1,n=a.d.length-1,r=n*qe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};se.squareRoot=se.sqrt=function(){var e,t,r,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Wr+"NaN")}for(e=ut(o),He=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=mn(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ui((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(i=n,n=i.plus(Rn(o,i,l+2)).times(.5),mn(i.d).slice(0,l)===(t=mn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Me(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return He=!0,Me(n,r)};se.times=se.mul=function(e){var t,r,n,a,i,l,o,c,d,u=this,m=u.constructor,f=u.d,p=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=p.length,c<d&&(i=f,f=p,p=i,l=c,c=d,d=l),i=[],l=c+d,n=l;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*f[a-n-1]+t,i[a--]=o%bt|0,t=o/bt|0;i[a]=(i[a]+t)%bt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,He?Me(e,m.precision):e};se.toDecimalPlaces=se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jn(e,0,Bi),t===void 0?t=n.rounding:jn(t,0,8),Me(r,e+ut(r)+1,t))};se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Aa(n,!0):(jn(e,0,Bi),t===void 0?t=a.rounding:jn(t,0,8),n=Me(new a(n),e+1,t),r=Aa(n,!0,e+1)),r};se.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Aa(a):(jn(e,0,Bi),t===void 0?t=i.rounding:jn(t,0,8),n=Me(new i(a),e+ut(a)+1,t),r=Aa(n.abs(),!1,e+ut(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};se.toInteger=se.toint=function(){var e=this,t=e.constructor;return Me(new t(e),ut(e)+1,t.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(e){var t,r,n,a,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(fr);if(o=new c(o),!o.s){if(e.s<1)throw Error(Wr+"Infinity");return o}if(o.eq(fr))return o;if(n=c.precision,e.eq(fr))return Me(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=u<0?-u:u)<=vk){for(a=new c(fr),t=Math.ceil(n/qe+4),He=!1;r%2&&(a=a.times(o),Hb(a.d,t)),r=Ui(r/2),r!==0;)o=o.times(o),Hb(o.d,t);return He=!0,e.s<0?new c(fr).div(a):Me(a,n)}}else if(i<0)throw Error(Wr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,He=!1,a=e.times(co(o,n+d)),He=!0,a=jk(a),a.s=i,a};se.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ut(a),n=Aa(a,r<=i.toExpNeg||r>=i.toExpPos)):(jn(e,1,Bi),t===void 0?t=i.rounding:jn(t,0,8),a=Me(new i(a),e,t),r=ut(a),n=Aa(a,e<=r||r<=i.toExpNeg,e)),n};se.toSignificantDigits=se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jn(e,1,Bi),t===void 0?t=n.rounding:jn(t,0,8)),Me(new n(r),e,t)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Aa(e,t<=r.toExpNeg||t>=r.toExpPos)};function bk(e,t){var r,n,a,i,l,o,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),He?Me(t,m):t;if(c=e.d,d=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=d.length):(n=d,a=l,o=c.length),l=Math.ceil(m/qe),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/bt|0,c[i]%=bt;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,He?Me(t,m):t}function jn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xa+e)}function mn(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=qe-n.length,r&&(i+=ls(r)),i+=n;l=e[t],n=l+"",r=qe-n.length,r&&(i+=ls(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Rn=function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%bt|0,l=i/bt|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*bt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,d,u,m,f,p,g,x,w,v,y,b,S,j,N,k,P,A=n.constructor,O=n.s==a.s?1:-1,T=n.d,D=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Wr+"Division by zero");for(c=n.e-a.e,k=D.length,j=T.length,p=new A(O),g=p.d=[],d=0;D[d]==(T[d]||0);)++d;if(D[d]>(T[d]||0)&&--c,i==null?y=i=A.precision:l?y=i+(ut(n)-ut(a))+1:y=i,y<0)return new A(0);if(y=y/qe+2|0,d=0,k==1)for(u=0,D=D[0],y++;(d<j||u)&&y--;d++)b=u*bt+(T[d]||0),g[d]=b/D|0,u=b%D|0;else{for(u=bt/(D[0]+1)|0,u>1&&(D=e(D,u),T=e(T,u),k=D.length,j=T.length),S=k,x=T.slice(0,k),w=x.length;w<k;)x[w++]=0;P=D.slice(),P.unshift(0),N=D[0],D[1]>=bt/2&&++N;do u=0,o=t(D,x,k,w),o<0?(v=x[0],k!=w&&(v=v*bt+(x[1]||0)),u=v/N|0,u>1?(u>=bt&&(u=bt-1),m=e(D,u),f=m.length,w=x.length,o=t(m,x,f,w),o==1&&(u--,r(m,k<f?P:D,f))):(u==0&&(o=u=1),m=D.slice()),f=m.length,f<w&&m.unshift(0),r(x,m,w),o==-1&&(w=x.length,o=t(D,x,k,w),o<1&&(u++,r(x,k<w?P:D,w))),w=x.length):o===0&&(u++,x=[0]),g[d++]=u,o&&x[0]?x[w++]=T[S]||0:(x=[T[S]],w=1);while((S++<j||x[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Me(p,l?i+ut(p)+1:i)}}();function jk(e,t){var r,n,a,i,l,o,c=0,d=0,u=e.constructor,m=u.precision;if(ut(e)>16)throw Error(Cx+ut(e));if(!e.s)return new u(fr);for(t==null?(He=!1,o=m):o=t,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(n=Math.log(ra(2,d))/Math.LN10*2+5|0,o+=n,r=a=i=new u(fr),u.precision=o;;){if(a=Me(a.times(e),o),r=r.times(++c),l=i.plus(Rn(a,r,o)),mn(l.d).slice(0,o)===mn(i.d).slice(0,o)){for(;d--;)i=Me(i.times(i),o);return u.precision=m,t==null?(He=!0,Me(i,m)):i}i=l}}function ut(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function pf(e,t,r){if(t>e.LN10.sd())throw He=!0,r&&(e.precision=r),Error(Wr+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function ls(e){for(var t="";e--;)t+="0";return t}function co(e,t){var r,n,a,i,l,o,c,d,u,m=1,f=10,p=e,g=p.d,x=p.constructor,w=x.precision;if(p.s<1)throw Error(Wr+(p.s?"NaN":"-Infinity"));if(p.eq(fr))return new x(0);if(t==null?(He=!1,d=w):d=t,p.eq(10))return t==null&&(He=!0),pf(x,d);if(d+=f,x.precision=d,r=mn(g),n=r.charAt(0),i=ut(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=mn(p.d),n=r.charAt(0),m++;i=ut(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return c=pf(x,d+2,w).times(i+""),p=co(new x(n+"."+r.slice(1)),d-f).plus(c),x.precision=w,t==null?(He=!0,Me(p,w)):p;for(o=l=p=Rn(p.minus(fr),p.plus(fr),d),u=Me(p.times(p),d),a=3;;){if(l=Me(l.times(u),d),c=o.plus(Rn(l,new x(a),d)),mn(c.d).slice(0,d)===mn(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(pf(x,d+2,w).times(i+""))),o=Rn(o,new x(m),d),x.precision=w,t==null?(He=!0,Me(o,w)):o;o=c,a+=2}}function Vb(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ui(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qe;n<a;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),He&&(e.e>qd||e.e<-qd))throw Error(Cx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,r){var n,a,i,l,o,c,d,u,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=qe,a=t,d=m[u=0];else{if(u=Math.ceil((n+1)/qe),i=m.length,u>=i)return e;for(d=i=m[u],l=1;i>=10;i/=10)l++;n%=qe,a=n-qe+l}if(r!==void 0&&(i=ra(10,l-a-1),o=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?d/ra(10,l-a):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=ut(e),m.length=1,t=t-i-1,m[0]=ra(10,(qe-t%qe)%qe),e.e=Ui(-t/qe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=ra(10,qe-n),m[u]=a>0?(d/ra(10,l-a)%ra(10,a)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==bt&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=bt)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(He&&(e.e>qd||e.e<-qd))throw Error(Cx+ut(e));return e}function wk(e,t){var r,n,a,i,l,o,c,d,u,m,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),He?Me(t,p):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),l=d-n,l){for(u=l<0,u?(r=c,l=-l,o=m.length):(r=m,n=d,o=c.length),a=Math.max(Math.ceil(p/qe),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=m.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}l=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>l;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=bt-1;--c[i],c[a]+=bt}c[a]-=m[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,He?Me(t,p):t):new f(0)}function Aa(e,t,r){var n,a=ut(e),i=mn(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ls(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ls(-a-1)+i,r&&(n=r-l)>0&&(i+=ls(n))):a>=l?(i+=ls(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+ls(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=ls(n))),e.s<0?"-"+i:i}function Hb(e,t){if(e.length>t)return e.length=t,!0}function Nk(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xa+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return Vb(l,i.toString())}else if(typeof i!="string")throw Error(xa+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,L$.test(i))Vb(l,i);else throw Error(xa+i)}if(a.prototype=se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Nk,a.config=a.set=R$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function R$(e){if(!e||typeof e!="object")throw Error(Wr+"Object expected");var t,r,n,a=["precision",1,Bi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ui(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xa+r+": "+n);return this}var Px=Nk($$);fr=new Px(1);const Ee=Px;var F$=e=>e,Sk={"@@functional/placeholder":!0},kk=e=>e===Sk,Gb=e=>function t(){return arguments.length===0||arguments.length===1&&kk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Ck=(e,t)=>e===1?t:Gb(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==Sk).length;return i>=e?t(...n):Ck(e-i,Gb(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=n.map(u=>kk(u)?o.shift():u);return t(...d,...o)}))}),sm=e=>Ck(e.length,e),Zh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},z$=sm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),B$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return F$;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},Jh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Pk=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function Ak(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function Tk(e,t,r){for(var n=new Ee(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}sm((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});sm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});sm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Ek=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Ok=(e,t,r)=>{if(e.lte(0))return new Ee(0);var n=Ak(e.toNumber()),a=new Ee(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new Ee(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new Ee(c.toNumber()):new Ee(Math.ceil(c.toNumber()))},U$=(e,t,r)=>{var n=new Ee(1),a=new Ee(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ee(10).pow(Ak(e)-1),a=new Ee(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ee(Math.floor(e)))}else e===0?a=new Ee(Math.floor((t-1)/2)):r||(a=new Ee(Math.floor(e)));var l=Math.floor((t-1)/2),o=B$(z$(c=>a.add(new Ee(c-l).mul(n)).toNumber()),Zh);return o(0,t)},_k=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var l=Ok(new Ee(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Ee(0):(o=new Ee(t).add(r).div(2),o=o.sub(new Ee(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new Ee(r).sub(o).div(l).toNumber()),u=c+d+1;return u>n?_k(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:l,tickMin:o.sub(new Ee(c).mul(l)),tickMax:o.add(new Ee(d).mul(l))})};function q$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=Ek([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Zh(0,n-1).map(()=>1/0)]:[...Zh(0,n-1).map(()=>-1/0),o];return t>r?Jh(c):c}if(l===o)return U$(l,n,a);var{step:d,tickMin:u,tickMax:m}=_k(l,o,i,a,0),f=Tk(u,m.add(new Ee(.1).mul(d)),d);return t>r?Jh(f):f}function W$(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=Ek([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),c=Ok(new Ee(l).sub(i).div(o-1),a,0),d=[...Tk(new Ee(i),new Ee(l),c),l];return a===!1&&(d=d.map(u=>Math.round(u))),r>n?Jh(d):d}var K$=Pk(q$),Q$=Pk(W$),Mk=e=>e.rootProps.maxBarSize,V$=e=>e.rootProps.barGap,Dk=e=>e.rootProps.barCategoryGap,H$=e=>e.rootProps.barSize,To=e=>e.rootProps.stackOffset,Ax=e=>e.options.chartName,Tx=e=>e.rootProps.syncId,Ik=e=>e.rootProps.syncMethod,Ex=e=>e.options.eventEmitter,An={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},am=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},G$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:An.type,unit:void 0},Y$={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},X$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Z$={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},Ox=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?X$:G$,_x=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Z$:Y$,im=e=>e.polarOptions,Mx=z([Yn,Xn,gt],pS),$k=z([im,Mx],(e,t)=>{if(e!=null)return Bt(e.innerRadius,t,0)}),Lk=z([im,Mx],(e,t)=>{if(e!=null)return Bt(e.outerRadius,t,t*.8)}),J$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Rk=z([im],J$);z([Ox,Rk],am);var Fk=z([Mx,$k,Lk],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});z([_x,Fk],am);var zk=z([ke,im,$k,Lk,Yn,Xn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:Bt(l,a,a/2),cy:Bt(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Xe=(e,t)=>t,Eo=(e,t,r)=>r;function Dx(e){return e==null?void 0:e.id}var yt=e=>{var t=ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qi=e=>e.tooltip.settings.axisId,kt=e=>{var t=yt(e),r=qi(e);return Oo(e,t,r)},Bk=z([kt],e=>e==null?void 0:e.dataKey);function Uk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=Dx(o);d.forEach((m,f)=>{var p=i==null||a?f:String(Fe(m,i,null)),g=Fe(m,o.dataKey,0),x;l.has(p)?x=l.get(p):x={},Object.assign(x,{[u]:g}),l.set(p,x)})}}),Array.from(l.values())}function lm(e){return e.stackId!=null&&e.dataKey!=null}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return(t=tL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=rL(e,"string");return typeof t=="symbol"?t:t+""}function rL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ep=[0,"auto"],or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qk=(e,t)=>e.cartesianAxis.xAxis[t],Jn=(e,t)=>{var r=qk(e,t);return r??or},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ep,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wo},Wk=(e,t)=>e.cartesianAxis.yAxis[t],es=(e,t)=>{var r=Wk(e,t);return r??cr},nL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ix=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nL},lt=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return es(e,r);case"zAxis":return Ix(e,r);case"angleAxis":return Ox(e,r);case"radiusAxis":return _x(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sL=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return es(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Oo=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return es(e,r);case"angleAxis":return Ox(e,r);case"radiusAxis":return _x(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Kk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $x(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var om=e=>e.graphicalItems.cartesianItems,aL=z([Xe,Eo],$x),Lx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),_o=z([om,lt,aL],Lx),Qk=z([_o],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(lm)),Vk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Hk=z([_o],Vk),Rx=e=>e.map(t=>t.data).filter(Boolean).flat(1),iL=z([_o],Rx),Fx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},zx=z([iL,nm],Fx),Bx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Fe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Fe(a,n)}))):e.map(n=>({value:n})),cm=z([zx,lt,_o],Bx);function Gk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $a(e){return e.filter(t=>bn(t)||t instanceof Date).map(Number).filter(t=>br(t)===!1)}function lL(e,t,r){return!r||typeof t!="number"||br(t)?[]:r.length?$a(r.flatMap(n=>{var a=Fe(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!wr(i)||!wr(l)))return[t-i,t+l]})):[]}var oL=z([Qk,nm,kt],Uk),Yk=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(Dx);return[l,{stackedData:g5(e,c,r),graphicalItems:o}]}))},tp=z([oL,Qk,To],Yk),Xk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=j5(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},cL=z([tp,Gs,Xe],Xk),Zk=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(l=>{var o,c,d=(o=n[l.id])===null||o===void 0?void 0:o.filter(m=>Gk(a,m)),u=Fe(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:u,errorDomain:lL(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Fe(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),dm=e=>e.errorBars,Jk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Gk(r,n));z([Hk,dm,Xe],Jk);var dL=z([zx,lt,Hk,dm,Xe],Zk);function uL(e){var{value:t}=e;if(bn(t)||t instanceof Date)return t}var Xb=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=$a(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},mL=(e,t,r)=>{var n=e.map(uL).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VN(n))?RS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ux=e=>{var t;if(e==null||!("domain"in e))return ep;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=$a(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ep},Kd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},eC=e=>e.referenceElements.dots,Wi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fL=z([eC,Xe,Eo],Wi),tC=e=>e.referenceElements.areas,hL=z([tC,Xe,Eo],Wi),rC=e=>e.referenceElements.lines,pL=z([rC,Xe,Eo],Wi),nC=(e,t)=>{var r=$a(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gL=z(fL,Xe,nC),sC=(e,t)=>{var r=$a(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xL=z([hL,Xe],sC),aC=(e,t)=>{var r=$a(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yL=z(pL,Xe,aC),vL=z(gL,yL,xL,(e,t,r)=>Kd(e,r,t)),iC=z([lt],Ux),qx=(e,t,r,n,a,i,l)=>{var o=D$(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",d=c?Kd(r,a,Xb(n)):Kd(a,Xb(n));return I$(t,d,e.allowDataOverflow)},bL=z([lt,iC,cL,dL,vL,ke,Xe],qx),jL=[0,1],Wx=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Ks(t,i);return d&&o==null?RS(0,r.length):c==="category"?mL(n,e,d):a==="expand"?jL:l}},Kx=z([lt,ke,zx,cm,To,Xe,bL],Wx),lC=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(yo(i));return o in wl?o:"point"}}},Ki=z([lt,ke,Kk,Ax,Xe],lC);function wL(e){if(e!=null){if(e in wl)return wl[e]();var t="scale".concat(yo(e));if(t in wl)return wl[t]()}}function Qx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=wL(t);if(a!=null){var i=a.domain(r).range(n);return u5(i),i}}}var Vx=(e,t,r)=>{var n=Ux(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Oi(e))return K$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Oi(e))return Q$(e,t.tickCount,t.allowDecimals)}},Hx=z([Kx,Oo,Ki],Vx),Gx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Oi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},NL=z([lt,Kx,Hx,Xe],Gx),SL=z(cm,lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($a(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),oC=z(SL,ke,Dk,gt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!wr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Bt(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),kL=(e,t)=>{var r=Jn(e,t);return r==null||typeof r.padding!="string"?0:oC(e,"xAxis",t,r.padding)},CL=(e,t)=>{var r=es(e,t);return r==null||typeof r.padding!="string"?0:oC(e,"yAxis",t,r.padding)},PL=z(Jn,kL,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),AL=z(es,CL,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),TL=z([gt,PL,Gu,Hu,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),EL=z([gt,ke,AL,Gu,Hu,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Mo=(e,t,r,n)=>{var a;switch(t){case"xAxis":return TL(e,r,n);case"yAxis":return EL(e,r,n);case"zAxis":return(a=Ix(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Rk(e);case"radiusAxis":return Fk(e,r);default:return}},cC=z([lt,Mo],am),Qi=z([lt,Ki,NL,cC],Qx);z([_o,dm,Xe],Jk);function dC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var um=(e,t)=>t,mm=(e,t,r)=>r,OL=z(Qu,um,mm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dC)),_L=z(Vu,um,mm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dC)),uC=(e,t)=>({width:e.width,height:t.height}),ML=(e,t)=>{var r=typeof t.width=="number"?t.width:wo;return{width:r,height:e.height}},mC=z(gt,Jn,uC),DL=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},IL=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$L=z(Xn,gt,OL,um,mm,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=uC(t,o);l==null&&(l=DL(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),LL=z(Yn,gt,_L,um,mm,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=ML(t,o);l==null&&(l=IL(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),RL=(e,t)=>{var r=Jn(e,t);if(r!=null)return $L(e,r.orientation,r.mirror)},FL=z([gt,Jn,RL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),zL=(e,t)=>{var r=es(e,t);if(r!=null)return LL(e,r.orientation,r.mirror)},BL=z([gt,es,zL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),fC=z(gt,es,(e,t)=>{var r=typeof t.width=="number"?t.width:wo;return{width:r,height:e.height}}),Zb=(e,t,r)=>{switch(t){case"xAxis":return mC(e,r).width;case"yAxis":return fC(e,r).height;default:return}},hC=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=Ks(e,n),c=t.map(d=>d.value);if(l&&o&&i==="category"&&a&&VN(c))return c}},Yx=z([ke,cm,lt,Xe],hC),pC=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Ks(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},Xx=z([ke,cm,Oo,Xe],pC),Jb=z([ke,sL,Ki,Qi,Yx,Xx,Mo,Hx,Xe],(e,t,r,n,a,i,l,o,c)=>{if(t==null)return null;var d=Ks(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:o,range:l,realScaleType:r,scale:n}}),UL=(e,t,r,n,a,i,l,o,c)=>{if(!(t==null||n==null)){var d=Ks(e,c),{type:u,ticks:m,tickCount:f}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?wt(i[0]-i[1])*2*g:g;var x=m||a;if(x){var w=x.map((v,y)=>{var b=l?l.indexOf(v):v;return{index:y,coordinate:n(b)+g,value:v,offset:g}});return w.filter(v=>!br(v.coordinate))}return d&&o?o.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:l?l[v]:v,index:y,offset:g}))}},gC=z([ke,Oo,Ki,Qi,Hx,Mo,Yx,Xx,Xe],UL),qL=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ks(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*d:d,o&&i?i.map((u,m)=>({coordinate:r(u)+d,value:u,index:m,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,m)=>({coordinate:r(u)+d,value:a?a[u]:u,index:m,offset:d}))}},Os=z([ke,Oo,Qi,Mo,Yx,Xx,Xe],qL),_s=z(lt,Qi,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})}),WL=z([lt,Ki,Kx,cC],Qx);z((e,t,r)=>Ix(e,r),WL,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})});var KL=z([ke,Qu,Vu],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xC=e=>e.options.defaultTooltipEventType,yC=e=>e.options.validateTooltipEventTypes;function vC(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Zx(e,t){var r=xC(e),n=yC(e);return vC(t,r,n)}function QL(e){return ie(t=>Zx(t,e))}var bC=(e,t)=>{var r,n=Number(t);if(!(br(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},VL=e=>e.tooltip.settings,fs={active:!1,index:null,dataKey:void 0,coordinate:void 0},HL={itemInteraction:{click:fs,hover:fs},axisInteraction:{click:fs,hover:fs},keyboardInteraction:fs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jC=kr({name:"tooltip",initialState:HL,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Ln(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:GL,removeTooltipEntrySettings:YL,setTooltipSettingsState:XL,setActiveMouseOverItemIndex:wC,mouseLeaveItem:ZL,mouseLeaveChart:NC,setActiveClickItemIndex:JL,setMouseOverAxisIndex:SC,setMouseClickAxisIndex:eR,setSyncInteraction:rp,setKeyboardInteraction:np}=jC.actions,tR=jC.reducer;function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){rR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rR(e,t,r){return(t=nR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nR(e){var t=sR(e,"string");return typeof t=="symbol"?t:t+""}function sR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aR(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function iR(e){return e.index!=null}var kC=(e,t,r,n)=>{if(t==null)return fs;var a=aR(e,t,r);if(a==null)return fs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(iR(a)){if(i)return Nc(Nc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Nc(Nc({},fs),{},{coordinate:a.coordinate})},Jx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!wr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},CC=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},PC=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Do=e=>e.options.tooltipPayloadSearcher,Vi=e=>e.tooltip;function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){lR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lR(e,t,r){return(t=oR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=cR(e,"string");return typeof t=="symbol"?t:t+""}function cR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dR(e,t){return e??t}var AC=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,m=[];return e.reduce((f,p)=>{var g,{dataDefinedOnItem:x,settings:w}=p,v=dR(x,o),y=Array.isArray(v)?gS(v,d,u):v,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n,S=w==null?void 0:w.nameKey,j;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&l==="axis"?j=HN(y,n,a):j=i(y,t,c,S),Array.isArray(j))j.forEach(k=>{var P=rj(rj({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});f.push(Uv({tooltipEntrySettings:P,dataKey:k.dataKey,payload:k.payload,value:Fe(k.payload,k.dataKey),name:k.name}))});else{var N;f.push(Uv({tooltipEntrySettings:w,dataKey:b,payload:j,value:Fe(j,b),name:(N=Fe(j,S))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return f},m)}},e0=z([kt,ke,Kk,Ax,yt],lC),uR=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mR=z([yt,qi],$x),Io=z([uR,kt,mR],Lx),fR=z([Io],e=>e.filter(lm)),hR=z([Io],Rx),Hi=z([hR,Gs],Fx),pR=z([fR,Gs,kt],Uk),t0=z([Hi,kt,Io],Bx),gR=z([kt],Ux),xR=z([Io],e=>e.filter(lm)),yR=z([pR,xR,To],Yk),vR=z([yR,Gs,yt],Xk),bR=z([Io],Vk),jR=z([Hi,kt,bR,dm,yt],Zk),wR=z([eC,yt,qi],Wi),NR=z([wR,yt],nC),SR=z([tC,yt,qi],Wi),kR=z([SR,yt],sC),CR=z([rC,yt,qi],Wi),PR=z([CR,yt],aC),AR=z([NR,PR,kR],Kd),TR=z([kt,gR,vR,jR,AR,ke,yt],qx),TC=z([kt,ke,Hi,t0,To,yt,TR],Wx),ER=z([TC,kt,e0],Vx),OR=z([kt,TC,ER,yt],Gx),EC=e=>{var t=yt(e),r=qi(e),n=!1;return Mo(e,t,r,n)},OC=z([kt,EC],am),_C=z([kt,e0,OR,OC],Qx),_R=z([ke,t0,kt,yt],hC),MR=z([ke,t0,kt,yt],pC),DR=(e,t,r,n,a,i,l,o)=>{if(t){var{type:c}=t,d=Ks(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wt(a[0]-a[1])*2*m:m,d&&l?l.map((f,p)=>({coordinate:n(f)+m,value:f,index:p,offset:m})):n.domain().map((f,p)=>({coordinate:n(f)+m,value:i?i[f]:f,index:p,offset:m}))}}},ts=z([ke,kt,e0,_C,EC,_R,MR,yt],DR),r0=z([xC,yC,VL],(e,t,r)=>vC(r.shared,e,t)),MC=e=>e.tooltip.settings.trigger,n0=e=>e.tooltip.settings.defaultIndex,fm=z([Vi,r0,MC,n0],kC),Ms=z([fm,Hi],Jx),DC=z([ts,Ms],bC),IC=z([fm],e=>{if(e)return e.dataKey}),$C=z([Vi,r0,MC,n0],PC),IR=z([Yn,Xn,ke,gt,ts,n0,$C,Do],CC),$R=z([fm,IR],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LR=z([fm],e=>e.active),RR=z([$C,Ms,Gs,Bk,DC,Do,r0],AC),FR=z([RR],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){zR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zR(e,t,r){return(t=BR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BR(e){var t=UR(e,"string");return typeof t=="symbol"?t:t+""}function UR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qR=()=>ie(kt),WR=()=>{var e=qR(),t=ie(ts),r=ie(_C);return no(sj(sj({},e),{},{scale:r}),t)},KR=()=>ie(Ax),s0=(e,t)=>t,LC=(e,t,r)=>r,a0=(e,t,r,n)=>n,QR=z(ts,e=>zu(e,t=>t.coordinate)),i0=z([Vi,s0,LC,a0],kC),RC=z([i0,Hi],Jx),VR=(e,t,r)=>{if(t!=null){var n=Vi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},FC=z([Vi,s0,LC,a0],PC),Qd=z([Yn,Xn,ke,gt,ts,a0,FC,Do],CC),HR=z([i0,Qd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),zC=z(ts,RC,bC),GR=z([FC,RC,Gs,Bk,zC,Do,s0],AC),YR=z([i0],e=>({isActive:e.active,activeIndex:e.index})),XR=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var c=w5(e.chartX,e.chartY,t,r,o);if(c){var d=S5(c,t),u=c5(d,l,i,n,a),m=N5(t,i,u,c);return{activeIndex:String(u),activeCoordinate:m}}}};function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){ZR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZR(e,t,r){return(t=JR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JR(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,m=r,f=n;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var p,g;if(d==="ScatterChart")p=u,g=SM;else if(d==="BarChart")p=kM(l,u,a,i),g=OS;else if(l==="radial"){var{cx:x,cy:w,radius:v,startAngle:y,endAngle:b}=_S(u);p={cx:x,cy:w,startAngle:y,endAngle:b,innerRadius:v,outerRadius:v},g=DS}else p={points:sD(l,u,a)},g=tx;var S=typeof o=="object"&&"className"in o?o.className:void 0,j=Sc(Sc(Sc(Sc({stroke:"#ccc",pointerEvents:"none"},a),p),tt(o,!1)),{},{payload:m,payloadIndex:f,className:Pe("recharts-tooltip-cursor",S)});return h.isValidElement(o)?h.cloneElement(o,j):h.createElement(g,j)}function r8(e){var t=WR(),r=wS(),n=Yu(),a=KR();return h.createElement(t8,sp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var BC=h.createContext(null),n8=()=>h.useContext(BC),UC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,m||c,f),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,p=m.length,g=new Array(p);f<p;f++)g[f]=m[f].fn;return g},o.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,u,m,f,p,g){var x=r?r+d:d;if(!this._events[x])return!1;var w=this._events[x],v=arguments.length,y,b;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,m),!0;case 4:return w.fn.call(w.context,u,m,f),!0;case 5:return w.fn.call(w.context,u,m,f,p),!0;case 6:return w.fn.call(w.context,u,m,f,p,g),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];w.fn.apply(w.context,y)}else{var S=w.length,j;for(b=0;b<S;b++)switch(w[b].once&&this.removeListener(d,w[b].fn,void 0,!0),v){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,u);break;case 3:w[b].fn.call(w[b].context,u,m);break;case 4:w[b].fn.call(w[b].context,u,m,f);break;default:if(!y)for(j=1,y=new Array(v-1);j<v;j++)y[j-1]=arguments[j];w[b].fn.apply(w[b].context,y)}}return!0},o.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},o.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},o.prototype.removeListener=function(d,u,m,f){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return l(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!m||g.context===m)&&l(this,p);else{for(var x=0,w=[],v=g.length;x<v;x++)(g[x].fn!==u||f&&!g[x].once||m&&g[x].context!==m)&&w.push(g[x]);w.length?this._events[p]=w.length===1?w[0]:w:l(this,p)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&l(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(UC);var s8=UC.exports;const a8=Hn(s8);var uo=new a8,ap="recharts.syncEvent.tooltip",ij="recharts.syncEvent.brush";function l0(e,t){if(t){var r=Number.parseInt(t,10);if(!br(r))return e==null?void 0:e[r]}}var i8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qC=kr({name:"options",initialState:i8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),l8=qC.reducer,{createEventEmitter:o8}=qC.actions;function c8(e){return e.tooltip.syncInteraction}var d8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WC=kr({name:"chartData",initialState:d8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:lj,setDataStartEndIndexes:u8,setComputedData:Bq}=WC.actions,m8=WC.reducer,f8=["x","y"];function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){h8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h8(e,t,r){return(t=p8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8(e){var t=g8(e,"string");return typeof t=="symbol"?t:t+""}function g8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x8(e,t){if(e==null)return{};var r,n,a=y8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KC=()=>{};function v8(){var e=ie(Tx),t=ie(Ex),r=rt(),n=ie(Ik),a=ie(ts),i=Yu(),l=Xg(),o=ie(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return KC;var c=(d,u,m)=>{if(t!==m&&e===d){if(n==="index"){var f;if(l&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var p=u.payload.coordinate,{x:g,y:x}=p,w=x8(p,f8),v=Xs(Xs(Xs({},w),typeof g=="number"&&{x:Math.max(l.x,Math.min(g,l.x+l.width))}),typeof x=="number"&&{y:Math.max(l.y,Math.min(x,l.y+l.height))}),y=Xs(Xs({},u),{},{payload:Xs(Xs({},u.payload),{},{coordinate:v})});r(y)}else r(u);return}if(a!=null){var b;if(typeof n=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},j=n(a,S);b=a[j]}else n==="value"&&(b=a.find(F=>String(F.value)===u.payload.label));var{coordinate:N}=u.payload;if(b==null||u.payload.active===!1||N==null||l==null){r(rp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:P}=N,A=Math.min(k,l.x+l.width),O=Math.min(P,l.y+l.height),T={x:i==="horizontal"?b.coordinate:A,y:i==="horizontal"?O:b.coordinate},D=rp({active:u.payload.active,coordinate:T,dataKey:u.payload.dataKey,index:String(b.index),label:u.payload.label});r(D)}}};return uo.on(ap,c),()=>{uo.off(ap,c)}},[o,r,t,e,n,a,i,l])}function b8(){var e=ie(Tx),t=ie(Ex),r=rt();h.useEffect(()=>{if(e==null)return KC;var n=(a,i,l)=>{t!==l&&e===a&&r(u8(i))};return uo.on(ij,n),()=>{uo.off(ij,n)}},[r,t,e])}function j8(){var e=rt();h.useEffect(()=>{e(o8())},[e]),v8(),b8()}function w8(e,t,r,n,a,i){var l=ie(f=>VR(f,e,t)),o=ie(Ex),c=ie(Tx),d=ie(Ik),u=ie(c8),m=u==null?void 0:u.active;h.useEffect(()=>{if(!m&&c!=null&&o!=null){var f=rp({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});uo.emit(ap,c,f,o)}},[m,r,l,a,n,o,c,d,i])}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){N8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8(e,t,r){return(t=S8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C8(e){return e.dataKey}function P8(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(rM,t)}var uj=[],A8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rr(e){var t=Dt(e,A8),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:x,shared:w,trigger:v,defaultIndex:y,portal:b,axisId:S}=t,j=rt(),N=typeof y=="number"?String(y):y;h.useEffect(()=>{j(XL({shared:w,trigger:v,axisId:S,active:r,defaultIndex:N}))},[j,w,v,S,r,N]);var k=Xg(),P=CS(),A=QL(w),{activeIndex:O,isActive:T}=ie(me=>YR(me,A,v,N)),D=ie(me=>GR(me,A,v,N)),F=ie(me=>zC(me,A,v,N)),U=ie(me=>HR(me,A,v,N)),$=D,C=n8(),R=r??T,[L,E]=W2([$,R]),I=A==="axis"?F:void 0;w8(A,v,U,I,O,R);var X=b??C;if(X==null)return null;var W=$??uj;R||(W=uj),o&&W.length&&(W=_2($.filter(me=>me.value!=null&&(me.hide!==!0||t.includeHidden)),u,C8));var le=W.length>0,ye=h.createElement(cM,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:R,coordinate:U,hasPayload:le,offset:d,position:m,reverseDirection:f,useTranslate3d:p,viewBox:k,wrapperStyle:g,lastBoundingBox:L,innerRef:E,hasPortalFromProps:!!b},P8(l,dj(dj({},t),{},{payload:W,label:I,active:R,coordinate:U,accessibilityLayer:P})));return h.createElement(h.Fragment,null,cg.createPortal(ye,X),R&&h.createElement(r8,{cursor:x,tooltipEventType:A,coordinate:U,payload:$,index:O}))}var QC={},VC={},HC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{d&&u(),x()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},g=()=>{f!==null&&(clearTimeout(f),f=null)},x=()=>{g(),l=void 0,o=null},w=()=>{u()},v=function(...y){if(a!=null&&a.aborted)return;l=this,o=y;const b=f==null;p(),c&&b&&u()};return v.schedule=p,v.cancel=x,v.flush=w,a==null||a.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(HC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HC;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,m=null;const f=t.debounce(function(...x){u=n.apply(this,x),m=null},a,{edges:d}),p=function(...x){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=n.apply(this,x),m=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,x),u)},g=()=>(f.flush(),u);return p.cancel=f.cancel,p.flush=g,p}e.debounce=r})(VC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC;function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(QC);var T8=QC.throttle;const E8=Hn(T8);var Ml=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=M8(e,"string");return typeof t=="symbol"?t:t+""}function M8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:m,className:f,onResize:p,style:g={}}=e,x=h.useRef(null),w=h.useRef();w.current=p,h.useImperativeHandle(t,()=>x.current);var[v,y]=h.useState({containerWidth:n.width,containerHeight:n.height}),b=h.useCallback((j,N)=>{y(k=>{var P=Math.round(j),A=Math.round(N);return k.containerWidth===P&&k.containerHeight===A?k:{containerWidth:P,containerHeight:A}})},[]);h.useEffect(()=>{var j=A=>{var O,{width:T,height:D}=A[0].contentRect;b(T,D),(O=w.current)===null||O===void 0||O.call(w,T,D)};u>0&&(j=E8(j,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(j),{width:k,height:P}=x.current.getBoundingClientRect();return b(k,P),N.observe(x.current),()=>{N.disconnect()}},[b,u]);var S=h.useMemo(()=>{var{containerWidth:j,containerHeight:N}=v;if(j<0||N<0)return null;Ml(la(a)||la(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Ml(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=la(a)?j:a,P=la(i)?N:i;return r&&r>0&&(k?P=k/r:P&&(k=P*r),c&&P>c&&(P=c)),Ml(k>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,P,a,i,l,o,r),h.Children.map(d,A=>h.cloneElement(A,{width:k,height:P,style:gf({width:k,height:P},A.props.style)}))},[r,d,i,c,o,l,v,a]);return h.createElement("div",{id:m?"".concat(m):void 0,className:Pe("recharts-responsive-container",f),style:gf(gf({},g),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:x},h.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),rs=e=>null;rs.displayName="Cell";function D8(e,t,r){return(t=I8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=$8(e,"string");return typeof t=="symbol"?t:t+""}function $8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L8{constructor(t){D8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return(t=z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U8={cacheSize:2e3,enableCache:!0},GC=R8({},U8),hj=new L8(GC.cacheSize),q8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pj="recharts_measurement_span";function W8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var gj=(e,t)=>{try{var r=document.getElementById(pj);r||(r=document.createElement("span"),r.setAttribute("id",pj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,q8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Dl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qs.isSsr)return{width:0,height:0};if(!GC.enableCache)return gj(t,r);var n=W8(t,r),a=hj.get(n);if(a)return a;var i=gj(t,r);return hj.set(n,i),i},xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Q8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V8=Object.keys(YC),ri="NaN";function H8(e,t){return e*YC[t]}class Jt{static parse(t){var r,[,n,a]=(r=Q8.exec(t))!==null&&r!==void 0?r:[];return new Jt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,br(t)&&(this.unit=""),r!==""&&!K8.test(r)&&(this.num=NaN,this.unit=""),V8.includes(r)&&(this.num=H8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return br(this.num)}}function XC(e){if(e.includes(ri))return ri;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=xj.exec(t))!==null&&r!==void 0?r:[],l=Jt.parse(n??""),o=Jt.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return ri;t=t.replace(xj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,f]=(d=yj.exec(t))!==null&&d!==void 0?d:[],p=Jt.parse(u??""),g=Jt.parse(f??""),x=m==="+"?p.add(g):p.subtract(g);if(x.isNaN())return ri;t=t.replace(yj,x.toString())}return t}var vj=/\(([^()]*)\)/;function G8(e){for(var t=e,r;(r=vj.exec(t))!=null;){var[,n]=r;t=t.replace(vj,XC(n))}return t}function Y8(e){var t=e.replace(/\s+/g,"");return t=G8(t),t=XC(t),t}function X8(e){try{return Y8(e)}catch{return ri}}function xf(e){var t=X8(e.slice(5,-1));return t===ri?"":t}var Z8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J8=["dx","dy","angle","className","breakAll"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function bj(e,t){if(e==null)return{};var r,n,a=eF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZC=/[ \f\n\r\t\v\u2028\u2029]+/,JC=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ye(t)||(r?a=t.toString().split(""):a=t.toString().split(ZC));var i=a.map(o=>({word:o,width:Dl(o,n).width})),l=r?0:Dl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},tF=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=de(i),u=l,m=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((D,F)=>{var{word:U,width:$}=F,C=D[D.length-1];if(C&&(n==null||a||C.width+$+r<Number(n)))C.words.push(U),C.width+=$+r;else{var R={words:[U],width:$};D.push(R)}return D},[])},f=m(t),p=O=>O.reduce((T,D)=>T.width>D.width?T:D);if(!d||a)return f;var g=f.length>i||p(f).width>Number(n);if(!g)return f;for(var x="",w=O=>{var T=u.slice(0,O),D=JC({breakAll:c,style:o,children:T+x}).wordsWithComputedWidth,F=m(D),U=F.length>i||p(F).width>Number(n);return[U,F]},v=0,y=u.length-1,b=0,S;v<=y&&b<=u.length-1;){var j=Math.floor((v+y)/2),N=j-1,[k,P]=w(N),[A]=w(j);if(!k&&!A&&(v=j+1),k&&A&&(y=j-1),!k&&A){S=P;break}b++}return S||f},jj=e=>{var t=Ye(e)?[]:e.toString().split(ZC);return[{words:t}]},rF=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Qs.isSsr){var o,c,d=JC({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;o=u,c=m}else return jj(n);return tF({breakAll:i,children:n,maxLines:l,style:a},o,c,t,r)}return jj(n)},wj="#808080",hm=h.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=wj}=e,u=bj(e,Z8),m=h.useMemo(()=>rF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:f,dy:p,angle:g,className:x,breakAll:w}=u,v=bj(u,J8);if(!bn(r)||!bn(n)||m.length===0)return null;var y=r+(de(f)?f:0),b=n+(de(p)?p:0),S;switch(c){case"start":S=xf("calc(".concat(i,")"));break;case"middle":S=xf("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:S=xf("calc(".concat(m.length-1," * -").concat(a,")"));break}var j=[];if(l){var N=m[0].width,{width:k}=u;j.push("scale(".concat(de(k)?k/N:1,")"))}return g&&j.push("rotate(".concat(g,", ").concat(y,", ").concat(b,")")),j.length&&(v.transform=j.join(" ")),h.createElement("text",ip({},tt(v,!0),{ref:t,x:y,y:b,className:Pe("recharts-text",x),textAnchor:o,fill:d.includes("url")?wj:d}),m.map((P,A)=>{var O=P.words.join(w?"":" ");return h.createElement("tspan",{x:y,dy:A===0?S:a,key:"".concat(O,"-").concat(A)},O)}))});hm.displayName="Text";var nF=["labelRef"];function sF(e,t){if(e==null)return{};var r,n,a=aF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){iF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iF(e,t,r){return(t=lF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tn.apply(null,arguments)}var eP=h.createContext(null),cF=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=h.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return h.createElement(eP.Provider,{value:l},i)},tP=()=>{var e=h.useContext(eP),t=Xg();return e||t},dF=h.createContext(null),uF=()=>{var e=h.useContext(dF),t=ie(zk);return e||t},mF=e=>{var{value:t,formatter:r}=e,n=Ye(e.children)?t:e.children;return typeof r=="function"?r(n):n},o0=e=>e!=null&&typeof e=="function",fF=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hF=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:f,clockWise:p}=a,g=(d+u)/2,x=fF(m,f),w=x>=0?1:-1,v,y;switch(t){case"insideStart":v=m+w*i,y=p;break;case"insideEnd":v=f-w*i,y=!p;break;case"end":v=f+w*i,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=x<=0?y:!y;var b=dt(o,c,g,v),S=dt(o,c,g,v+(y?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Ye(e.id)?eo("recharts-radial-line-"):e.id;return h.createElement("text",Tn({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",l)}),h.createElement("defs",null,h.createElement("path",{id:N,d:j})),h.createElement("textPath",{xlinkHref:"#".concat(N)},r))},pF=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(r==="outside"){var{x:u,y:m}=dt(n,a,l+t,d);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+l)/2,{x:p,y:g}=dt(n,a,f,d);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},rP=e=>"cx"in e&&de(e.cx),gF=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!rP(r)&&(i=r);var{x:l,y:o,width:c,height:d}=t,u=d>=0?1:-1,m=u*n,f=u>0?"end":"start",p=u>0?"start":"end",g=c>=0?1:-1,x=g*n,w=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:l+c/2,y:o-u*n,textAnchor:"middle",verticalAnchor:f};return at(at({},y),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var b={x:l+c/2,y:o+d+m,textAnchor:"middle",verticalAnchor:p};return at(at({},b),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(a==="left"){var S={x:l-x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return at(at({},S),i?{width:Math.max(S.x-i.x,0),height:d}:{})}if(a==="right"){var j={x:l+c+x,y:o+d/2,textAnchor:v,verticalAnchor:"middle"};return at(at({},j),i?{width:Math.max(i.x+i.width-j.x,0),height:d}:{})}var N=i?{width:c,height:d}:{};return a==="insideLeft"?at({x:l+x,y:o+d/2,textAnchor:v,verticalAnchor:"middle"},N):a==="insideRight"?at({x:l+c-x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?at({x:l+c/2,y:o+m,textAnchor:"middle",verticalAnchor:p},N):a==="insideBottom"?at({x:l+c/2,y:o+d-m,textAnchor:"middle",verticalAnchor:f},N):a==="insideTopLeft"?at({x:l+x,y:o+m,textAnchor:v,verticalAnchor:p},N):a==="insideTopRight"?at({x:l+c-x,y:o+m,textAnchor:w,verticalAnchor:p},N):a==="insideBottomLeft"?at({x:l+x,y:o+d-m,textAnchor:v,verticalAnchor:f},N):a==="insideBottomRight"?at({x:l+c-x,y:o+d-m,textAnchor:w,verticalAnchor:f},N):a&&typeof a=="object"&&(de(a.x)||la(a.x))&&(de(a.y)||la(a.y))?at({x:l+Bt(a.x,c),y:o+Bt(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):at({x:l+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},xF={offset:5};function os(e){var t=Dt(e,xF),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=uF(),m=tP(),f=n==="center"?m:u??m,p=r||f;if(!p||Ye(a)&&Ye(i)&&!h.isValidElement(l)&&typeof l!="function")return null;var g=at(at({},t),{},{viewBox:p});if(h.isValidElement(l)){var x=sF(g,nF);return h.cloneElement(l,x)}var w;if(typeof l=="function"){if(w=h.createElement(l,g),h.isValidElement(w))return w}else w=mF(t);var v=rP(p),y=tt(t,!0);if(v&&(n==="insideStart"||n==="insideEnd"||n==="end"))return hF(t,n,w,y,p);var b=v?pF(p,t.offset,t.position):gF(t,p);return h.createElement(hm,Tn({ref:d,className:Pe("recharts-label",o)},y,b,{breakAll:c}),w)}os.displayName="Label";var yF=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?h.createElement(os,Tn({key:"label-implicit"},n)):bn(e)?h.createElement(os,Tn({key:"label-implicit",value:e},n)):h.isValidElement(e)?e.type===os?h.cloneElement(e,at({key:"label-implicit"},n)):h.createElement(os,Tn({key:"label-implicit",content:e},n)):o0(e)?h.createElement(os,Tn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?h.createElement(os,Tn({},e,{key:"label-implicit"},n)):null};function vF(e){var{label:t}=e,r=tP();return yF(t,r)||null}var nP={},sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(sP);var aP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(aP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP,r=aP,n=Ru;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(nP);var bF=nP.last;const jF=Hn(bF);var wF=["valueAccessor"],NF=["dataKey","clockWise","id","textBreakAll"];function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(null,arguments)}function Sj(e,t){if(e==null)return{};var r,n,a=SF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kF=e=>Array.isArray(e.value)?jF(e.value):e.value,iP=h.createContext(void 0),lP=iP.Provider,oP=h.createContext(void 0),CF=oP.Provider;function PF(){return h.useContext(iP)}function AF(){return h.useContext(oP)}function Kc(e){var{valueAccessor:t=kF}=e,r=Sj(e,wF),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=Sj(r,NF),c=PF(),d=AF(),u=c||d;return!u||!u.length?null:h.createElement(Mt,{className:"recharts-label-list"},u.map((m,f)=>{var p,g=Ye(n)?t(m,f):Fe(m&&m.payload,n),x=Ye(i)?{}:{id:"".concat(i,"-").concat(f)};return h.createElement(os,Vd({},tt(m,!0),o,x,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:g,textBreakAll:l,viewBox:m.viewBox,key:"label-".concat(f),index:f}))}))}Kc.displayName="LabelList";function c0(e){var{label:t}=e;return t?t===!0?h.createElement(Kc,{key:"labelList-implicit"}):h.isValidElement(t)||o0(t)?h.createElement(Kc,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(Kc,Vd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}var cP=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Pe("recharts-dot",a);return t===+t&&r===+r&&n===+n?h.createElement("circle",lp({},Nn(e),Sg(e),{className:i,cx:t,cy:r,r:n})):null},dP=e=>e.graphicalItems.polarItems,TF=z([Xe,Eo],$x),d0=z([dP,lt,TF],Lx),EF=z([d0],Rx),u0=z([EF,kx],Fx),OF=z([u0,lt,d0],Bx),_F=z([u0,lt,d0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=Fe(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Fe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),kj=()=>{},MF=z([lt,iC,kj,_F,kj,ke,Xe],qx),uP=z([lt,ke,u0,OF,To,Xe,MF],Wx),DF=z([uP,lt,Ki],Vx);z([lt,uP,DF,Xe],Gx);var IF={radiusAxis:{},angleAxis:{}},$F=kr({name:"polarAxis",initialState:IF,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),LF=$F.reducer;function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){RF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BF=(e,t)=>t,m0=z([dP,BF],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),UF=[],f0=(e,t,r)=>(r==null?void 0:r.length)===0?UF:r,mP=z([kx,m0,f0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>Pj(Pj({},t.presentationProps),i.props))),a!=null)return a}}),qF=z([mP,m0,f0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=Fe(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Fi(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),WF=z([mP,m0,f0,gt],(e,t,r,n)=>{if(!(t==null||e==null))return F7({offset:n,pieSettings:t,displayedData:e,cells:r})}),fP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fP);var KF=fP.isPlainObject;const QF=Hn(KF);function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){VF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VF(e,t,r){return(t=HF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=GF(e,"string");return typeof t=="symbol"?t:t+""}function GF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}var Ej=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},YF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XF=e=>{var t=Dt(e,YF),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=t,f=h.useRef(),[p,g]=h.useState(-1),x=h.useRef(a),w=h.useRef(i),v=h.useRef(l),y=h.useRef(r),b=h.useRef(n),S=So(e,"trapezoid-");if(h.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var U=f.current.getTotalLength();U&&g(U)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var j=Pe("recharts-trapezoid",o);if(!m)return h.createElement("g",null,h.createElement("path",Hd({},tt(t,!0),{className:j,d:Ej(r,n,a,i,l)})));var N=x.current,k=w.current,P=v.current,A=y.current,O=b.current,T="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),F=PS(["strokeDasharray"],d,c);return h.createElement(No,{animationId:S,key:S,canBegin:p>0,duration:d,easing:c,isActive:m,begin:u},U=>{var $=st(N,a,U),C=st(k,i,U),R=st(P,l,U),L=st(A,r,U),E=st(O,n,U);f.current&&(x.current=$,w.current=C,v.current=R,y.current=L,b.current=E);var I=U>0?{transition:F,strokeDasharray:D}:{strokeDasharray:T};return h.createElement("path",Hd({},tt(t,!0),{className:j,d:Ej(L,E,$,C,R),ref:f,style:Tj(Tj({},I),t.style)}))})},ZF=["option","shapeType","propTransformer","activeClassName","isActive"];function JF(e,t){if(e==null)return{};var r,n,a=e7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s7(e,t){return Gd(Gd({},t),e)}function a7(e,t){return e==="symbols"}function _j(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(OS,r);case"trapezoid":return h.createElement(XF,r);case"sector":return h.createElement(DS,r);case"symbols":if(a7(t))return h.createElement(Eg,r);break;default:return null}}function i7(e){return h.isValidElement(e)?e.props:e}function hP(e){var{option:t,shapeType:r,propTransformer:n=s7,activeClassName:a="recharts-active-shape",isActive:i}=e,l=JF(e,ZF),o;if(h.isValidElement(t))o=h.cloneElement(t,Gd(Gd({},l),i7(t)));else if(typeof t=="function")o=t(l);else if(QF(t)&&typeof t!="boolean"){var c=n(t,l);o=h.createElement(_j,{shapeType:r,elementProps:c})}else{var d=l;o=h.createElement(_j,{shapeType:r,elementProps:d})}return i?h.createElement(Mt,{className:a},o):o}var h0=(e,t)=>{var r=rt();return(n,a)=>i=>{e==null||e(n,a,i),r(wC({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},p0=e=>{var t=rt();return(r,n)=>a=>{e==null||e(r,n,a),t(ZL())}},g0=(e,t)=>{var r=rt();return(n,a)=>i=>{e==null||e(n,a,i),r(JL({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function x0(e){var{fn:t,args:r}=e,n=rt(),a=ir();return h.useEffect(()=>{if(!a){var i=t(r);return n(GL(i)),()=>{n(YL(i))}}},[t,r,n,a]),null}var pP=()=>{};function gP(e){var{legendPayload:t}=e,r=rt(),n=ir();return h.useEffect(()=>n?pP:(r(SS(t)),()=>{r(kS(t))}),[r,n,t]),null}function l7(e){var{legendPayload:t}=e,r=rt(),n=ie(ke);return h.useEffect(()=>n!=="centric"&&n!=="radial"?pP:(r(SS(t)),()=>{r(kS(t))}),[r,n,t]),null}var yf,o7=()=>{var[e]=h.useState(()=>eo("uid-"));return e},c7=(yf=hA.useId)!==null&&yf!==void 0?yf:o7;function d7(e,t){var r=c7();return t||(e?"".concat(e,"-").concat(r):r)}var u7=h.createContext(void 0),y0=e=>{var{id:t,type:r,children:n}=e,a=d7("recharts-".concat(r),t);return h.createElement(u7.Provider,{value:a},n(a))},m7={cartesianItems:[],polarItems:[]},xP=kr({name:"graphicalItems",initialState:m7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Ln(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Ln(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Ln(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:f7,replaceCartesianGraphicalItem:h7,removeCartesianGraphicalItem:p7,addPolarGraphicalItem:g7,removePolarGraphicalItem:x7}=xP.actions,y7=xP.reducer;function yP(e){var t=rt(),r=h.useRef(null);return h.useEffect(()=>{r.current===null?t(f7(e)):r.current!==e&&t(h7({prev:r.current,next:e})),r.current=e},[t,e]),h.useEffect(()=>()=>{r.current&&(t(p7(r.current)),r.current=null)},[t]),null}function v7(e){var t=rt();return h.useEffect(()=>(t(g7(e)),()=>{t(x7(e))}),[t,e]),null}var b7=["onMouseEnter","onClick","onMouseLeave"],j7=["id"],w7=["id"];function v0(e,t){if(e==null)return{};var r,n,a=N7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){S7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(null,arguments)}function P7(e){var t=h.useMemo(()=>kg(e.children,rs),[e.children]),r=ie(n=>qF(n,e.id,t));return r==null?null:h.createElement(l7,{legendPayload:r})}function A7(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:Fi(o,t),hide:c,type:d,color:l,unit:""}}}var T7=(e,t)=>e>t?"start":e<t?"end":"middle",E7=(e,t,r)=>Bt(typeof t=="function"?t(e):t,r,r*.8),O7=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=pS(i,l),c=a+Bt(e.cx,i,i/2),d=n+Bt(e.cy,l,l/2),u=Bt(e.innerRadius,o,0),m=E7(r,e.outerRadius,o),f=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:f}},_7=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function M7(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var D7=(e,t)=>{if(h.isValidElement(e))return h.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return h.createElement(tx,Ds({},t,{type:"linear",className:r}))},I7=(e,t,r)=>{if(h.isValidElement(e))return h.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),h.isValidElement(n)))return n;var a=Pe("recharts-pie-label-text",M7(e));return h.createElement(hm,Ds({},t,{alignmentBaseline:"middle",className:a}),n)};function $7(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=Nn(r),c=tt(a,!1),d=tt(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((f,p)=>{var g=(f.startAngle+f.endAngle)/2,x=dt(f.cx,f.cy,f.outerRadius+u,g),w=Qe(Qe(Qe(Qe({},o),f),{},{stroke:"none"},c),{},{index:p,textAnchor:T7(x.x,f.cx)},x),v=Qe(Qe(Qe(Qe({},o),f),{},{fill:"none",stroke:f.fill},d),{},{index:p,points:[dt(f.cx,f.cy,f.outerRadius,g),x],key:"line"});return h.createElement(Mt,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},i&&D7(i,v),I7(a,w,Fe(f,l)))});return h.createElement(Mt,{className:"recharts-pie-labels"},m)}function L7(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?h.createElement(c0,{label:a}):h.createElement($7,{sectors:t,props:r,showLabels:n})}function R7(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=ie(Ms),{onMouseEnter:l,onClick:o,onMouseLeave:c}=a,d=v0(a,b7),u=h0(l,a.dataKey),m=p0(c),f=g0(o,a.dataKey);return t==null||t.length===0?null:h.createElement(h.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var x=r&&String(g)===i,w=i?n:null,v=x?r:w,y=Qe(Qe({},p),{},{stroke:p.stroke,tabIndex:-1,[bS]:g,[jS]:a.dataKey});return h.createElement(Mt,Ds({tabIndex:-1,className:"recharts-pie-sector"},vo(d,p,g),{onMouseEnter:u(p,g),onMouseLeave:m(p,g),onClick:f(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),h.createElement(hP,Ds({option:v,isActive:x,shapeType:"sector"},y)))}))}function F7(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=r,f=Math.abs(r.minAngle),p=_7(o,c),g=Math.abs(p),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(N=>Fe(N,d,0)!==0).length,v=(g>=360?w:w-1)*x,y=g-w*f-v,b=n.reduce((N,k)=>{var P=Fe(k,d,0);return N+(de(P)?P:0)},0),S;if(b>0){var j;S=n.map((N,k)=>{var P=Fe(N,d,0),A=Fe(N,u,k),O=O7(r,i,N),T=(de(P)?P:0)/b,D,F=Qe(Qe({},N),a&&a[k]&&a[k].props);k?D=j.endAngle+wt(p)*x*(P!==0?1:0):D=o;var U=D+wt(p)*((P!==0?f:0)+T*y),$=(D+U)/2,C=(O.innerRadius+O.outerRadius)/2,R=[{name:A,value:P,payload:F,dataKey:d,type:m}],L=dt(O.cx,O.cy,C,$);return j=Qe(Qe(Qe(Qe({},r.presentationProps),{},{percent:T,cornerRadius:l,name:A,tooltipPayload:R,midAngle:$,middleRadius:C,tooltipPosition:L},F),O),{},{value:P,startAngle:D,endAngle:U,payload:F,paddingAngle:wt(p)*x}),j})}return S}function z7(e){var{showLabels:t,sectors:r,children:n}=e,a=h.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return h.createElement(CF,{value:t?a:void 0},n)}function B7(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,f=So(t,"recharts-pie-"),p=r.current,[g,x]=h.useState(!1),w=h.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),v=h.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return h.createElement(z7,{showLabels:!g,sectors:n},h.createElement(No,{animationId:f,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:v,onAnimationEnd:w,key:f},y=>{var b=[],S=n&&n[0],j=S==null?void 0:S.startAngle;return n==null||n.forEach((N,k)=>{var P=p&&p[k],A=k>0?Sa(N,"paddingAngle",0):0;if(P){var O=st(P.endAngle-P.startAngle,N.endAngle-N.startAngle,y),T=Qe(Qe({},N),{},{startAngle:j+A,endAngle:j+O+A});b.push(T),j=T.endAngle}else{var{endAngle:D,startAngle:F}=N,U=st(0,D-F,y),$=Qe(Qe({},N),{},{startAngle:j+A,endAngle:j+U+A});b.push($),j=$.endAngle}}),r.current=b,h.createElement(Mt,null,h.createElement(R7,{sectors:b,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),h.createElement(L7,{showLabels:!g,sectors:n,props:t}),t.children)}var U7={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Qs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function q7(e){var{id:t}=e,r=v0(e,j7),{hide:n,className:a,rootTabIndex:i}=e,l=h.useMemo(()=>kg(e.children,rs),[e.children]),o=ie(u=>WF(u,t,l)),c=h.useRef(null),d=Pe("recharts-pie",a);return n||o==null?(c.current=null,h.createElement(Mt,{tabIndex:i,className:d})):h.createElement(h.Fragment,null,h.createElement(x0,{fn:A7,args:Qe(Qe({},e),{},{sectors:o})}),h.createElement(Mt,{tabIndex:i,className:d},h.createElement(B7,{props:Qe(Qe({},r),{},{sectors:o}),previousSectorsRef:c})))}function Gi(e){var t=Dt(e,U7),{id:r}=t,n=v0(t,w7),a=Nn(n);return h.createElement(y0,{id:r,type:"pie"},i=>h.createElement(h.Fragment,null,h.createElement(v7,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),h.createElement(P7,Ds({},n,{id:i})),h.createElement(q7,Ds({},n,{id:i}))))}Gi.displayName="Pie";function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){W7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V7={xAxis:{},yAxis:{},zAxis:{}},vP=kr({name:"cartesianAxis",initialState:V7,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Ij(Ij({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:H7,removeXAxis:G7,addYAxis:Y7,removeYAxis:X7,addZAxis:Uq,removeZAxis:qq,updateYAxisWidth:Z7}=vP.actions,J7=vP.reducer,ez=z([gt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),tz=z([ez,Yn,Xn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),b0=()=>ie(tz),rz=()=>ie(FR);function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nz(e,t,r){return(t=sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iz=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=Lj(Lj({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},tt(a,!1)),Sg(a)),o;return h.isValidElement(a)?o=h.cloneElement(a,l):typeof a=="function"?o=a(l):o=h.createElement(cP,l),h.createElement(Mt,{className:"recharts-active-dot"},o)};function lz(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=ie(Ms),l=rz();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Ye(o)?null:iz({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var oz="Invariant failed";function cz(e,t){throw new Error(oz)}var dz=["x","y"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uz(e,t,r){return(t=mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hz(e,t){if(e==null)return{};var r,n,a=pz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gz(e,t){var{x:r,y:n}=e,a=hz(e,dz),i="".concat(r),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),d="".concat(t.height||a.height),u=parseInt(d,10),m="".concat(t.width||a.width),f=parseInt(m,10);return pl(pl(pl(pl(pl({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function j0(e){return h.createElement(hP,op({shapeType:"rectangle",propTransformer:gz,activeClassName:"recharts-active-bar"},e))}var xz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var i=de(n)||Ye(n);return i?t(n,a):(i||cz(),r)}},yz={},vz=kr({name:"errorBars",initialState:yz,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),bz=vz.reducer,jz=["children"];function wz(e,t){if(e==null)return{};var r,n,a=Nz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sz={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kz=h.createContext(Sz);function bP(e){var{children:t}=e,r=wz(e,jz);return h.createElement(kz.Provider,{value:r},t)}function w0(e,t){var r,n,a=ie(d=>Jn(d,e)),i=ie(d=>es(d,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:or.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:cr.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function jP(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=b0(),{needClipX:i,needClipY:l,needClip:o}=w0(t,r);if(!o)return null;var{x:c,y:d,width:u,height:m}=a;return h.createElement("clipPath",{id:"clipPath-".concat(n)},h.createElement("rect",{x:i?c:c-u/2,y:l?d:d-m/2,width:i?u:u*2,height:l?m:m*2}))}var Cz=["onMouseEnter","onMouseLeave","onClick"],Pz=["value","background","tooltipPosition"],Az=["id"],Tz=["onMouseEnter","onClick","onMouseLeave"];function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(e,t){if(e==null)return{};var r,n,a=Mz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dz=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fi(r,t),payload:e}]};function Iz(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Fi(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function $z(e){var t=ie(Ms),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=Yd(i,Cz),u=h0(l,n),m=p0(o),f=g0(c,n);if(!a||r==null)return null;var p=tt(a,!1);return h.createElement(h.Fragment,null,r.map((g,x)=>{var{value:w,background:v,tooltipPosition:y}=g,b=Yd(g,Pz);if(!v)return null;var S=u(g,x),j=m(g,x),N=f(g,x),k=Qt(Qt(Qt(Qt(Qt({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},v),p),vo(d,g,x)),{},{onMouseEnter:S,onMouseLeave:j,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return h.createElement(j0,Is({key:"background-bar-".concat(k.index)},k))}))}function Lz(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Qt(Qt({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return h.createElement(lP,{value:t?a:void 0},r)}function Rz(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=ie(Ms),c=ie(IC),d=r&&String(i)===o&&(c==null||l===c),u=d?r:t;return h.createElement(j0,Is({},n,a,{isActive:d,option:u,index:i,dataKey:l}))}function Fz(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return h.createElement(j0,Is({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function zz(e){var{data:t,props:r}=e,n=Nn(r),a=Yd(n,Az),{shape:i,dataKey:l,activeBar:o}=r,{onMouseEnter:c,onClick:d,onMouseLeave:u}=r,m=Yd(r,Tz),f=h0(c,l),p=p0(u),g=g0(d,l);return t?h.createElement(h.Fragment,null,t.map((x,w)=>h.createElement(Mt,Is({className:"recharts-bar-rectangle"},vo(m,x,w),{onMouseEnter:f(x,w),onMouseLeave:p(x,w),onClick:g(x,w),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w)}),o?h.createElement(Rz,{shape:i,activeBar:o,baseProps:a,entry:x,index:w,dataKey:l}):h.createElement(Fz,{shape:i,baseProps:a,entry:x,index:w,dataKey:l})))):null}function Bz(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=r.current,f=So(t,"recharts-bar-"),[p,g]=h.useState(!1),x=!p,w=h.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),v=h.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return h.createElement(Lz,{showLabels:x,rects:n},h.createElement(No,{animationId:f,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:w,onAnimationStart:v,key:f},y=>{var b=y===1?n:n==null?void 0:n.map((S,j)=>{var N=m&&m[j];if(N)return Qt(Qt({},S),{},{x:st(N.x,S.x,y),y:st(N.y,S.y,y),width:st(N.width,S.width,y),height:st(N.height,S.height,y)});if(a==="horizontal"){var k=st(0,S.height,y);return Qt(Qt({},S),{},{y:S.y+S.height-k,height:k})}var P=st(0,S.width,y);return Qt(Qt({},S),{},{width:P})});return y>0&&(r.current=b??null),b==null?null:h.createElement(Mt,null,h.createElement(zz,{props:t,data:b}))}),h.createElement(c0,{label:t.label}),t.children)}function Uz(e){var t=h.useRef(null);return h.createElement(Bz,{previousRectanglesRef:t,props:e})}var wP=0,qz=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Fe(e,t)}};class Wz extends h.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||r==null)return null;var u=Pe("recharts-bar",a),m=d;return h.createElement(Mt,{className:u,id:d},o&&h.createElement("defs",null,h.createElement(jP,{clipPathId:m,xAxisId:i,yAxisId:l})),h.createElement(Mt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},h.createElement($z,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),h.createElement(Uz,this.props)))}}var Kz={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Qs.isSsr,legendType:"rect",minPointSize:wP,xAxisId:0,yAxisId:0};function Qz(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=w0(t,r),f=Yu(),p=ir(),g=kg(e.children,rs),x=ie(y=>b9(y,t,r,p,e.id,g));if(f!=="vertical"&&f!=="horizontal")return null;var w,v=x==null?void 0:x[0];return v==null||v.height==null||v.width==null?w=0:w=f==="vertical"?v.height/2:v.width/2,h.createElement(bP,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:qz,errorBarOffset:w},h.createElement(Wz,Is({},e,{layout:f,needClip:m,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function Vz(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:f,cells:p,parentViewBox:g}=e,x=t==="horizontal"?o:l,w=u?x.scale.domain():null,v=y5({numericAxis:x});return m.map((y,b)=>{var S,j,N,k,P,A;u?S=m5(u[b],w):(S=Fe(y,r),Array.isArray(S)||(S=[v,S]));var O=xz(n,wP)(S[1],b);if(t==="horizontal"){var T,[D,F]=[o.scale(S[0]),o.scale(S[1])];j=Fv({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:y,index:b}),N=(T=F??D)!==null&&T!==void 0?T:void 0,k=a.size;var U=D-F;if(P=br(U)?0:U,A={x:j,y:f.top,width:k,height:f.height},Math.abs(O)>0&&Math.abs(P)<Math.abs(O)){var $=wt(P||O)*(Math.abs(O)-Math.abs(P));N-=$,P+=$}}else{var[C,R]=[l.scale(S[0]),l.scale(S[1])];if(j=C,N=Fv({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:y,index:b}),k=R-C,P=a.size,A={x:f.left,y:N,width:f.width,height:P},Math.abs(O)>0&&Math.abs(k)<Math.abs(O)){var L=wt(k||O)*(Math.abs(O)-Math.abs(k));k+=L}}if(j==null||N==null||k==null||P==null)return null;var E=Qt(Qt({},y),{},{x:j,y:N,width:k,height:P,value:u?S:S[1],payload:y,background:A,tooltipPosition:{x:j+k/2,y:N+P/2},parentViewBox:g},p&&p[b]&&p[b].props);return E}).filter(Boolean)}function Hz(e){var t=Dt(e,Kz),r=ir();return h.createElement(y0,{id:t.id,type:"bar"},n=>h.createElement(h.Fragment,null,h.createElement(gP,{legendPayload:Dz(t)}),h.createElement(x0,{fn:Iz,args:t}),h.createElement(yP,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:x5(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),h.createElement(Qz,Is({},t,{id:n}))))}var $s=h.memo(Hz);$s.displayName="Bar";function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zz=(e,t)=>t,Jz=(e,t,r)=>r,e9=(e,t,r,n)=>n,t9=(e,t,r,n,a)=>a,$o=z([om,t9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),r9=z([$o],e=>e==null?void 0:e.maxBarSize),n9=(e,t,r,n,a,i)=>i,Bj=(e,t,r)=>{var n=r??e;if(!Ye(n))return Bt(n,t,0)},s9=z([ke,om,Zz,Jz,e9],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),a9=(e,t,r,n)=>{var a=ke(e);return a==="horizontal"?tp(e,"yAxis",r,n):tp(e,"xAxis",t,n)},i9=(e,t,r)=>{var n=ke(e);return n==="horizontal"?Zb(e,"xAxis",t):Zb(e,"yAxis",r)},l9=(e,t,r)=>{var n={},a=e.filter(lm),i=e.filter(d=>d.stackId==null),l=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),o=Object.entries(l).map(d=>{var[u,m]=d,f=m.map(g=>g.dataKey),p=Bj(t,r,m[0].barSize);return{stackId:u,dataKeys:f,barSize:p}}),c=i.map(d=>{var u=[d.dataKey].filter(f=>f!=null),m=Bj(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...o,...c]},o9=z([s9,H$,i9],l9),c9=(e,t,r,n,a)=>{var i,l,o=$o(e,t,r,n,a);if(o!=null){var c=ke(e),d=Mk(e),{maxBarSize:u}=o,m=Ye(u)?d:u,f,p;return c==="horizontal"?(f=_s(e,"xAxis",t,n),p=Os(e,"xAxis",t,n)):(f=_s(e,"yAxis",r,n),p=Os(e,"yAxis",r,n)),(i=(l=no(f,p,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},NP=(e,t,r,n)=>{var a=ke(e),i,l;return a==="horizontal"?(i=_s(e,"xAxis",t,n),l=Os(e,"xAxis",t,n)):(i=_s(e,"yAxis",r,n),l=Os(e,"yAxis",r,n)),no(i,l)};function d9(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Bt(e,r,0,!0),o,c=[];if(wr(n[0].barSize)){var d=!1,u=r/i,m=n.reduce((v,y)=>v+(y.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&u>0&&(d=!0,u*=.9,m=i*u);var f=(r-m)/2>>0,p={offset:f-l,size:0};o=n.reduce((v,y)=>{var b,S={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p.offset+p.size+l,size:d?u:(b=y.barSize)!==null&&b!==void 0?b:0}},j=[...v,S];return p=j[j.length-1].position,j},c)}else{var g=Bt(t,r,0,!0);r-2*g-(i-1)*l<=0&&(l=0);var x=(r-2*g-(i-1)*l)/i;x>1&&(x>>=0);var w=wr(a)?Math.min(x,a):x;o=n.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:g+(x+l)*b+(x-w)/2,size:w}}],c)}return o}}var u9=(e,t,r,n,a,i,l)=>{var o=Ye(l)?t:l,c=d9(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(d=>kc(kc({},d),{},{position:kc(kc({},d.position),{},{offset:d.position.offset-a/2})}))),c},m9=z([o9,Mk,V$,Dk,c9,NP,r9],u9),f9=(e,t,r,n)=>_s(e,"xAxis",t,n),h9=(e,t,r,n)=>_s(e,"yAxis",r,n),p9=(e,t,r,n)=>Os(e,"xAxis",t,n),g9=(e,t,r,n)=>Os(e,"yAxis",r,n),x9=z([m9,$o],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),y9=(e,t)=>{var r=Dx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},v9=z([a9,$o],y9),b9=z([gt,Yg,f9,h9,p9,g9,x9,ke,nm,NP,v9,$o,n9],(e,t,r,n,a,i,l,o,c,d,u,m,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=c;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:w}=m,v;if(w!=null&&w.length>0?v=w:v=p==null?void 0:p.slice(g,x+1),v!=null)return Vz({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:v,offset:e,cells:f})}}),SP=e=>{var{chartData:t}=e,r=rt(),n=ir();return h.useEffect(()=>n?()=>{}:(r(lj(t)),()=>{r(lj(void 0))}),[t,r,n]),null},Uj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},j9=kr({name:"brush",initialState:Uj,reducers:{setBrushSettings(e,t){return t.payload==null?Uj:t.payload}}}),w9=j9.reducer;function N9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class N0{static create(t){return new N0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}N9(N0,"EPS",1e-4);function C9(e){return(e%180+180)%180}var P9=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=C9(a),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},A9={dots:[],areas:[],lines:[]},T9=kr({name:"referenceElements",initialState:A9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ln(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ln(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ln(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),E9=T9.reducer,O9=h.createContext(void 0),_9=e=>{var{children:t}=e,[r]=h.useState("".concat(eo("recharts"),"-clip")),n=b0();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return h.createElement(O9.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function _i(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function kP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function M9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return P9(n,r)}function D9(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function Xd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function I9(e,t){return kP(e,t+1)}function $9(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,m=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:kP(n,d)};var x=c,w,v=()=>(w===void 0&&(w=r(g,x)),w),y=g.coordinate,b=c===0||Xd(e,y,v,u,o);b||(c=0,u=l,d+=1),b&&(u=y+e*(v()/2+a),c+=d)},f;d<=i.length;)if(f=m(),f)return f.v;return[]}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(f){var p=i[f],g,x=()=>(g===void 0&&(g=r(p,f)),g);if(f===l-1){var w=e*(p.coordinate+e*x()/2-c);i[f]=p=Lt(Lt({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[f]=p=Lt(Lt({},p),{},{tickCoord:p.coordinate});var v=Xd(e,p.tickCoord,x,o,c);v&&(c=p.tickCoord-e*(x()/2+a),i[f]=Lt(Lt({},p),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function B9(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=n[o-1],m=r(u,o-1),f=e*(u.coordinate+e*m/2-d);l[o-1]=u=Lt(Lt({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var p=Xd(e,u.tickCoord,()=>m,c,d);p&&(d=u.tickCoord-e*(m/2+a),l[o-1]=Lt(Lt({},u),{},{isShow:!0}))}for(var g=i?o-1:o,x=function(y){var b=l[y],S,j=()=>(S===void 0&&(S=r(b,y)),S);if(y===0){var N=e*(b.coordinate-e*j()/2-c);l[y]=b=Lt(Lt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else l[y]=b=Lt(Lt({},b),{},{tickCoord:b.coordinate});var k=Xd(e,b.tickCoord,j,c,d);k&&(c=b.tickCoord+e*(j()/2+a),l[y]=Lt(Lt({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return l}function S0(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!a||!a.length||!n)return[];if(de(c)||Qs.isSsr){var f;return(f=I9(a,de(c)?c:0))!==null&&f!==void 0?f:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",x=u&&g==="width"?Dl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,S)=>{var j=typeof d=="function"?d(b.value,S):b.value;return g==="width"?M9(Dl(j,{fontSize:t,letterSpacing:r}),x,m):Dl(j,{fontSize:t,letterSpacing:r})[g]},v=a.length>=2?wt(a[1].coordinate-a[0].coordinate):1,y=D9(i,v,g);return c==="equidistantPreserveStart"?$9(v,y,w,a,l):(c==="preserveStart"||c==="preserveStartEnd"?p=B9(v,y,w,a,l,c==="preserveStartEnd"):p=z9(v,y,w,a,l),p.filter(b=>b.isShow))}var U9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,d=l+c+o+(r?n:0);return Math.round(d)}return 0},q9=["axisLine","width","height","className","hide","ticks"],W9=["viewBox"],K9=["viewBox"];function cp(e,t){if(e==null)return{};var r,n,a=Q9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Y9(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=ft(ft(ft({},c),tt(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=ft(ft({},d),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);d=ft(ft({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return h.createElement("line",Ta({},d,{className:Pe("recharts-cartesian-axis-line",Sa(o,"className"))}))}function X9(e,t,r,n,a,i,l,o,c){var d,u,m,f,p,g,x=o?-1:1,w=e.tickSize||l,v=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,f=r+ +!o*a,m=f-x*w,g=m-x*c,p=v;break;case"left":m=f=e.coordinate,u=t+ +!o*n,d=u-x*w,p=d-x*c,g=v;break;case"right":m=f=e.coordinate,u=t+ +o*n,d=u+x*w,p=d+x*c,g=v;break;default:d=u=e.coordinate,f=r+ +o*a,m=f+x*w,g=m+x*c,p=v;break}return{line:{x1:d,y1:m,x2:u,y2:f},tick:{x:p,y:g}}}function Z9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function J9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function eB(e){var{option:t,tickProps:r,value:n}=e,a,i=Pe(r.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))a=h.cloneElement(t,ft(ft({},r),{},{className:i}));else if(typeof t=="function")a=t(ft(ft({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Pe(l,t==null?void 0:t.className)),a=h.createElement(hm,Ta({},r,{className:l}),n)}return a}function tB(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:d,mirror:u,x:m,y:f,width:p,height:g,tickSize:x,tickMargin:w,fontSize:v,letterSpacing:y,getTicksConfig:b,events:S}=e,j=S0(ft(ft({},b),{},{ticks:t}),v,y),N=Z9(d,u),k=J9(d,u),P=Nn(b),A=tt(r,!1),O=ft(ft({},P),{},{fill:"none"},tt(n,!1)),T=j.map((D,F)=>{var{line:U,tick:$}=X9(D,m,f,p,g,d,x,u,w),C=ft(ft(ft(ft({textAnchor:N,verticalAnchor:k},P),{},{stroke:"none",fill:a},A),$),{},{index:F,payload:D,visibleTicksCount:j.length,tickFormatter:i,padding:o},c);return h.createElement(Mt,Ta({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},vo(S,D,F)),n&&h.createElement("line",Ta({},O,U,{className:Pe("recharts-cartesian-axis-tick-line",Sa(n,"className"))})),r&&h.createElement(eB,{option:r,tickProps:C,value:"".concat(typeof i=="function"?i(D.value,F):D.value).concat(l||"")}))});return T.length>0?h.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}var rB=h.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,c=cp(e,q9),[d,u]=h.useState(""),[m,f]=h.useState(""),p=h.useRef([]);h.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return U9({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=h.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(w);var v=w[0];if(v){var y=window.getComputedStyle(v),b=y.fontSize,S=y.letterSpacing;(b!==d||S!==m)&&(u(b),f(S))}}},[d,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:h.createElement(Mt,{className:Pe("recharts-cartesian-axis",i),ref:g},h.createElement(Y9,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Nn(e)}),h.createElement(tB,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:c}),h.createElement(cF,{x:e.x,y:e.y,width:e.width,height:e.height},h.createElement(vF,{label:e.label}),e.children))}),nB=h.memo(rB,(e,t)=>{var{viewBox:r}=e,n=cp(e,W9),{viewBox:a}=t,i=cp(t,K9);return _i(r,a)&&_i(n,i)}),C0=h.forwardRef((e,t)=>{var r=Dt(e,k0);return h.createElement(nB,Ta({},r,{ref:t}))});C0.displayName="CartesianAxis";var sB=["x1","y1","x2","y2","key"],aB=["offset"],iB=["xAxisId","yAxisId"],lB=["xAxisId","yAxisId"];function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){oB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oB(e,t,r){return(t=cB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){var t=dB(e,"string");return typeof t=="symbol"?t:t+""}function dB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},da.apply(null,arguments)}function Zd(e,t){if(e==null)return{};var r,n,a=uB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mB=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return h.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CP(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,c=Zd(t,sB),d=Nn(c),u=Zd(d,aB);r=h.createElement("line",da({},u,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function fB(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Zd(e,iB),l=a.map((o,c)=>{var d=Ft(Ft({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return CP(n,d)});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function hB(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Zd(e,lB),l=a.map((o,c)=>{var d=Ft(Ft({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return CP(n,d)});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function pB(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(m=>Math.round(m+a-a)).sort((m,f)=>m-f);a!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var p=!d[f+1],g=p?a+l-m:d[f+1]-m;if(g<=0)return null;var x=f%t.length;return h.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function gB(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+a-a)).sort((m,f)=>m-f);a!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var p=!d[f+1],g=p?a+l-m:d[f+1]-m;if(g<=0)return null;var x=f%r.length;return h.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:g,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var xB=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return xS(S0(Ft(Ft(Ft({},k0),r),{},{ticks:yS(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},yB=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return xS(S0(Ft(Ft(Ft({},k0),r),{},{ticks:yS(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},vB={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ls(e){var t=Zg(),r=Jg(),n=wS(),a=Ft(Ft({},Dt(e,vB)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:f,verticalValues:p}=a,g=ir(),x=ie(A=>Jb(A,"xAxis",i,g)),w=ie(A=>Jb(A,"yAxis",l,g));if(!de(d)||d<=0||!de(u)||u<=0||!de(o)||o!==+o||!de(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||xB,y=a.horizontalCoordinatesGenerator||yB,{horizontalPoints:b,verticalPoints:S}=a;if((!b||!b.length)&&typeof y=="function"){var j=f&&f.length,N=y({yAxis:w?Ft(Ft({},w),{},{ticks:j?f:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:m);Ml(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!S||!S.length)&&typeof v=="function"){var k=p&&p.length,P=v({xAxis:x?Ft(Ft({},x),{},{ticks:k?p:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:m);Ml(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(mB,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),h.createElement(pB,da({},a,{horizontalPoints:b})),h.createElement(gB,da({},a,{verticalPoints:S})),h.createElement(fB,da({},a,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),h.createElement(hB,da({},a,{offset:n,verticalPoints:S,xAxis:x,yAxis:w})))}Ls.displayName="CartesianGrid";var PP=(e,t,r,n)=>_s(e,"xAxis",t,n),AP=(e,t,r,n)=>Os(e,"xAxis",t,n),TP=(e,t,r,n)=>_s(e,"yAxis",r,n),EP=(e,t,r,n)=>Os(e,"yAxis",r,n),bB=z([ke,PP,TP,AP,EP],(e,t,r,n,a)=>Ks(e,"xAxis")?no(t,n,!1):no(r,a,!1)),jB=(e,t,r,n,a)=>a;function wB(e){return e.type==="line"}var NB=z([om,jB],(e,t)=>e.filter(wB).find(r=>r.id===t)),SB=z([ke,PP,TP,AP,EP,NB,bB,nm],(e,t,r,n,a,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:f}=i,p;if(f!=null&&f.length>0?p=f:p=c==null?void 0:c.slice(d,u+1),p!=null)return QB({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:p})}}),kB=["id"],CB=["type","layout","connectNulls","needClip"],PB=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return(t=TB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0(e,t){if(e==null)return{};var r,n,a=OB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}var _B=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fi(r,t),payload:e}]};function MB(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Fi(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var OP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function DB(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var IB=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return OP(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){o=[...r.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...DB(r,a),...o,...u].map(m=>"".concat(m,"px")).join(", ")};function $B(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Pe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=h.createElement(cP,Ea({},t,{className:n}))}return r}function LB(e,t){return e==null?!1:t?!0:e.length===1}function RB(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!LB(r,a))return null;var o=P0(n,kB),c=XN(a),d=Nn(o),u=tt(a,!0),m=r.map((p,g)=>{var x=mr(mr(mr({key:"dot-".concat(g),r:3},d),u),{},{index:g,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return $B(a,x)}),f={clipPath:l?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return h.createElement(Mt,Ea({className:"recharts-line-dots",key:"dots"},f),m)}function FB(e){var{showLabels:t,children:r,points:n}=e,a=h.useMemo(()=>n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return mr(mr({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return h.createElement(lP,{value:t?a:null},r)}function Vj(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d}=i,u=P0(i,CB),m=mr(mr({},tt(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return h.createElement(h.Fragment,null,(n==null?void 0:n.length)>1&&h.createElement(tx,Ea({},m,{pathRef:r})),h.createElement(RB,{points:n,clipPathId:t,props:i}))}function zB(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function BB(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:f,width:p,height:g,onAnimationEnd:x,onAnimationStart:w}=r,v=a.current,y=So(r,"recharts-line-"),[b,S]=h.useState(!1),j=!b,N=h.useCallback(()=>{typeof x=="function"&&x(),S(!1)},[x]),k=h.useCallback(()=>{typeof w=="function"&&w(),S(!0)},[w]),P=zB(n.current),A=i.current;return h.createElement(FB,{points:l,showLabels:j},r.children,h.createElement(No,{animationId:y,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:k,key:y},O=>{var T=st(A,P+A,O),D=Math.min(T,P),F;if(c)if(o){var U="".concat(o).split(/[,\s]+/gim).map(R=>parseFloat(R));F=IB(D,P,U)}else F=OP(P,D);else F=o==null?void 0:String(o);if(v){var $=v.length/l.length,C=O===1?l:l.map((R,L)=>{var E=Math.floor(L*$);if(v[E]){var I=v[E];return mr(mr({},R),{},{x:st(I.x,R.x,O),y:st(I.y,R.y,O)})}return f?mr(mr({},R),{},{x:st(p*2,R.x,O),y:st(g/2,R.y,O)}):mr(mr({},R),{},{x:R.x,y:R.y})});return a.current=C,h.createElement(Vj,{props:r,points:C,clipPathId:t,pathRef:n,strokeDasharray:F})}return O>0&&P>0&&(a.current=l,i.current=D),h.createElement(Vj,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:F})}),h.createElement(c0,{label:r.label}))}function UB(e){var{clipPathId:t,props:r}=e,n=h.useRef(null),a=h.useRef(0),i=h.useRef(null);return h.createElement(BB,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var qB=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Fe(e.payload,t)});class WB extends h.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:d,width:u,height:m,id:f,needClip:p}=this.props;if(r)return null;var g=Pe("recharts-line",i),x=f,{r:w=3,strokeWidth:v=2}=(t=tt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},y=XN(n),b=w*2+v;return h.createElement(h.Fragment,null,h.createElement(Mt,{className:g},p&&h.createElement("defs",null,h.createElement(jP,{clipPathId:x,xAxisId:l,yAxisId:o}),!y&&h.createElement("clipPath",{id:"clipPath-dots-".concat(x)},h.createElement("rect",{x:d-b/2,y:c-b/2,width:u+b,height:m+b}))),h.createElement(bP,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:qB,errorBarOffset:0},h.createElement(UB,{props:this.props,clipPathId:x}))),h.createElement(lz,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _P={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Qs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function KB(e){var t=Dt(e,_P),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:m,legendType:f,xAxisId:p,yAxisId:g,id:x}=t,w=P0(t,PB),{needClip:v}=w0(p,g),y=b0(),b=Yu(),S=ir(),j=ie(O=>SB(O,p,g,S,x));if(b!=="horizontal"&&b!=="vertical"||j==null||y==null)return null;var{height:N,width:k,x:P,y:A}=y;return h.createElement(WB,Ea({},w,{id:x,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:m,legendType:f,xAxisId:p,yAxisId:g,points:j,layout:b,height:N,width:k,left:P,top:A,needClip:v}))}function QB(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var m=Fe(d,l);if(t==="horizontal"){var f=Rv({axis:r,ticks:a,bandSize:o,entry:d,index:u}),p=Ye(m)?null:n.scale(m);return{x:f,y:p,value:m,payload:d}}var g=Ye(m)?null:r.scale(m),x=Rv({axis:n,ticks:i,bandSize:o,entry:d,index:u});return g==null||x==null?null:{x:g,y:x,value:m,payload:d}}).filter(Boolean)}function VB(e){var t=Dt(e,_P),r=ir();return h.createElement(y0,{id:t.id,type:"line"},n=>h.createElement(h.Fragment,null,h.createElement(gP,{legendPayload:_B(t)}),h.createElement(x0,{fn:MB,args:t}),h.createElement(yP,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),h.createElement(KB,Ea({},t,{id:n}))))}var Jd=h.memo(VB);Jd.displayName="Line";var HB=["dangerouslySetInnerHTML","ticks"],GB=["id"],YB=["domain"],XB=["domain"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function eu(e,t){if(e==null)return{};var r,n,a=ZB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JB(e){var t=rt();return h.useEffect(()=>(t(H7(e)),()=>{t(G7(e))}),[e,t]),null}var eU=e=>{var{xAxisId:t,className:r}=e,n=ie(Yg),a=ir(),i="xAxis",l=ie(p=>Qi(p,i,t,a)),o=ie(p=>gC(p,i,t,a)),c=ie(p=>mC(p,t)),d=ie(p=>FL(p,t)),u=ie(p=>qk(p,t));if(c==null||d==null||u==null)return null;var m=eu(e,HB),f=eu(u,GB);return h.createElement(C0,dp({},m,f,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Pe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},tU={allowDataOverflow:or.allowDataOverflow,allowDecimals:or.allowDecimals,allowDuplicatedCategory:or.allowDuplicatedCategory,height:or.height,hide:!1,mirror:or.mirror,orientation:or.orientation,padding:or.padding,reversed:or.reversed,scale:or.scale,tickCount:or.tickCount,type:or.type,xAxisId:0},rU=e=>{var t,r,n,a,i,l=Dt(e,tU);return h.createElement(h.Fragment,null,h.createElement(JB,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),h.createElement(eU,l))},nU=(e,t)=>{var{domain:r}=e,n=eu(e,YB),{domain:a}=t,i=eu(t,XB);return _i(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_i({domain:r},{domain:a}):!1},Rs=h.memo(rU,nU);Rs.displayName="XAxis";var sU=["dangerouslySetInnerHTML","ticks"],aU=["id"],iU=["domain"],lU=["domain"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function tu(e,t){if(e==null)return{};var r,n,a=oU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cU(e){var t=rt();return h.useEffect(()=>(t(Y7(e)),()=>{t(X7(e))}),[e,t]),null}var dU=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=h.useRef(null),l=h.useRef(null),o=ie(Yg),c=ir(),d=rt(),u="yAxis",m=ie(y=>Qi(y,u,t,c)),f=ie(y=>fC(y,t)),p=ie(y=>BL(y,t)),g=ie(y=>gC(y,u,t,c)),x=ie(y=>Wk(y,t));if(h.useLayoutEffect(()=>{if(!(n!=="auto"||!f||o0(a)||h.isValidElement(a)||x==null)){var y=i.current;if(y){var b=y.getCalculatedWidth();Math.round(f.width)!==Math.round(b)&&d(Z7({id:t,width:b}))}}},[g,f,d,a,t,n,x]),f==null||p==null||x==null)return null;var w=tu(e,sU),v=tu(x,aU);return h.createElement(C0,up({},w,v,{ref:i,labelRef:l,scale:m,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Pe("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:g}))},uU={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,hide:!1,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tickCount:cr.tickCount,type:cr.type,width:cr.width,yAxisId:0},mU=e=>{var t,r,n,a,i,l=Dt(e,uU);return h.createElement(h.Fragment,null,h.createElement(cU,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),h.createElement(dU,l))},fU=(e,t)=>{var{domain:r}=e,n=tu(e,iU),{domain:a}=t,i=tu(t,lU);return _i(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_i({domain:r},{domain:a}):!1},Fs=h.memo(mU,fU);Fs.displayName="YAxis";var hU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=h;function pU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gU=typeof Object.is=="function"?Object.is:pU,xU=Lo.useSyncExternalStore,yU=Lo.useRef,vU=Lo.useEffect,bU=Lo.useMemo,jU=Lo.useDebugValue;hU.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=yU(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=bU(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),a!==void 0&&l.hasValue){var g=l.value;if(a(g,p))return m=g}return m=p}if(g=m,gU(u,p))return g;var x=n(p);return a!==void 0&&a(g,x)?(u=p,g):(u=p,m=x)}var d=!1,u,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var o=xU(e,i[0],i[1]);return vU(function(){l.hasValue=!0,l.value=o},[o]),jU(o),o};function wU(e){e()}function NU(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wU(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Hj={notify(){},get:()=>[]};function SU(e,t){let r,n=Hj,a=0,i=!1;function l(x){u();const w=n.subscribe(x);let v=!1;return()=>{v||(v=!0,w(),m())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=NU())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Hj)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,m())}const g={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return g}var kU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CU=kU(),PU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AU=PU(),TU=()=>CU||AU?h.useLayoutEffect:h.useEffect,EU=TU(),vf=Symbol.for("react-redux-context"),bf=typeof globalThis<"u"?globalThis:{};function OU(){if(!h.createContext)return{};const e=bf[vf]??(bf[vf]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var _U=OU();function MU(e){const{children:t,context:r,serverState:n,store:a}=e,i=h.useMemo(()=>{const c=SU(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=h.useMemo(()=>a.getState(),[a]);EU(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||_U;return h.createElement(o.Provider,{value:i},t)}var DU=MU,IU=(e,t)=>t,A0=z([IU,ke,zk,yt,OC,ts,QR,gt],XR),T0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},MP=qr("mouseClick"),DP=jo();DP.startListening({actionCreator:MP,effect:(e,t)=>{var r=e.payload,n=A0(t.getState(),T0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(eR({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mp=qr("mouseMove"),IP=jo();IP.startListening({actionCreator:mp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Zx(n,n.tooltip.settings.shared),i=A0(n,T0(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(SC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(NC()))}});var Gj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$P=kr({name:"rootProps",initialState:Gj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Gj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),$U=$P.reducer,{updateOptions:LU}=$P.actions,LP=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:RU}=LP.actions,FU=LP.reducer,RP=qr("keyDown"),FP=qr("focus"),E0=jo();E0.startListening({actionCreator:RP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(Jx(a,Hi(r))),o=ts(r);if(i==="Enter"){var c=Qd(r,"axis","hover",String(a.index));t.dispatch(np({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=KL(r),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=l+m*u;if(!(o==null||f>=o.length||f<0)){var p=Qd(r,"axis","hover",String(f));t.dispatch(np({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});E0.startListening({actionCreator:FP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=Qd(r,"axis","hover",String(i));t.dispatch(np({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Er=qr("externalEvent"),zP=jo();zP.startListening({actionCreator:Er,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:$R(r),activeDataKey:IC(r),activeIndex:Ms(r),activeLabel:DC(r),activeTooltipIndex:Ms(r),isTooltipActive:LR(r)};e.payload.handler(n,e.payload.reactEvent)}}});var zU=z([Vi],e=>e.tooltipItemPayloads),BU=z([zU,Do,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),BP=qr("touchMove"),UP=jo();UP.startListening({actionCreator:BP,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Zx(n,n.tooltip.settings.shared);if(a==="axis"){var i=A0(n,T0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(SC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(bS),u=(l=c.getAttribute(jS))!==null&&l!==void 0?l:void 0,m=BU(t.getState(),d,u);t.dispatch(wC({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}});var UU=Q2({brush:w9,cartesianAxis:J7,chartData:m8,errorBars:bz,graphicalItems:y7,layout:Y_,legend:z5,options:l8,polarAxis:LF,polarOptions:FU,referenceElements:E9,rootProps:$U,tooltip:tR}),qU=function(t){return j_({reducer:UU,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([DP.middleware,IP.middleware,E0.middleware,zP.middleware,UP.middleware]),devTools:Qs.devToolsEnabled})};function qP(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=ir(),i=h.useRef(null);if(a)return r;i.current==null&&(i.current=qU(t));var l=Ug;return h.createElement(DU,{context:l,store:i.current},r)}function WP(e){var{layout:t,width:r,height:n,margin:a}=e,i=rt(),l=ir();return h.useEffect(()=>{l||(i(V_(t)),i(H_({width:r,height:n})),i(Q_(a)))},[i,l,t,r,n,a]),null}function KP(e){var t=rt();return h.useEffect(()=>{t(LU(e))},[t,e]),null}var WU=["children"];function KU(e,t){if(e==null)return{};var r,n,a=QU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(null,arguments)}var VU={width:"100%",height:"100%"},HU=h.forwardRef((e,t)=>{var r=Zg(),n=Jg(),a=CS();if(!Pi(r)||!Pi(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?u=l.role:u=a?"application":void 0,h.createElement(Cg,ru({},l,{title:o,desc:c,role:u,tabIndex:d,width:r,height:n,style:VU,ref:t}),i)}),GU=e=>{var{children:t}=e,r=ie(Gu);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return h.createElement(Cg,{width:n,height:a,x:l,y:i},t)},Yj=h.forwardRef((e,t)=>{var{children:r}=e,n=KU(e,WU),a=ir();return a?h.createElement(GU,null,r):h.createElement(HU,ru({ref:t},n),r)});function YU(){var e=rt(),[t,r]=h.useState(null),n=ie(k5);return h.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;wr(i)&&i!==n&&e(G_(i))}},[t,e,n]),r}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){ZU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZU(e,t,r){return(t=JU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tq=h.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:x,style:w,width:v}=e,y=rt(),[b,S]=h.useState(null),[j,N]=h.useState(null);j8();var k=YU(),P=h.useCallback(W=>{k(W),typeof t=="function"&&t(W),S(W),N(W)},[k,t,S,N]),A=h.useCallback(W=>{y(MP(W)),y(Er({handler:i,reactEvent:W}))},[y,i]),O=h.useCallback(W=>{y(mp(W)),y(Er({handler:d,reactEvent:W}))},[y,d]),T=h.useCallback(W=>{y(NC()),y(Er({handler:u,reactEvent:W}))},[y,u]),D=h.useCallback(W=>{y(mp(W)),y(Er({handler:m,reactEvent:W}))},[y,m]),F=h.useCallback(()=>{y(FP())},[y]),U=h.useCallback(W=>{y(RP(W.key))},[y]),$=h.useCallback(W=>{y(Er({handler:l,reactEvent:W}))},[y,l]),C=h.useCallback(W=>{y(Er({handler:o,reactEvent:W}))},[y,o]),R=h.useCallback(W=>{y(Er({handler:c,reactEvent:W}))},[y,c]),L=h.useCallback(W=>{y(Er({handler:f,reactEvent:W}))},[y,f]),E=h.useCallback(W=>{y(Er({handler:x,reactEvent:W}))},[y,x]),I=h.useCallback(W=>{y(BP(W)),y(Er({handler:g,reactEvent:W}))},[y,g]),X=h.useCallback(W=>{y(Er({handler:p,reactEvent:W}))},[y,p]);return h.createElement(BC.Provider,{value:b},h.createElement(ZN.Provider,{value:j},h.createElement("div",{className:Pe("recharts-wrapper",n),style:XU({position:"relative",cursor:"default",width:v,height:a},w),onClick:A,onContextMenu:$,onDoubleClick:C,onFocus:F,onKeyDown:U,onMouseDown:R,onMouseEnter:O,onMouseLeave:T,onMouseMove:D,onMouseUp:L,onTouchEnd:X,onTouchMove:I,onTouchStart:E,ref:P},r)))}),rq=["children","className","width","height","style","compact","title","desc"];function nq(e,t){if(e==null)return{};var r,n,a=sq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QP=h.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:o,title:c,desc:d}=e,u=nq(e,rq),m=Nn(u);return o?h.createElement(Yj,{otherAttributes:m,title:c,desc:d},r):h.createElement(tq,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(Yj,{otherAttributes:m,title:c,desc:d,ref:t},h.createElement(_9,null,r)))}),aq=["width","height"];function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(null,arguments)}function iq(e,t){if(e==null)return{};var r,n,a=lq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oq={top:5,right:5,bottom:5,left:5},cq={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oq,reverseStackOrder:!1,syncMethod:"index"},VP=h.forwardRef(function(t,r){var n,a=Dt(t.categoricalChartProps,cq),{width:i,height:l}=a,o=iq(a,aq);if(!Pi(i)||!Pi(l))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return h.createElement(qP,{preloadedState:{options:p},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},h.createElement(SP,{chartData:f.data}),h.createElement(WP,{width:i,height:l,layout:a.layout,margin:a.margin}),h.createElement(KP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(QP,fp({},o,{width:i,height:l,ref:r})))}),dq=["axis"],HP=h.forwardRef((e,t)=>h.createElement(VP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dq,tooltipPayloadSearcher:l0,categoricalChartProps:e,ref:t})),uq=["axis","item"],Ro=h.forwardRef((e,t)=>h.createElement(VP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uq,tooltipPayloadSearcher:l0,categoricalChartProps:e,ref:t}));function mq(e){var t=rt();return h.useEffect(()=>{t(RU(e))},[t,e]),null}var fq=["width","height","layout"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function hq(e,t){if(e==null)return{};var r,n,a=pq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gq={top:5,right:5,bottom:5,left:5},xq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gq,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yq=h.forwardRef(function(t,r){var n,a=Dt(t.categoricalChartProps,xq),{width:i,height:l,layout:o}=a,c=hq(a,fq);if(!Pi(i)||!Pi(l))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return h.createElement(qP,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},h.createElement(SP,{chartData:a.data}),h.createElement(WP,{width:i,height:l,layout:o,margin:a.margin}),h.createElement(KP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(mq,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),h.createElement(QP,hp({width:i,height:l},c,{ref:r})))}),vq=["item"],bq={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Fo=h.forwardRef((e,t)=>{var r=Dt(e,bq);return h.createElement(yq,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vq,tooltipPayloadSearcher:l0,categoricalChartProps:r,ref:t})});const jq=({testId:e,onClose:t})=>{const[r,n]=h.useState(null),[a,i]=h.useState(!0),[l,o]=h.useState(null),[c,d]=h.useState("overview");h.useEffect(()=>{u()},[e]);const u=async()=>{try{i(!0);const g=await Q.getFacultyTestReport(e);n(g)}catch(g){o(g instanceof Error?g.message:"Failed to load report")}finally{i(!1)}},m=g=>{d(c===g?"":g)};if(a)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg p-8",children:s.jsx(be,{size:"lg"})})});if(l||!r)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[s.jsx("p",{className:"text-red-600 mb-4",children:l||"Failed to load report"}),s.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})});const f=r.sectionStats.map(g=>({name:g.section,avgScore:parseFloat(g.avgScore),students:g.students})),p=[{name:"Passed",value:r.analytics.passedCount},{name:"Failed",value:r.analytics.failedCount}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-6xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.test.testName}),s.jsxs("div",{className:"flex gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:r.test.subject}),s.jsx("span",{className:"text-sm text-gray-600 bg-blue-100 px-2 py-1 rounded",children:r.test.testType}),r.test.difficulty&&s.jsx("span",{className:"text-sm text-gray-600 bg-yellow-100 px-2 py-1 rounded",children:r.test.difficulty}),r.test.companyName&&s.jsx("span",{className:"text-sm text-gray-600 bg-red-100 px-2 py-1 rounded",children:r.test.companyName})]})]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(Ur,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Students"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:r.analytics.totalStudents})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Gt,{className:"h-5 w-5 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Completed"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:r.analytics.completed})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qt,{className:"h-5 w-5 text-orange-600"}),s.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Avg Score"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[r.analytics.avgScore,"%"]})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ze,{className:"h-5 w-5 text-indigo-600"}),s.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Pass Rate"})]}),s.jsxs("p",{className:"text-2xl font-bold text-indigo-700",children:[r.analytics.passPercentage,"%"]})]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("button",{onClick:()=>m("overview"),className:"w-full px-6 py-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"}),c==="overview"?s.jsx(ia,{size:20}):s.jsx(tn,{size:20})]}),c==="overview"&&s.jsxs("div",{className:"p-6 grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Pass/Fail Distribution"}),s.jsx(Fr,{width:"100%",height:250,children:s.jsxs(Fo,{children:[s.jsx(Gi,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,value:x,percent:w})=>`${g}: ${x} (${(w*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((g,x)=>s.jsx(rs,{fill:x===0?"#10b981":"#ef4444"},`cell-${x}`))}),s.jsx(Rr,{})]})})]}),r.sectionStats.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Section-wise Performance"}),s.jsx(Fr,{width:"100%",height:250,children:s.jsxs(Ro,{data:f,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"name"}),s.jsx(Fs,{}),s.jsx(Rr,{}),s.jsx(Pa,{}),s.jsx($s,{dataKey:"avgScore",fill:"#3b82f6",name:"Avg Score %"})]})})]})]})]}),r.topStudents.length>0&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("button",{onClick:()=>m("topStudents"),className:"w-full px-6 py-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 5 Students"}),c==="topStudents"?s.jsx(ia,{size:20}):s.jsx(tn,{size:20})]}),c==="topStudents"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:r.topStudents.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold",children:x+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:g.name}),s.jsx("p",{className:"text-sm text-gray-500",children:g.email})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[g.percentage.toFixed(1),"%"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[g.marksObtained," / ",g.totalMarks]})]})]},x))})})]}),r.questionAnalysis.length>0&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("button",{onClick:()=>m("questionAnalysis"),className:"w-full px-6 py-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Question-wise Analysis"}),c==="questionAnalysis"?s.jsx(ia,{size:20}):s.jsx(tn,{size:20})]}),c==="questionAnalysis"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Q. No."}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Question"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Correct"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Incorrect"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Success Rate"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.questionAnalysis.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:g.questionNumber}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:g.questionText}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:g.correctCount})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:g.incorrectCount})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[g.correctPercentage,"%"]}),s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${g.correctPercentage}%`}})})]})})]},g.questionNumber))})]})})})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("button",{onClick:()=>m("allStudents"),className:"w-full px-6 py-4 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Student Results (",r.attempts.length,")"]}),c==="allStudents"?s.jsx(ia,{size:20}):s.jsx(tn,{size:20})]}),c==="allStudents"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Percentage"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Correct"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Time"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.attempts.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.studentName}),s.jsx("span",{className:"text-xs text-gray-500",children:g.studentEmail}),(g.batch||g.branch||g.section)&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[g.batch&&s.jsx("span",{className:"text-xs bg-gray-100 px-1 rounded",children:g.batch}),g.branch&&s.jsx("span",{className:"text-xs bg-gray-100 px-1 rounded",children:g.branch}),g.section&&s.jsx("span",{className:"text-xs bg-gray-100 px-1 rounded",children:g.section})]})]})}),s.jsxs("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:[g.marksObtained," / ",g.totalMarks]}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${g.percentage>=80?"bg-green-100 text-green-800":g.percentage>=60?"bg-blue-100 text-blue-800":g.percentage>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[g.percentage.toFixed(1),"%"]})}),s.jsxs("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:[g.correctAnswers," / ",g.correctAnswers+g.incorrectAnswers]}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-gray-600",children:[s.jsx(De,{size:14}),g.timeSpent," min"]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g.percentage>=40?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.percentage>=40?"Pass":"Fail"})})]},g._id))})]})})})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:s.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})})},wq=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState("Assessment"),[l,o]=h.useState("all"),[c,d]=h.useState(!0),[u,m]=h.useState(null),[f,p]=h.useState(null),[g,x]=h.useState(!1);h.useEffect(()=>{w(a,l)},[]);const w=async(O,T)=>{try{d(!0),m(null);const D=await Q.getFacultyAssignedTests(O==="all"?void 0:O,T==="all"?void 0:T);t(D);const F=await Q.getFacultyAssignedTests(),U=["Verbal","Reasoning","Technical","Arithmetic","Communication"],$={assessment:{},practice:{},mockTest:{},company:{}};U.forEach(C=>{$.assessment[C]=F.filter(R=>R.testId.testType==="Assessment"&&R.testId.subject===C).length,$.practice[C]=F.filter(R=>R.testId.testType==="Practice"&&R.testId.subject===C).length,$.mockTest[C]=F.filter(R=>R.testId.testType==="Mock Test"&&R.testId.subject===C).length,$.company[C]=F.filter(R=>R.testId.testType==="Specific Company Test"&&R.testId.subject===C).length}),n($)}catch(D){m(D instanceof Error?D.message:"Failed to load tests")}finally{d(!1)}},v=async(O,T,D)=>{try{const F=await Q.exportFacultyTestResults(O,T);if(T==="csv"&&F instanceof Blob){const U=window.URL.createObjectURL(F),$=document.createElement("a");$.href=U,$.download=`${D}_results.csv`,document.body.appendChild($),$.click(),window.URL.revokeObjectURL(U),document.body.removeChild($)}else{const U=JSON.stringify(F,null,2),$=new Blob([U],{type:"application/json"}),C=window.URL.createObjectURL($),R=document.createElement("a");R.href=C,R.download=`${D}_results.json`,document.body.appendChild(R),R.click(),window.URL.revokeObjectURL(C),document.body.removeChild(R)}}catch{alert("Failed to export results")}},y=O=>{p(O),x(!0)},b=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=O=>({Assessment:"bg-blue-100 text-blue-800",Practice:"bg-green-100 text-green-800","Mock Test":"bg-orange-100 text-orange-800","Specific Company Test":"bg-red-100 text-red-800"})[O]||"bg-gray-100 text-gray-800",j=O=>({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"})[O]||"bg-gray-100 text-gray-800",N=(O,T)=>T>0?Math.round(O/T*100):0,k=O=>{const T=parseFloat(O);return T>=80?"text-green-600 bg-green-50":T>=60?"text-blue-600 bg-blue-50":T>=40?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50"},A=(()=>{if(e.length===0)return null;const O=e.reduce((F,U)=>F+U.totalStudents,0),T=e.reduce((F,U)=>F+U.completed,0),D=e.reduce((F,U)=>F+parseFloat(U.avgScore),0)/e.length;return{totalTests:e.length,totalStudents:O,totalCompleted:T,avgScore:D.toFixed(1),completionRate:O>0?(T/O*100).toFixed(1):"0"}})();return c&&!r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):u?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:u}),s.jsx("button",{onClick:()=>w(a,l),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Test Reports & Analytics"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View performance analytics for assigned tests"})]})}),A&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ze,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Tests"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:A.totalTests})]})]})}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ge,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Students Assigned"}),s.jsx("p",{className:"text-2xl font-bold text-gray-700",children:A.totalStudents})]})]})}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:A.totalCompleted})]})]})}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Avg Score"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[A.avgScore,"%"]})]})]})}),s.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"h-8 w-8 text-indigo-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-indigo-700",children:[A.completionRate,"%"]})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:O.testId.testName}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:O.testId.subject}),O.testId.difficulty&&s.jsx("span",{className:`text-xs px-2 py-1 rounded ${j(O.testId.difficulty)}`,children:O.testId.difficulty}),O.testId.companyName&&s.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:O.testId.companyName})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[s.jsx(De,{size:12}),O.testId.duration," min | ",O.testId.numberOfQuestions," questions"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(O.testId.testType)}`,children:O.testId.testType})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:b(O.assignedDate)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{size:16,className:"text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:O.totalStudents})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[O.completed," / ",O.totalStudents]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${N(O.completed,O.totalStudents)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[N(O.completed,O.totalStudents),"%"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full font-semibold ${k(O.avgScore)}`,children:[O.avgScore,"%"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>y(O.testId._id),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors",title:"View Report",children:[s.jsx(Et,{size:14}),"Report"]}),s.jsxs("button",{onClick:()=>v(O.testId._id,"csv",O.testId.testName),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-xs rounded-lg hover:bg-green-700 transition-colors",title:"Export CSV",children:[s.jsx(Li,{size:14}),"Export"]})]})})]},O._id))})]})})}),e.length===0&&!c&&s.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx(ze,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No test reports found"}),s.jsx("p",{className:"text-gray-600",children:"No tests have been assigned for the selected category and subject."})]}),g&&f&&s.jsx(jq,{testId:f,onClose:()=>{x(!1),p(null)}})]})},Nq=({activeTab:e})=>{var d,u,m;const{state:t}=wn(),[r,n]=h.useState(null),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const f=await Q.getCollegeDashboard();n(f)}catch(f){o(f instanceof Error?f.message:"Failed to load dashboard data")}finally{i(!1)}};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):l?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:l}),s.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):r?e==="tests"?s.jsx(s4,{}):e==="test-reports"?s.jsx(wq,{}):e==="student-reports"?s.jsx(a4,{}):e==="profile"?s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Faculty Profile"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("p",{className:"mt-1 text-lg text-gray-900",children:(d=t.user)==null?void 0:d.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"mt-1 text-gray-900",children:(u=t.user)==null?void 0:u.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsx("p",{className:"mt-1 text-gray-900",children:"Faculty"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Code"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.code})]})]})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Welcome, ",(m=t.user)==null?void 0:m.name,"!"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tt,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"College"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.college.name})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(As,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Code"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.college.code})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-gray-700"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fellow Faculty"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.colleagues.length})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"College Information"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Name"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Code"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.address})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Fellow Faculty Members"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid gap-4",children:r.colleagues.map(f=>s.jsxs("div",{className:"flex items-center p-4 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx($n,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-500",children:f.email}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",f.branch]})]})]},f._id))}),r.colleagues.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ge,{className:"mx-auto h-12 w-12 text-gray-300"}),s.jsx("p",{className:"mt-2",children:"No other faculty members in your college yet"})]})]})]})]}):s.jsx("div",{children:"No data available"})},Sq=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(null);h.useState("all"),h.useState("all");const[l,o]=h.useState(!0),[c,d]=h.useState(null);h.useEffect(()=>{u()},[]);const u=async(j,N)=>{try{o(!0),d(null);const k=await Q.getStudentTestReports(j==="all"?void 0:j,N==="all"?void 0:N);t(k),n(k);const P=await Q.getStudentTestReports(),A=["Verbal","Reasoning","Technical","Arithmetic","Communication"],O={assessment:{},practice:{},mockTest:{},company:{}};A.forEach(T=>{O.assessment[T]=P.filter(D=>D.testType==="Assessment"&&D.subject===T).length,O.practice[T]=P.filter(D=>D.testType==="Practice"&&D.subject===T).length,O.mockTest[T]=P.filter(D=>D.testType==="Mock Test"&&D.subject===T).length,O.company[T]=P.filter(D=>D.testType==="Specific Company Test"&&D.subject===T).length}),i(O)}catch(k){d(k instanceof Error?k.message:"Failed to load reports")}finally{o(!1)}},m=j=>new Date(j).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=j=>j==="Pass"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",p=j=>({Assessment:"bg-blue-100 text-blue-800",Practice:"bg-green-100 text-green-800","Mock Test":"bg-orange-100 text-orange-800","Specific Company Test":"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800",g=j=>({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800",x=()=>{if(r.length===0)return null;const j=r.length,N=r.filter(A=>A.status==="Pass").length,k=r.reduce((A,O)=>A+O.percentage,0)/j,P=r.reduce((A,O)=>A+O.timeSpent,0);return{totalTests:j,passedTests:N,failedTests:j-N,avgPercentage:k.toFixed(1),totalTimeSpent:Math.round(P)}},w=()=>{const j={};return r.forEach(N=>{j[N.subject]||(j[N.subject]={total:0,correct:0,incorrect:0}),j[N.subject].total++,j[N.subject].correct+=N.correctAnswers,j[N.subject].incorrect+=N.incorrectAnswers}),Object.keys(j).map(N=>({subject:N,tests:j[N].total,correct:j[N].correct,incorrect:j[N].incorrect,avgScore:(j[N].correct/(j[N].correct+j[N].incorrect)*100).toFixed(1)}))},v=()=>{const j=x();return j?[{name:"Passed",value:j.passedTests,color:"#10b981"},{name:"Failed",value:j.failedTests,color:"#ef4444"}]:[]},y=x(),b=w(),S=v();return l&&!a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):c?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:c}),s.jsx("button",{onClick:()=>u(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Test Reports"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View your test performance and scores"})]})}),y&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ze,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Tests"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:y.totalTests})]})]})}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Passed"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:y.passedTests})]})]})}),s.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Es,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:y.failedTests})]})]})}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Avg Score"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[y.avgPercentage,"%"]})]})]})}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(De,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Time Spent"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-700",children:[y.totalTimeSpent,"m"]})]})]})})]}),y&&b.length>0&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Subject"}),s.jsx(Fr,{width:"100%",height:300,children:s.jsxs(Ro,{data:b,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"subject"}),s.jsx(Fs,{}),s.jsx(Rr,{}),s.jsx(Pa,{}),s.jsx($s,{dataKey:"correct",fill:"#10b981",name:"Correct"}),s.jsx($s,{dataKey:"incorrect",fill:"#ef4444",name:"Incorrect"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass/Fail Distribution"}),s.jsx(Fr,{width:"100%",height:300,children:s.jsxs(Fo,{children:[s.jsx(Gi,{data:S,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,value:N})=>`${j}: ${N}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:S.map((j,N)=>s.jsx(rs,{fill:j.color},`cell-${N}`))}),s.jsx(Rr,{})]})})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.testName}),j.companyName&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Company: ",j.companyName]}),j.difficulty&&s.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-full text-xs font-medium w-fit ${g(j.difficulty)}`,children:j.difficulty})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(j.testType)}`,children:j.testType})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:j.subject})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[j.marksObtained," / ",j.totalMarks]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[j.correctAnswers," correct, ",j.incorrectAnswers," incorrect"]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[j.percentage.toFixed(1),"%"]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(j.status)}`,children:j.status})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[s.jsx(Yt,{size:14}),m(j.completedAt)]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[s.jsx(De,{size:12}),j.timeSpent," min"]})]})]},j._id))})]})})}),r.length===0&&!l&&s.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx(Gt,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No test reports found"}),s.jsx("p",{className:"text-gray-600",children:"Complete some tests to see your performance reports here."})]})]})},kq=({testResults:e})=>{if(e.length===0)return s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Zl,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Test Data Yet"}),s.jsx("p",{className:"text-gray-600",children:"Complete tests to see your performance analytics"})]});const t=e.length,r=e.reduce((v,y)=>v+y.percentage,0)/t,n=e.reduce((v,y)=>v+y.timeSpent,0),a=e.filter(v=>v.percentage>=40).length,i=a/t*100,l=Math.max(...e.map(v=>v.percentage)),o=Math.min(...e.map(v=>v.percentage)),c=e.slice().reverse().slice(-10).map((v,y)=>({name:`Test ${y+1}`,score:v.percentage,testName:v.testName.substring(0,20)})),d=e.reduce((v,y)=>(v[y.subject]||(v[y.subject]={subject:y.subject,total:0,count:0}),v[y.subject].total+=y.percentage,v[y.subject].count+=1,v),{}),u=Object.values(d).map(v=>({subject:v.subject,average:(v.total/v.count).toFixed(1)})),m=e.reduce((v,y)=>(v[y.testType]||(v[y.testType]={type:y.testType,total:0,count:0}),v[y.testType].total+=y.percentage,v[y.testType].count+=1,v),{}),f=Object.values(m).map(v=>({name:v.type,value:v.count})),p=u.sort((v,y)=>parseFloat(v.average)-parseFloat(y.average)).slice(0,3),g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],w=(()=>{if(c.length<2)return"neutral";const v=c.slice(-3),y=v.reduce((j,N)=>j+N.score,0)/v.length,b=c.slice(-6,-3),S=b.length>0?b.reduce((j,N)=>j+N.score,0)/b.length:y;return y>S+5?"improving":y<S-5?"declining":"stable"})();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Average Score"}),s.jsx(Gt,{className:"w-5 h-5 text-blue-600"})]}),s.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[r.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[w==="improving"&&s.jsxs(s.Fragment,{children:[s.jsx(qt,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Improving"})]}),w==="declining"&&s.jsxs(s.Fragment,{children:[s.jsx(kN,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Needs Focus"})]}),w==="stable"&&s.jsx("span",{className:"text-xs text-gray-600",children:"Stable performance"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-green-900",children:"Tests Taken"}),s.jsx(Re,{className:"w-5 h-5 text-green-600"})]}),s.jsx("div",{className:"text-3xl font-bold text-green-700",children:t}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[a," passed"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-orange-900",children:"Completion Rate"}),s.jsx(Zl,{className:"w-5 h-5 text-orange-600"})]}),s.jsxs("div",{className:"text-3xl font-bold text-orange-700",children:[i.toFixed(0),"%"]}),s.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[a,"/",t," tests passed"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Time Spent"}),s.jsx(De,{className:"w-5 h-5 text-gray-600"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-700",children:n}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"minutes total"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Score Trend"}),s.jsx(Fr,{width:"100%",height:250,children:s.jsxs(HP,{data:c,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"name",tick:{fontSize:12}}),s.jsx(Fs,{domain:[0,100]}),s.jsx(Rr,{content:({active:v,payload:y})=>v&&y&&y.length?s.jsxs("div",{className:"bg-white p-3 border rounded shadow-lg",children:[s.jsx("p",{className:"font-medium",children:y[0].payload.testName}),s.jsxs("p",{className:"text-blue-600",children:[y[0].value,"%"]})]}):null}),s.jsx(Jd,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subject Performance"}),s.jsx(Fr,{width:"100%",height:250,children:s.jsxs(Ro,{data:u,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"subject",tick:{fontSize:11}}),s.jsx(Fs,{domain:[0,100]}),s.jsx(Rr,{}),s.jsx($s,{dataKey:"average",fill:"#10B981",radius:[8,8,0,0]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Type Distribution"}),s.jsx(Fr,{width:"100%",height:250,children:s.jsxs(Fo,{children:[s.jsx(Gi,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:y})=>`${v}: ${(y*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((v,y)=>s.jsx(rs,{fill:g[y%g.length]},`cell-${y}`))}),s.jsx(Rr,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Insights"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Gt,{className:"w-5 h-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Best Score"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[l.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(In,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Lowest Score"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[o.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-orange-900 mb-2",children:"Areas to Improve"}),s.jsx("div",{className:"space-y-1",children:p.map((v,y)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-orange-700",children:v.subject}),s.jsxs("span",{className:"font-medium text-orange-900",children:[v.average,"%"]})]},y))})]})]})]})]}),r>=75&&s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-yellow-900",children:"Top Performer!"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"You're maintaining an excellent average score. Keep up the great work!"})]})]})})]})},Cq=({report:e,onClose:t,rank:r,totalStudents:n})=>{const a=[{name:"Correct",value:e.correctAnswers,color:"#10B981"},{name:"Incorrect",value:e.incorrectAnswers,color:"#EF4444"}],i=[{section:"Correct",count:e.correctAnswers},{section:"Incorrect",count:e.incorrectAnswers}],o=(d=>d>=90?{grade:"A+",color:"text-green-600",bg:"bg-green-100"}:d>=80?{grade:"A",color:"text-green-600",bg:"bg-green-100"}:d>=70?{grade:"B+",color:"text-blue-600",bg:"bg-blue-100"}:d>=60?{grade:"B",color:"text-blue-600",bg:"bg-blue-100"}:d>=50?{grade:"C",color:"text-yellow-600",bg:"bg-yellow-100"}:d>=40?{grade:"D",color:"text-orange-600",bg:"bg-orange-100"}:{grade:"F",color:"text-red-600",bg:"bg-red-100"})(e.percentage),c=()=>{const d=`
Test Report
===========

Student: ${e.studentId.name}
Email: ${e.studentId.email}
${e.studentId.batch?`Batch: ${e.studentId.batch}`:""}
${e.studentId.branch?`Branch: ${e.studentId.branch}`:""}

Test Information
----------------
Test Name: ${e.testId.testName}
Subject: ${e.testId.subject}
Type: ${e.testId.testType}
${e.testId.companyName?`Company: ${e.testId.companyName}`:""}
${e.testId.difficulty?`Difficulty: ${e.testId.difficulty}`:""}

Performance Summary
------------------
Total Marks: ${e.totalMarks}
Marks Obtained: ${e.marksObtained}
Percentage: ${e.percentage.toFixed(2)}%
Grade: ${o.grade}
Status: ${e.percentage>=40?"Pass":"Fail"}

Correct Answers: ${e.correctAnswers}
Incorrect Answers: ${e.incorrectAnswers}
Time Spent: ${e.timeSpent} minutes

${r&&n?`Rank: ${r} out of ${n}`:""}

Date: ${new Date(e.createdAt).toLocaleDateString()}
Time: ${new Date(e.createdAt).toLocaleTimeString()}

Question-wise Analysis
---------------------
${e.questionAnalysis.map((p,g)=>`
${g+1}. ${p.questionText}
   Your Answer: ${p.studentAnswer}
   Correct Answer: ${p.correctAnswer}
   Result: ${p.isCorrect?" Correct":" Incorrect"}
   Marks: ${p.marksObtained}/${p.marks}
`).join(`
`)}
    `,u=new Blob([d],{type:"text/plain"}),m=window.URL.createObjectURL(u),f=document.createElement("a");f.href=m,f.download=`${e.testId.testName.replace(/\s+/g,"_")}_Report.txt`,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(m)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detailed Test Report"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.testId.testName})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Li,{size:16}),"Download Report"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Ur,{size:20})})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:`${o.bg} rounded-lg p-4 text-center border-2 ${o.color.replace("text-","border-")}`,children:[s.jsx(Gt,{className:`w-8 h-8 ${o.color} mx-auto mb-2`}),s.jsx("div",{className:`text-3xl font-bold ${o.color}`,children:o.grade}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grade"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center border border-blue-200",children:[s.jsx(qt,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[e.percentage.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Score"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center border border-green-200",children:[s.jsx(Re,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.correctAnswers}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Correct"})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center border border-red-200",children:[s.jsx(Es,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),s.jsx("div",{className:"text-3xl font-bold text-red-600",children:e.incorrectAnswers}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Incorrect"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subject:"}),s.jsx("span",{className:"font-medium",children:e.testId.subject})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Type:"}),s.jsx("span",{className:"font-medium",children:e.testId.testType})]}),e.testId.companyName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Company:"}),s.jsx("span",{className:"font-medium",children:e.testId.companyName})]}),e.testId.difficulty&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Difficulty:"}),s.jsx("span",{className:"font-medium",children:e.testId.difficulty})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),s.jsx("span",{className:"font-medium",children:e.correctAnswers+e.incorrectAnswers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Time Taken:"}),s.jsxs("span",{className:"font-medium",children:[e.timeSpent," min"]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Performance Metrics"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Marks Obtained:"}),s.jsxs("span",{className:"font-medium",children:[e.marksObtained,"/",e.totalMarks]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),s.jsxs("span",{className:"font-medium",children:[(e.correctAnswers/(e.correctAnswers+e.incorrectAnswers)*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx("span",{className:`font-medium ${e.percentage>=40?"text-green-600":"text-red-600"}`,children:e.percentage>=40?"Pass":"Fail"})]}),r&&n&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Rank:"}),s.jsxs("span",{className:"font-medium",children:[r," / ",n]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Answer Distribution"}),s.jsx(Fr,{width:"100%",height:200,children:s.jsxs(Fo,{children:[s.jsx(Gi,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,value:u})=>`${d}: ${u}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((d,u)=>s.jsx(rs,{fill:d.color},`cell-${u}`))}),s.jsx(Rr,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Performance Chart"}),s.jsx(Fr,{width:"100%",height:200,children:s.jsxs(Ro,{data:i,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"section"}),s.jsx(Fs,{}),s.jsx(Rr,{}),s.jsx($s,{dataKey:"count",fill:"#3B82F6",radius:[8,8,0,0]})]})})]})]}),e.percentage>=90&&s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-4 rounded",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-yellow-900",children:"Outstanding Performance!"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"You scored above 90%. Excellent work!"})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg border",children:[s.jsx("div",{className:"px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-gray-900",children:"Question-wise Analysis"})}),s.jsx("div",{className:"divide-y max-h-96 overflow-y-auto",children:e.questionAnalysis.map((d,u)=>s.jsxs("div",{className:`p-4 ${d.isCorrect?"bg-green-50":"bg-red-50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex-1",children:[u+1,". ",d.questionText]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.isCorrect?s.jsx(Re,{className:"w-5 h-5 text-green-600"}):s.jsx(Es,{className:"w-5 h-5 text-red-600"}),s.jsxs("span",{className:"text-sm font-medium",children:[d.marksObtained,"/",d.marks]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:Object.entries(d.options).map(([m,f])=>s.jsxs("div",{className:`p-2 rounded text-sm ${m===d.correctAnswer?"bg-green-100 border border-green-300":m===d.studentAnswer&&!d.isCorrect?"bg-red-100 border border-red-300":"bg-white border border-gray-200"}`,children:[s.jsxs("span",{className:"font-medium",children:[m,")"]})," ",f,m===d.correctAnswer&&s.jsx("span",{className:"ml-2 text-green-600 text-xs font-medium",children:" Correct"}),m===d.studentAnswer&&m!==d.correctAnswer&&s.jsx("span",{className:"ml-2 text-red-600 text-xs font-medium",children:" Your answer"})]},m))}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Your answer: "}),s.jsx("span",{className:`font-medium ${d.isCorrect?"text-green-600":"text-red-600"}`,children:d.studentAnswer}),!d.isCorrect&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-600",children:" | Correct answer: "}),s.jsx("span",{className:"font-medium text-green-600",children:d.correctAnswer})]})]})]},u))})]})]})]})})},Pq=({language:e,initialCode:t="",onCodeChange:r,onRun:n,readOnly:a=!1,height:i="500px",forceFullscreen:l})=>{const[o,c]=h.useState(t),[d,u]=h.useState(!1);h.useEffect(()=>{typeof l<"u"&&u(l)},[l]),h.useEffect(()=>{c(t)},[t]);const m=w=>{const v=w.target.value;c(v),r(v)},f=()=>{c(g(e)),r(g(e))},p=()=>{n&&n(o,e)},g=w=>({javascript:`function solution() {
  // Write your code here

}

// Test your solution
console.log(solution());`,python:`def solution():
    # Write your code here
    pass

# Test your solution
print(solution())`,java:`public class Solution {
    public static void main(String[] args) {
        // Write your code here

    }
}`,cpp:`#include <iostream>
using namespace std;

int main() {
    // Write your code here

    return 0;
}`,c:`#include <stdio.h>

int main() {
    // Write your code here

    return 0;
}`,csharp:`using System;

class Solution {
    static void Main() {
        // Write your code here

    }
}`,go:`package main

import "fmt"

func main() {
    // Write your code here

}`,rust:`fn main() {
    // Write your code here

}`})[w]||"// Write your code here",x=w=>({javascript:"JavaScript",python:"Python",java:"Java",cpp:"C++",c:"C",csharp:"C#",go:"Go",rust:"Rust"})[w]||w;return s.jsx("div",{className:`${d?"fixed inset-0 z-50 bg-white p-4":""}`,children:s.jsxs("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:x(e)}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]}),!a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:f,className:"p-1.5 hover:bg-gray-700 rounded",title:"Reset Code",children:s.jsx(D6,{className:"w-4 h-4"})}),n&&s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded text-sm",children:[s.jsx(mg,{className:"w-4 h-4"}),"Run"]}),s.jsx("button",{onClick:()=>u(!d),className:"p-1.5 hover:bg-gray-700 rounded",title:d?"Exit Fullscreen":"Fullscreen",children:d?s.jsx(O6,{className:"w-4 h-4"}):s.jsx(E6,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gray-50 border-r flex flex-col text-right pr-2 py-3 text-xs text-gray-500 font-mono select-none",children:o.split(`
`).map((w,v)=>s.jsx("div",{className:"leading-6",children:v+1},v))}),s.jsx("textarea",{value:o,onChange:m,readOnly:a,className:"w-full pl-14 pr-4 py-3 font-mono text-sm leading-6 focus:outline-none resize-none",style:{height:d?"calc(100vh - 100px)":i,tabSize:2},spellCheck:!1,onKeyDown:w=>{if(w.key==="Tab"){w.preventDefault();const v=w.currentTarget.selectionStart,y=w.currentTarget.selectionEnd,b=o.substring(0,v)+"  "+o.substring(y);c(b),r(b),setTimeout(()=>{w.currentTarget.selectionStart=w.currentTarget.selectionEnd=v+2},0)}}})]})]})})},GP=({questionId:e,testAttemptId:t,isPractice:r=!1,onSubmit:n,fullscreen:a=!1})=>{const[i,l]=h.useState(null),[o,c]=h.useState("python"),[d,u]=h.useState(""),[m,f]=h.useState(""),[p,g]=h.useState([]),[x,w]=h.useState(!1),[v,y]=h.useState(!1),[b,S]=h.useState(null),[j,N]=h.useState(!0),[k,P]=h.useState(!0),[A,O]=h.useState("idle");h.useEffect(()=>{T()},[e]),h.useEffect(()=>{if(i){const C=D(o,i);u(C)}},[o]),h.useEffect(()=>{const C=`coding_autosave:${e}:${t||"default"}`;try{const R=localStorage.getItem(C);R&&window.confirm("Autosaved code found for this question. Restore?")&&u(R)}catch{}},[e,t]),h.useEffect(()=>{const C=`coding_autosave:${e}:${t||"default"}`;let R=!0;const L=()=>{try{O("saving"),localStorage.setItem(C,d),R&&O("saved"),setTimeout(()=>R&&O("idle"),1500)}catch(I){console.warn("Autosave failed",I),R&&O("idle")}},E=setInterval(()=>{d&&d.trim().length>0&&L()},1e4);return()=>{R=!1,clearInterval(E);try{localStorage.setItem(C,d)}catch{}}},[d,e,t]);const T=async()=>{try{const R=(await Q.get(`/coding/questions/${e}`)).data;l(R);const L=D(o,R);u(L)}catch(C){console.error("Error fetching question:",C),f("Error fetching question. Please try again."),alert("Failed to load coding question. Please try again or contact support.")}},D=(C,R)=>{if(!R)return"";switch(C.toLowerCase()){case"python":return`# ${R.title}
# Write your solution here

`;case"javascript":return`// ${R.title}
// Write your solution here

`;case"java":return`// ${R.title}
// Write your solution here

public class Solution {
    
}
`;case"cpp":return`// ${R.title}
// Write your solution here

#include <iostream>
using namespace std;

`;default:return`// ${R.title}
// Write your solution here

`}},F=async()=>{var C,R;if(!d.trim()){alert("Please write some code first");return}w(!0),f("Running code..."),g([]);try{const L=await Q.post("/coding/run",{questionId:e,code:d,language:o.toLowerCase()}),E=(L==null?void 0:L.data)||L||{};E.error?f("Error: "+E.error):(f(E.output||"Code executed successfully"),E.testResults&&Array.isArray(E.testResults)&&g(E.testResults))}catch(L){console.error("Run code error:",L);const E=((R=(C=L.response)==null?void 0:C.data)==null?void 0:R.error)||L.message||"Error running code";f("Error: "+E)}finally{w(!1)}},U=async()=>{var C,R,L,E;if(!d.trim()){alert("Please write some code first");return}if(confirm("Are you sure you want to submit your solution? This will run all test cases.")){y(!0),S(null);try{const I=await Q.post("/coding/submit",{questionId:e,testAttemptId:t,code:d,language:o.toLowerCase(),isPractice:r});S(I.data.status),g(I.data.testResults||[]),n&&n(I.data.submissionId,I.data.score),I.data.status==="accepted"?alert(`Success! You passed ${I.data.testCasesPassed}/${I.data.totalTestCases} test cases. Score: ${I.data.score}`):alert(`Submission completed. Status: ${I.data.status}. Passed ${I.data.testCasesPassed}/${I.data.totalTestCases} test cases.`)}catch(I){const X=((R=(C=I.response)==null?void 0:C.data)==null?void 0:R.error)||I.message||"Error submitting code";console.error("Submission error details:",{status:(L=I.response)==null?void 0:L.status,data:(E=I.response)==null?void 0:E.data,message:I.message,fullError:I}),alert(X)}finally{y(!1)}}},$=C=>{switch(C){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return i?s.jsxs("div",{className:"h-full w-full flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-white border-b px-6 py-3 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(gr,{className:"w-6 h-6 text-blue-600"}),s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:i.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${$(i.difficulty)}`,children:i.difficulty.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("select",{value:o,onChange:C=>c(C.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:i.supported_languages.map(C=>s.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),s.jsx("div",{className:"text-xs text-gray-500 min-w-[60px]",children:A==="saving"?"Saving...":A==="saved"?"Saved":""})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(C=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:C},C))})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[s.jsx("div",{className:`${a?"w-1/3":"w-1/2"} border-r bg-white overflow-y-auto flex-shrink-0`,children:s.jsxs("div",{className:"p-6 space-y-6 pb-12",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>N(!j),className:"flex items-center justify-between w-full text-left mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Problem Description"}),j?s.jsx(ia,{className:"w-5 h-5"}):s.jsx(tn,{className:"w-5 h-5"})]}),j&&s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.description})})]}),i.constraints&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Constraints"}),s.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:i.constraints})]}),i.input_format&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Input Format"}),s.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:i.input_format})]}),i.output_format&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Output Format"}),s.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:i.output_format})]}),i.sample_input&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Sample Input"}),s.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-x-auto",children:i.sample_input})]}),i.sample_output&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Sample Output"}),s.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-x-auto",children:i.sample_output})]}),i.explanation&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Explanation"}),s.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap",children:i.explanation})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(De,{className:"w-4 h-4"}),s.jsxs("span",{children:["Time Limit: ",i.time_limit,"ms"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tv,{className:"w-4 h-4"}),s.jsxs("span",{children:["Memory Limit: ",i.memory_limit,"MB"]})]})]})]})}),s.jsxs("div",{className:`${a?"w-2/3":"w-1/2"} flex flex-col min-h-0`,children:[s.jsx("div",{className:"flex-1 p-4 bg-white flex flex-col min-h-0",children:s.jsx("div",{className:"flex-1 min-h-0",children:s.jsx(Pq,{language:o,initialCode:d,onCodeChange:u,height:"100%",forceFullscreen:a})})}),s.jsxs("div",{className:"border-t bg-white flex-shrink-0",children:[s.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-b",children:[s.jsxs("button",{onClick:()=>P(!k),className:"flex items-center gap-2 font-semibold text-gray-800 text-sm",children:[s.jsx(tv,{className:"w-4 h-4"}),"Output",k?s.jsx(tn,{className:"w-4 h-4"}):s.jsx(ia,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:F,disabled:x,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[x?s.jsx(ev,{className:"w-4 h-4 animate-spin"}):null,"Run Code"]}),s.jsxs("button",{onClick:U,disabled:v,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2 text-sm",children:[v?s.jsx(ev,{className:"w-4 h-4 animate-spin"}):null,"Submit"]})]})]}),b&&s.jsx("div",{className:"px-4 py-2 text-center text-sm",children:s.jsx("span",{className:`font-medium ${b.toLowerCase()==="accepted"?"text-green-600":"text-red-600"}`,children:b.toLowerCase()==="accepted"?" Accepted! Great job.":` Submission status: ${b}`})}),k&&s.jsxs("div",{className:"p-4 overflow-y-auto bg-gray-50",style:{maxHeight:"250px"},children:[m&&s.jsx("div",{className:"mb-4",children:s.jsx("pre",{className:"bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto font-mono",children:m})}),p.length>0&&s.jsx("div",{className:"space-y-2",children:p.map((C,R)=>s.jsxs("div",{className:`border rounded-lg p-3 ${C.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"font-medium",children:["Test Case ",C.test_case_number]}),C.passed?s.jsx(Re,{className:"w-5 h-5 text-green-600"}):s.jsx(Es,{className:"w-5 h-5 text-red-600"})]}),!C.passed&&s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Input:"}),s.jsx("pre",{className:"bg-white p-2 rounded mt-1 text-xs",children:C.input})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Expected:"}),s.jsx("pre",{className:"bg-white p-2 rounded mt-1 text-xs",children:C.expected_output})]}),C.actual_output&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Your Output:"}),s.jsx("pre",{className:"bg-white p-2 rounded mt-1 text-xs",children:C.actual_output})]}),C.error&&s.jsxs("div",{children:[s.jsx("span",{className:"text-red-600",children:"Error:"}),s.jsx("pre",{className:"bg-white p-2 rounded mt-1 text-xs text-red-600",children:C.error})]})]}),C.execution_time&&s.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Execution time: ",C.execution_time,"ms"]})]},R))}),!m&&p.length===0&&s.jsx("div",{className:"text-center text-gray-500 py-8",children:"Run your code to see the output"})]})]})]})]})]}):s.jsxs("div",{className:"flex flex-col justify-center items-center h-96 bg-gray-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading coding question..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If this takes too long, the question may not exist in the database."})]})},Aq=({test:e,startTime:t,onSubmit:r,onExit:n})=>{var ve;const[a,i]=h.useState(!0),[l,o]=h.useState(!1),[c,d]=h.useState(0),[u,m]=h.useState(0),[f,p]=h.useState({}),[g,x]=h.useState(new Set),[w,v]=h.useState(new Set),[y,b]=h.useState(0),[S,j]=h.useState(0),[N,k]=h.useState(!1),[P,A]=h.useState(!1),[O,T]=h.useState(!1),[D,F]=h.useState(!0),[U,$]=h.useState(!1),[C,R]=h.useState(null);e.hasSections&&e.sections&&e.sections.length>0||e.questions.length>0;const L=e.hasSections&&e.sections?e.sections[c]:null,E=L?L.questions:e.questions,I=E[u];h.useEffect(()=>{a||U||b(L?L.sectionDuration*60:e.duration*60)},[c,a,U]),h.useEffect(()=>{if(a||U||y===0)return;const H=setInterval(()=>{b(ce=>ce<=1?(M(),0):ce-1)},1e3);return()=>clearInterval(H)},[y,a,U]),h.useEffect(()=>{if(a)return;const H=()=>{document.hidden&&(j(ce=>ce+1),alert(" Warning: Tab switching detected! This violation has been recorded."))};return document.addEventListener("visibilitychange",H),()=>{document.removeEventListener("visibilitychange",H)}},[a]),h.useEffect(()=>{I&&!w.has(I._id)&&v(new Set(w).add(I._id))},[u,c]);const X=()=>{if(!l){alert("Please accept the terms and conditions to proceed.");return}i(!1)},W=H=>{const ce=Math.floor(H/3600),_e=Math.floor(H%3600/60),_=H%60;return ce>0?`${ce.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`:`${_e.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},le=H=>g.has(H._id)?"marked":f[H._id]?"answered":w.has(H._id)?"not-answered":"not-visited",ye=H=>{switch(H){case"answered":return"bg-green-500 text-white";case"not-answered":return"bg-red-500 text-white";case"marked":return"bg-purple-500 text-white";case"not-visited":return"bg-gray-300 text-gray-700"}},me=()=>{let H=0,ce=0,_e=0,_=0;return E.forEach(B=>{const K=le(B);K==="answered"?H++:K==="not-answered"?ce++:K==="marked"?_e++:_++}),{answered:H,notAnswered:ce,marked:_e,notVisited:_}},pe=(H,ce)=>{if(p(_e=>({..._e,[H]:ce})),g.has(H)){const _e=new Set(g);_e.delete(H),x(_e)}},we=()=>{if(I){const H={...f};delete H[I._id],p(H)}},Wt=()=>{if(I){const H=new Set(g);H.has(I._id)?H.delete(I._id):H.add(I._id),x(H)}},J=H=>{u>0&&m(u-1)},ge=()=>{u<E.length-1?m(u+1):T(!0)},he=()=>{Wt(),ge()},M=()=>{T(!0)},Z=()=>{T(!1),e.hasSections&&e.sections&&c<e.sections.length-1?(d(c+1),m(0),b(e.sections[c+1].sectionDuration*60)):e.hasCodingSection&&e.codingQuestions&&e.codingQuestions.length>0?($(!0),e.codingQuestions.length>0&&R(e.codingQuestions[0]._id||e.codingQuestions[0].questionId)):A(!0)},re=async()=>{if(!N){k(!0);try{const H=Object.entries(f).map(([_e,_])=>({questionId:_e,selectedAnswer:_})),ce=Math.floor((new Date().getTime()-t.getTime())/1e3);await r(H,ce,S)}catch(H){console.error("Error submitting test:",H),alert("Error submitting test. Please try again."),k(!1)}}};if(a)return s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:s.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-xl sm:rounded-2xl shadow-2xl max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 sm:px-6 md:px-8 py-4 md:py-6 rounded-t-xl sm:rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2",children:e.testName}),s.jsx("p",{className:"text-blue-100",children:e.testDescription})]}),s.jsx($6,{className:"w-12 h-12 sm:w-16 sm:h-16 opacity-80"})]})}),s.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.numberOfQuestions}),s.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.duration," min"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Duration"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.totalMarks}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Marks"})]})]}),e.hasSections&&e.sections&&s.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Test Sections:"}),s.jsx("div",{className:"space-y-2",children:e.sections.map((H,ce)=>s.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded",children:[s.jsxs("span",{className:"font-medium text-gray-800",children:[ce+1,". ",H.sectionName]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[H.numberOfQuestions," Questions"]}),s.jsxs("span",{children:[H.sectionDuration," min"]})]})]},ce))})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Xy,{className:"text-yellow-500"}),"Important Instructions:"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 text-sm",children:[s.jsx("li",{children:"Read each question carefully before answering"}),s.jsx("li",{children:"All sections must be completed in sequence"}),s.jsx("li",{children:"You cannot go back to previous sections"}),s.jsx("li",{children:"Each section has its own time limit"}),s.jsx("li",{children:"Test will auto-submit when time expires"}),s.jsx("li",{children:"Do not refresh the page or close the browser"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Navigation Buttons:"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium",children:"Save & Next"}),s.jsx("span",{children:"Save answer and move to next question"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"px-3 py-1 bg-purple-600 text-white rounded text-xs font-medium",children:"Mark for Review"}),s.jsx("span",{children:"Mark question for later review"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"px-3 py-1 bg-orange-600 text-white rounded text-xs font-medium",children:"Clear"}),s.jsx("span",{children:"Clear your selected answer"})]})]})]}),s.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Question Status Colors:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-green-500"}),s.jsx("span",{className:"text-sm",children:"Answered"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-red-500"}),s.jsx("span",{className:"text-sm",children:"Not Answered"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-purple-500"}),s.jsx("span",{className:"text-sm",children:"Marked for Review"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-gray-300"}),s.jsx("span",{className:"text-sm",children:"Not Visited"})]})]})]}),s.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Xy,{className:"text-red-500"}),"Prohibited Activities:"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 text-sm",children:[s.jsx("li",{children:"Switching tabs or minimizing browser"}),s.jsx("li",{children:"Exiting fullscreen mode"}),s.jsx("li",{children:"Using external resources"}),s.jsx("li",{children:"All violations will be tracked and recorded"})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 border-2 border-gray-200 rounded-lg hover:border-blue-400",children:[s.jsx("input",{type:"checkbox",checked:l,onChange:H=>o(H.target.checked),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:"I have read and understood all the instructions. I agree to follow all the rules and guidelines during the test. I understand that any violation may result in disqualification."})]})}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{onClick:n,className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-medium transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:X,disabled:!l,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed font-medium transition-colors flex items-center gap-2",children:[s.jsx(_6,{}),"Start Test in Fullscreen"]})]})]})]})});if(U&&e.hasCodingSection)return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[s.jsx("div",{className:"bg-white shadow-md border-b-2 border-green-600 px-6 py-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(gr,{className:"w-6 h-6 text-green-600"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Coding Round"}),S>0&&s.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center gap-2",children:[s.jsx(In,{className:"w-4 h-4"}),S," Violations"]})]}),s.jsxs("button",{onClick:()=>A(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2",children:[s.jsx(Re,{className:"w-5 h-5"}),"Submit Test"]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[s.jsxs("div",{className:"w-full md:w-64 bg-white md:border-r overflow-y-auto",children:[s.jsx("div",{className:"p-3 md:p-4 bg-gray-50 border-b",children:s.jsx("h3",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"Coding Questions"})}),s.jsx("div",{className:"p-2 flex md:flex-col gap-2 overflow-x-auto md:overflow-x-visible",children:(ve=e.codingQuestions)==null?void 0:ve.map((H,ce)=>s.jsxs("button",{onClick:()=>R(H._id||H.questionId||H.id),className:`flex-shrink-0 md:flex-shrink md:w-full text-left p-3 md:mb-2 rounded-lg border-2 transition-all ${C===(H._id||H.questionId||H.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"font-medium text-sm text-gray-800 whitespace-nowrap md:whitespace-normal",children:H.title||`Question ${ce+1}`}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Points: ",H.points||100]})]},H._id||H.questionId||ce))})]}),s.jsx("div",{className:"flex-1 overflow-hidden min-h-[500px] md:min-h-0",children:C?s.jsx(GP,{questionId:C,fullscreen:!0,isPractice:e.testType==="Practice",onSubmit:async(H,ce)=>{alert(`Submission ${H} scored ${ce} points`)}}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium",children:"Select a coding question to begin"})]})})})]})]});const fe=me();return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[s.jsx("div",{className:"bg-white shadow-md border-b-2 border-blue-600 px-4 md:px-6 py-3",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[s.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:e.testName}),L&&s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Section ",c+1,": ",L.sectionName]})]}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[s.jsxs("button",{onClick:()=>F(!D),className:"lg:hidden px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm font-medium",children:[s.jsx(Fc,{className:"w-4 h-4"}),"Palette"]}),S>0&&s.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center gap-2",children:[s.jsx(In,{className:"w-4 h-4"}),S," Violations"]}),s.jsxs("div",{className:"flex items-center gap-2 text-base md:text-lg font-bold text-gray-900",children:[s.jsx(De,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"}),W(y)]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[s.jsx("div",{className:"flex-1 flex items-start justify-center p-4 md:p-6 lg:p-8 overflow-y-auto",children:s.jsxs("div",{className:"max-w-4xl w-full",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 lg:p-8 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-6 pb-4 border-b",children:[s.jsx("div",{children:s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Question ",u+1," of ",E.length]})}),s.jsxs("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-bold",children:[(I==null?void 0:I.marks)||0," ",(I==null?void 0:I.marks)===1?"Mark":"Marks"]})]}),s.jsx("h3",{className:"text-lg md:text-xl font-medium text-gray-900 mb-6 leading-relaxed",children:(I==null?void 0:I.questionText)||"Question not available"}),(I==null?void 0:I.questionImageUrl)&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:I.questionImageUrl,alt:"Question",className:"max-w-full h-auto rounded-lg border shadow-sm",style:{maxHeight:"400px"}})}),s.jsx("div",{className:"space-y-3",children:I&&Object.entries(I.options).map(([H,ce])=>{var _e;return s.jsxs("label",{className:`flex items-start gap-4 p-4 border-2 rounded-lg cursor-pointer transition-all ${f[I._id]===H?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[s.jsx("input",{type:"radio",name:`question-${I._id}`,value:H,checked:f[I._id]===H,onChange:_=>pe(I._id,_.target.value),className:"mt-1 w-5 h-5 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-semibold text-gray-900 mr-2",children:[H,"."]}),s.jsx("span",{className:"text-gray-700",children:ce}),((_e=I.optionImages)==null?void 0:_e[H])&&s.jsx("img",{src:I.optionImages[H],alt:`Option ${H}`,className:"mt-2 max-w-full h-auto rounded border",style:{maxHeight:"200px"}})]})]},H)})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4",children:[s.jsxs("button",{onClick:()=>J(),disabled:u===0,className:"px-4 md:px-6 py-2 md:py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium text-sm md:text-base",children:[s.jsx(S6,{className:"w-5 h-5"}),"Previous"]}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[s.jsxs("button",{onClick:he,className:"px-3 md:px-5 py-2 md:py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-center gap-2 font-medium text-sm md:text-base",children:[s.jsx(w6,{className:"w-5 h-5"}),"Mark for Review"]}),s.jsx("button",{onClick:we,disabled:!f[I==null?void 0:I._id],className:"px-3 md:px-5 py-2 md:py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-medium text-sm md:text-base",children:"Clear"}),s.jsxs("button",{onClick:ge,className:"px-4 md:px-6 py-2 md:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium text-sm md:text-base",children:["Save & Next",s.jsx(ui,{className:"w-5 h-5"})]})]})]})})]})}),D&&s.jsxs("div",{className:"fixed lg:relative inset-0 lg:inset-auto z-50 lg:z-auto w-full lg:w-80 bg-white lg:border-l shadow-lg overflow-y-auto",children:[s.jsxs("div",{className:"p-4 bg-gray-50 border-b flex justify-between items-center sticky top-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fc,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Question Palette"})]}),s.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Ur,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 px-3 bg-green-50 rounded",children:[s.jsx("span",{children:"Answered"}),s.jsx("span",{className:"font-bold",children:fe.answered})]}),s.jsxs("div",{className:"flex justify-between py-2 px-3 bg-red-50 rounded",children:[s.jsx("span",{children:"Not Answered"}),s.jsx("span",{className:"font-bold",children:fe.notAnswered})]}),s.jsxs("div",{className:"flex justify-between py-2 px-3 bg-purple-50 rounded",children:[s.jsx("span",{children:"Marked for Review"}),s.jsx("span",{className:"font-bold",children:fe.marked})]}),s.jsxs("div",{className:"flex justify-between py-2 px-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-gray-600",children:"Not Visited"}),s.jsx("span",{className:"font-bold text-gray-600",children:fe.notVisited})]})]}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:E.map((H,ce)=>{const _e=le(H),_=ce===u;return s.jsx("button",{onClick:()=>m(ce),className:`w-12 h-12 rounded font-medium text-sm ${ye(_e)} ${_?"ring-4 ring-yellow-400 ring-offset-2":""}`,children:ce+1},ce)})})]})]}),!D&&s.jsx("button",{onClick:()=>F(!0),className:"fixed right-0 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white p-3 rounded-l-lg shadow-lg hover:bg-blue-700",children:s.jsx(Fc,{className:"w-6 h-6"})})]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(Re,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Section Complete!"}),s.jsx("p",{className:"text-gray-600",children:L?`You have completed ${L.sectionName}`:"Section completed"})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:fe.answered}),s.jsx("div",{className:"text-xs text-gray-600",children:"Answered"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:fe.notAnswered}),s.jsx("div",{className:"text-xs text-gray-600",children:"Not Answered"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:fe.marked}),s.jsx("div",{className:"text-xs text-gray-600",children:"Marked"})]})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:Z,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 font-medium flex items-center gap-2",children:e.hasSections&&c<e.sections.length-1?s.jsxs(s.Fragment,{children:["Next Section ",s.jsx(ui,{})]}):e.hasCodingSection?s.jsxs(s.Fragment,{children:["Start Coding Round ",s.jsx(gr,{})]}):s.jsxs(s.Fragment,{children:["Submit Test ",s.jsx(Re,{})]})})})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(In,{className:"text-orange-500 w-8 h-8"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Submit Test?"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to submit your test? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{onClick:()=>A(!1),disabled:N,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:re,disabled:N,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:N?"Submitting...":"Submit Test"})]})]})})]})},Tq=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(null),[l,o]=h.useState(!0),[c,d]=h.useState(""),[u,m]=h.useState("all"),[f,p]=h.useState("all"),[g,x]=h.useState({total:0,solved:0,attempted:0,easy:0,medium:0,hard:0});h.useEffect(()=>{w()},[]),h.useEffect(()=>{v()},[e,c,u,f]);const w=async()=>{try{const N=await Q.get("/api/coding/practice/questions");t(N.data.questions),x(N.data.stats)}catch(j){console.error("Error fetching practice questions:",j)}finally{o(!1)}},v=()=>{let j=[...e];c&&(j=j.filter(N=>N.title.toLowerCase().includes(c.toLowerCase())||N.tags.some(k=>k.toLowerCase().includes(c.toLowerCase())))),u!=="all"&&(j=j.filter(N=>N.difficulty===u)),f!=="all"&&(j=j.filter(N=>N.status===f)),n(j)},y=j=>{switch(j){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=j=>{switch(j){case"solved":return s.jsx(Re,{className:"w-5 h-5 text-green-600"});case"attempted":return s.jsx(De,{className:"w-5 h-5 text-yellow-600"});default:return null}},S=async()=>{w()};return a?s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>i(null),className:"absolute top-4 left-4 z-10 px-4 py-2 bg-white border rounded-lg hover:bg-gray-50 shadow-md",children:" Back to Problems"}),s.jsx(GP,{questionId:a,isPractice:!0,onSubmit:S})]}):l?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(gr,{className:"w-8 h-8 text-blue-600"}),"Practice Coding Problems"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Total Problems"}),s.jsx(gr,{className:"w-5 h-5 text-blue-600"})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-800",children:g.total})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Solved"}),s.jsx(Re,{className:"w-5 h-5 text-green-600"})]}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:g.solved})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Attempted"}),s.jsx(De,{className:"w-5 h-5 text-yellow-600"})]}),s.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:g.attempted})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Success Rate"}),s.jsx(z6,{className:"w-5 h-5 text-purple-600"})]}),s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[g.total>0?Math.round(g.solved/g.total*100):0,"%"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by title or tags...",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"text-gray-400 w-5 h-5"}),s.jsxs("select",{value:u,onChange:j=>m(j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Difficulties"}),s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]}),s.jsxs("select",{value:f,onChange:j=>p(j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"solved",children:"Solved"}),s.jsx("option",{value:"attempted",children:"Attempted"}),s.jsx("option",{value:"not_attempted",children:"Not Attempted"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Title"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Difficulty"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tags"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Best Score"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Attempts"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Action"})]})}),s.jsx("tbody",{children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:e.length===0?"No practice questions available yet.":"No questions match your filters."})}):r.map(j=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:b(j.status)}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("button",{onClick:()=>i(j.id),className:"font-medium text-blue-600 hover:text-blue-800",children:j.title})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(j.difficulty)}`,children:j.difficulty.toUpperCase()})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.tags.slice(0,3).map(N=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:N},N)),j.tags.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",j.tags.length-3]})]})}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:j.best_score!==void 0?`${j.best_score}%`:"-"}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:j.attempts||0}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("button",{onClick:()=>i(j.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Solve"})})]},j.id))})]})})]})]})},Zj=({activeTab:e})=>{var J,ge,he;const{state:t}=wn(),[r,n]=h.useState(null),[a,i]=h.useState([]),[l,o]=h.useState("Assessment"),[c,d]=h.useState(null),[u,m]=h.useState(null),[f,p]=h.useState(!1),[g,x]=h.useState(null),[w,v]=h.useState(!0),[y,b]=h.useState(null),[S,j]=h.useState([]),[N,k]=h.useState(!1),[P,A]=h.useState(null),[O,T]=h.useState(!1),D=h.useRef(!1);h.useEffect(()=>{if(c&&u&&!D.current)return console.log("Dispatching testModeChanged: true"),window.dispatchEvent(new CustomEvent("testModeChanged",{detail:{isTestMode:!0}})),D.current=!0,()=>{console.log("Cleanup: Dispatching testModeChanged: false"),window.dispatchEvent(new CustomEvent("testModeChanged",{detail:{isTestMode:!1}})),D.current=!1};(!c||!u)&&D.current&&(console.log("No active test: Dispatching testModeChanged: false"),window.dispatchEvent(new CustomEvent("testModeChanged",{detail:{isTestMode:!1}})),D.current=!1)},[c,u]),h.useEffect(()=>{if(!(c&&u))if(e==="dashboard"||e==="profile")F();else if(e==="my-tests"){const M=sessionStorage.getItem("selectedTestType");M&&M!==l?(o(M),$(M),sessionStorage.removeItem("selectedTestType")):$(l)}else e==="performance"&&U()},[e,l,c,u]),h.useEffect(()=>{const M=Z=>{const{testType:re}=Z.detail;o(re)};return window.addEventListener("testTypeChanged",M),()=>{window.removeEventListener("testTypeChanged",M)}},[]);const F=async()=>{try{v(!0);const M=await Q.getCollegeDashboard();n(M),await $()}catch(M){b(M instanceof Error?M.message:"Failed to load dashboard data")}finally{v(!1)}},U=async()=>{try{v(!0);const M=await Q.getStudentReports();j(M)}catch(M){b(M instanceof Error?M.message:"Failed to load performance data")}finally{v(!1)}},$=async M=>{try{v(!0);const Z=await Q.getStudentAssignedTests(M==="all"?void 0:M);i(Z);const re=await Q.getStudentAssignedTests(),fe=["Verbal","Reasoning","Technical","Arithmetic","Communication"],ve={assessment:{},practice:{},mockTest:{},company:{}};fe.forEach(H=>{ve.assessment[H]=re.filter(ce=>ce.testId.testType==="Assessment"&&ce.testId.subject===H).length,ve.practice[H]=re.filter(ce=>ce.testId.testType==="Practice"&&ce.testId.subject===H).length,ve.mockTest[H]=re.filter(ce=>ce.testId.testType==="Mock Test"&&ce.testId.subject===H).length,ve.company[H]=re.filter(ce=>ce.testId.testType==="Specific Company Test"&&ce.testId.subject===H).length})}catch(Z){b(Z instanceof Error?Z.message:"Failed to load assigned tests")}finally{v(!1)}},C=async M=>{if(O){console.log("Test start already in progress");return}try{T(!0),console.log("Starting test with ID:",M);const Z=await Q.startTest(M);if(console.log("Test start response:",Z),!Z.test||!Z.startTime)throw new Error("Invalid response from server");console.log("Setting active test:",Z.test),console.log("Setting test start time:",Z.startTime),d(Z.test),m(new Date(Z.startTime)),T(!1),console.log("Test state updated successfully")}catch(Z){console.error("Failed to start test:",Z),alert(Z instanceof Error?Z.message:"Failed to start test"),T(!1)}},R=async(M,Z,re)=>{if(!(!c||!u))try{const fe=await Q.submitTest(c._id,M,u,Z,re);d(null),m(null),fe.testType==="Practice"&&fe.instantFeedback&&(x(fe),p(!0)),$()}catch(fe){alert(fe instanceof Error?fe.message:"Failed to submit test")}},L=async M=>{try{const Z=await Q.getTestResults(M);A(Z),k(!0)}catch(Z){alert(Z instanceof Error?Z.message:"Failed to load results")}},E=M=>new Date(M).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),I=M=>{const Z=new Date,re=new Date(M.testId.startDateTime),fe=new Date(M.testId.endDateTime);return Z>=re&&Z<=fe},X=M=>{if(M.hasAttempted)return{text:"Completed",color:"bg-green-100 text-green-800"};const Z=new Date,re=new Date(M.testId.startDateTime),fe=new Date(M.testId.endDateTime);return Z<re?{text:"Upcoming",color:"bg-yellow-100 text-yellow-800"}:Z>fe?{text:"Expired",color:"bg-red-100 text-red-800"}:{text:"Available",color:"bg-blue-100 text-blue-800"}},W=M=>({Assessment:"bg-blue-100 text-blue-800",Practice:"bg-green-100 text-green-800",Assignment:"bg-purple-100 text-purple-800"})[M]||"bg-gray-100 text-gray-800",le=M=>({Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"})[M]||"bg-gray-100 text-gray-800";if(console.log("StudentDashboard render - activeTest:",c==null?void 0:c._id,"testStartTime:",u),c&&u)return console.log("Rendering TCS-style test interface"),s.jsx(Aq,{test:c,startTime:u,onSubmit:R,onExit:()=>{d(null),m(null)}});if(f&&g)return s.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Re,{className:"w-8 h-8 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Practice Test Complete!"}),s.jsx("p",{className:"text-gray-600",children:"Here's your instant feedback"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.results.marksObtained}),s.jsx("div",{className:"text-sm text-gray-600",children:"Marks Obtained"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["out of ",g.results.totalMarks]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[g.results.percentage.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Percentage"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g.results.correctAnswers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g.results.incorrectAnswers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Incorrect"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Question-wise Feedback"}),g.instantFeedback.map((M,Z)=>s.jsxs("div",{className:`border rounded-lg p-4 ${M.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:[Z+1,". ",M.question.questionText]}),s.jsx("div",{className:"flex items-center gap-2",children:M.isCorrect?s.jsx(Re,{size:20,className:"text-green-600"}):s.jsx(Es,{size:20,className:"text-red-600"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:Object.entries(M.question.options).map(([re,fe])=>s.jsxs("div",{className:`p-2 rounded text-sm ${re===M.correctAnswer?"bg-green-100 border border-green-300":re===M.selectedAnswer&&!M.isCorrect?"bg-red-100 border border-red-300":"bg-white border border-gray-200"}`,children:[s.jsxs("span",{className:"font-medium",children:[re,")"]})," ",fe,re===M.correctAnswer&&s.jsx("span",{className:"ml-2 text-green-600 text-xs",children:" Correct"}),re===M.selectedAnswer&&re!==M.correctAnswer&&s.jsx("span",{className:"ml-2 text-red-600 text-xs",children:" Your answer"})]},re))}),s.jsx("div",{className:"text-sm",children:s.jsx("p",{className:`${M.isCorrect?"text-green-700":"text-red-700"}`,children:M.explanation})})]},Z))]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:()=>{p(!1),x(null)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-medium",children:"Back to Tests"})})]})});if(N&&P)return s.jsx(Cq,{report:P,onClose:()=>{k(!1),A(null)}});if(w)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})});if(y)return s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:y}),s.jsx("button",{onClick:F,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]});if(e==="reports")return s.jsx(Sq,{});if(e==="my-tests")return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Tests"})}),s.jsx("div",{className:"grid gap-6",children:a.map(M=>{const Z=X(M);return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.testId.testName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.color}`,children:Z.text}),M.testId.testType&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W(M.testId.testType)}`,children:M.testId.testType}),M.testId.difficulty&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${le(M.testId.difficulty)}`,children:M.testId.difficulty})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:M.testId.testDescription}),M.testId.testType==="Practice"&&s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Get instant feedback after each question!"})})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Subject"}),s.jsx("p",{className:"font-semibold",children:M.testId.subject})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Questions"}),s.jsx("p",{className:"font-semibold",children:M.testId.numberOfQuestions})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Duration"}),s.jsxs("p",{className:"font-semibold",children:[M.testId.duration," min"]})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 border rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Marks"}),s.jsx("p",{className:"font-semibold",children:M.testId.totalMarks})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Available:"})," ",E(M.testId.startDateTime)," - ",E(M.testId.endDateTime)]})}),s.jsx("div",{className:"flex gap-2",children:M.hasAttempted?s.jsxs("button",{onClick:()=>L(M.testId._id),className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(Re,{size:16}),"View Results"]}):I(M)?s.jsx("button",{type:"button",onClick:re=>{re.preventDefault(),re.stopPropagation(),C(M.testId._id)},disabled:O,className:`text-white py-2 px-4 rounded-lg flex items-center gap-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed ${M.testId.testType==="Practice"?"bg-green-600 hover:bg-green-700":M.testId.testType==="Mock Test"?"bg-orange-600 hover:bg-orange-700":M.testId.testType==="Specific Company Test"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:O?s.jsxs(s.Fragment,{children:[s.jsx(be,{size:"sm"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mg,{size:16}),M.testId.testType==="Practice"?"Start Practice":M.testId.testType==="Mock Test"?"Start Mock Test":M.testId.testType==="Specific Company Test"?"Start Company Test":"Start Test"]})}):s.jsxs("button",{disabled:!0,className:"bg-gray-400 text-white py-2 px-4 rounded-lg cursor-not-allowed flex items-center gap-2 text-sm",children:[s.jsx(De,{size:16}),Z.text]})})]})]},M._id)})}),a.length===0&&!w&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tests assigned yet"}),s.jsx("p",{className:"text-gray-600",children:"Tests assigned by your college will appear here"})]})]});if(e==="profile")return r?s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Student Profile"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("p",{className:"mt-1 text-lg text-gray-900",children:(J=t.user)==null?void 0:J.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"mt-1 text-gray-900",children:(ge=t.user)==null?void 0:ge.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsx("p",{className:"mt-1 text-gray-900",children:"Student"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Code"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.code})]})]})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(e==="performance")return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"My Performance"}),s.jsx("p",{className:"text-gray-600",children:"Track your progress and analyze your test performance"})]}),s.jsx(kq,{testResults:S})]});if(e==="practice-coding")return s.jsx(Tq,{});if(!r)return s.jsx("div",{className:"text-center py-12",children:"Loading dashboard..."});const ye=a.length,me=a.filter(M=>M.hasAttempted).length,pe=a.filter(M=>!M.hasAttempted&&I(M)).length,we=a.filter(M=>{const Z=new Date,re=new Date(M.testId.startDateTime);return Z<re}).length,Wt=a.filter(M=>M.hasAttempted).sort((M,Z)=>{var ve,H;const re=(ve=M.attempt)!=null&&ve.submittedAt?new Date(M.attempt.submittedAt).getTime():0;return((H=Z.attempt)!=null&&H.submittedAt?new Date(Z.attempt.submittedAt).getTime():0)-re}).slice(0,5);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:["Welcome, ",(he=t.user)==null?void 0:he.name,"!"]}),s.jsx("p",{className:"text-gray-600",children:"Track your tests and monitor your academic progress"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-5 rounded-lg shadow border hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ye}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All assigned tests"})]}),s.jsx(ze,{className:"h-10 w-10 text-gray-700"})]})}),s.jsx("div",{className:"bg-white p-5 rounded-lg shadow border hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:me}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ye>0?`${(me/ye*100).toFixed(0)}% complete`:"No tests yet"})]}),s.jsx(Re,{className:"h-10 w-10 text-gray-700"})]})}),s.jsx("div",{className:"bg-white p-5 rounded-lg shadow border hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:pe}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active tests to attempt"})]}),s.jsx(De,{className:"h-10 w-10 text-gray-700"})]})}),s.jsx("div",{className:"bg-white p-5 rounded-lg shadow border hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:we}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tests scheduled ahead"})]}),s.jsx(Zl,{className:"h-10 w-10 text-gray-700"})]})})]})]}),Wt.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(di,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Recent Exam Activity"})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:Wt.map(M=>{var H,ce,_e;const Z=(H=M.attempt)!=null&&H.createdAt?new Date(M.attempt.createdAt):null,re=((ce=M.attempt)==null?void 0:ce.marksObtained)||0,fe=M.testId.totalMarks,ve=((_e=M.attempt)==null?void 0:_e.percentage)||0;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-gray-100 border",children:s.jsx(Gt,{className:"h-5 w-5 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:M.testId.testName}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[s.jsx("span",{children:M.testId.subject}),s.jsx("span",{children:""}),s.jsxs("span",{children:[re,"/",fe," marks"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"font-medium text-gray-900",children:[ve.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:Z?Z.toLocaleDateString():"N/A"}),s.jsx("p",{className:"text-xs text-gray-500",children:Z?Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]})]},M._id)})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Testing Timeline"})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:a.sort((M,Z)=>new Date(Z.testId.startDateTime).getTime()-new Date(M.testId.startDateTime).getTime()).slice(0,10).map(M=>{var ve;const Z=X(M),re=new Date(M.testId.startDateTime),fe=M.hasAttempted;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-24 text-right text-sm text-gray-600",children:re.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-3 h-3 rounded-full ${fe?"bg-gray-900":Z.text==="Available"?"bg-gray-700":Z.text==="Upcoming"?"bg-gray-500":"bg-gray-300"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate",children:M.testId.testName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.color}`,children:fe?"Completed":Z.text})]}),s.jsx("p",{className:"text-sm text-gray-600",children:M.testId.subject})]}),fe&&M.attempt&&s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[M.attempt.marksObtained,"/",M.testId.totalMarks]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(ve=M.attempt.percentage)==null?void 0:ve.toFixed(0),"%"]})]})]},M._id)})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"College Information"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Name"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College Code"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("p",{className:"mt-1 text-gray-900",children:r.college.address})]})]})})]})]})},Eq=({onClose:e})=>{var y,b,S,j,N,k,P,A,O;const{state:t,dispatch:r}=wn(),[n,a]=h.useState(!1),[i,l]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState({name:((y=t.user)==null?void 0:y.name)||"",phoneNumber:"",branch:"",batch:"",section:"",companyName:"",companyAddress:""}),[m,f]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""});h.useEffect(()=>{(async()=>{try{const F=await Q.getCurrentUser();u({name:F.name||"",phoneNumber:F.phoneNumber||"",branch:F.branch||"",batch:F.batch||"",section:F.section||"",companyName:F.companyName||"",companyAddress:F.companyAddress||""})}catch(D){console.error("Failed to fetch user data:",D)}})()},[]);const p=async T=>{T.preventDefault(),a(!0),c(null);try{const D=await Q.updateProfile(d);r({type:"UPDATE_USER",payload:D}),c({type:"success",text:"Profile updated successfully!"})}catch(D){c({type:"error",text:D instanceof Error?D.message:"Failed to update profile"})}finally{a(!1)}},g=async T=>{if(T.preventDefault(),m.newPassword!==m.confirmPassword){c({type:"error",text:"New passwords do not match"});return}if(m.newPassword.length<6){c({type:"error",text:"New password must be at least 6 characters"});return}a(!0),c(null);try{await Q.changePassword(m.currentPassword,m.newPassword),c({type:"success",text:"Password changed successfully!"}),f({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1)}catch(D){c({type:"error",text:D instanceof Error?D.message:"Failed to change password"})}finally{a(!1)}},x=T=>{u({...d,[T.target.name]:T.target.value})},w=T=>{f({...m,[T.target.name]:T.target.value})},v=["faculty","student","master_admin","college_admin"].includes(((b=t.user)==null?void 0:b.role)||"");return s.jsxs("div",{className:"space-y-6 relative",children:[s.jsx("button",{type:"button",onClick:e,className:"absolute top-0 right-0 mt-2 mr-2 text-gray-400 hover:text-gray-600 text-2xl font-bold focus:outline-none","aria-label":"Close",children:""}),o&&s.jsx("div",{className:`p-4 rounded-lg ${o.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:o.text}),s.jsxs("div",{className:"border-b pb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"mt-1 text-gray-900",children:(S=t.user)==null?void 0:S.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"mt-1 text-gray-900",children:(j=t.user)==null?void 0:j.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsx("p",{className:"mt-1 text-gray-900 capitalize",children:(N=t.user)==null?void 0:N.role.replace("_"," ")})]}),((k=t.user)==null?void 0:k.collegeName)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"College"}),s.jsx("p",{className:"mt-1 text-gray-900",children:t.user.collegeName})]})]})]}),v&&s.jsxs("div",{className:"border-b pb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[s.jsx($n,{className:"inline w-5 h-5 mr-2"}),"Update Profile"]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:d.phoneNumber,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]}),((P=t.user)==null?void 0:P.role)==="master_admin"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("input",{type:"text",id:"companyName",name:"companyName",value:d.companyName,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyAddress",className:"block text-sm font-medium text-gray-700",children:"Company Address"}),s.jsx("textarea",{id:"companyAddress",name:"companyAddress",value:d.companyAddress,onChange:x,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]})]}),(((A=t.user)==null?void 0:A.role)==="faculty"||((O=t.user)==null?void 0:O.role)==="student")&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700",children:"Branch"}),s.jsx("input",{type:"text",id:"branch",name:"branch",value:d.branch,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"batch",className:"block text-sm font-medium text-gray-700",children:"Batch"}),s.jsx("input",{type:"text",id:"batch",name:"batch",value:d.batch,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"section",className:"block text-sm font-medium text-gray-700",children:"Section"}),s.jsx("input",{type:"text",id:"section",name:"section",value:d.section,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n})]})]}),s.jsxs("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[n?s.jsx(be,{size:"sm"}):s.jsx(wi,{size:16}),"Update Profile"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[s.jsx(ug,{className:"inline w-5 h-5 mr-2"}),"Change Password"]}),i?s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),s.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:m.currentPassword,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),s.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:m.newPassword,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n,required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:m.confirmPassword,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:n,required:!0,minLength:6})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[n?s.jsx(be,{size:"sm"}):s.jsx(wi,{size:16}),"Change Password"]}),s.jsx("button",{type:"button",onClick:()=>{l(!1),f({currentPassword:"",newPassword:"",confirmPassword:""})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",disabled:n,children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>l(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Change Password"})]})]})},Oq=()=>{var P,A,O,T,D,F,U,$,C,R;const{state:e,dispatch:t}=wn(),[r,n]=h.useState(!1),[a,i]=h.useState(!1),[l,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState({name:"",email:"",phoneNumber:"",branch:"",batch:"",section:"",idNumber:"",address:"",code:"",companyName:"",companyAddress:""}),[f,p]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=h.useState({totalFaculty:0,totalStudents:0});h.useEffect(()=>{w()},[]);const w=async()=>{var L,E,I;try{n(!0);const X=await Q.getCurrentUser();if(m({name:X.name||"",email:X.email||"",phoneNumber:X.phoneNumber||"",branch:X.branch||"",batch:X.batch||"",section:X.section||"",idNumber:X.idNumber||"",address:((L=X.collegeId)==null?void 0:L.address)||"",code:((E=X.collegeId)==null?void 0:E.code)||"",companyName:X.companyName||"",companyAddress:X.companyAddress||""}),((I=e.user)==null?void 0:I.role)==="college_admin"){const W=await Q.getCollegeDashboard();x({totalFaculty:W.totalFaculty||0,totalStudents:W.totalStudents||0})}}catch(X){d({type:"error",text:X instanceof Error?X.message:"Failed to load profile data"})}finally{n(!1)}},v=async L=>{var E,I,X,W;L.preventDefault(),n(!0),d(null);try{const le={name:u.name,phoneNumber:u.phoneNumber};(((E=e.user)==null?void 0:E.role)==="faculty"||((I=e.user)==null?void 0:I.role)==="student")&&(le.branch=u.branch,le.batch=u.batch,le.section=u.section),((X=e.user)==null?void 0:X.role)==="college_admin"&&(le.address=u.address),((W=e.user)==null?void 0:W.role)==="master_admin"&&(le.companyName=u.companyName,le.companyAddress=u.companyAddress);const ye=await Q.updateProfile(le);t({type:"UPDATE_USER",payload:ye}),d({type:"success",text:"Profile updated successfully!"}),i(!1)}catch(le){d({type:"error",text:le instanceof Error?le.message:"Failed to update profile"})}finally{n(!1)}},y=async L=>{if(L.preventDefault(),f.newPassword!==f.confirmPassword){d({type:"error",text:"New passwords do not match"});return}if(f.newPassword.length<6){d({type:"error",text:"New password must be at least 6 characters"});return}n(!0),d(null);try{await Q.changePassword(f.currentPassword,f.newPassword),d({type:"success",text:"Password changed successfully!"}),p({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)}catch(E){d({type:"error",text:E instanceof Error?E.message:"Failed to change password"})}finally{n(!1)}},b=L=>{m({...u,[L.target.name]:L.target.value})},S=L=>{p({...f,[L.target.name]:L.target.value})},j=L=>({master_admin:"Master Administrator",college_admin:"College Administrator",faculty:"Faculty",student:"Student"})[L]||L,N=()=>{var E;switch((E=e.user)==null?void 0:E.role){case"master_admin":return["name","phoneNumber","companyName","companyAddress"];case"college_admin":return["name","phoneNumber","address"];case"faculty":case"student":return["name","phoneNumber","branch","batch","section"];default:return["name","phoneNumber"]}},k=L=>N().includes(L);return r&&!u.name?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c&&s.jsx("div",{className:`p-4 rounded-lg ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:c.text}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx($n,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),s.jsx("p",{className:"text-gray-600",children:j(((P=e.user)==null?void 0:P.role)||"")}),((A=e.user)==null?void 0:A.collegeName)&&s.jsx("p",{className:"text-sm text-gray-500",children:e.user.collegeName})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:a?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{i(!1),w()},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",disabled:r,children:"Cancel"}),s.jsxs("button",{onClick:v,disabled:r,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:[r?s.jsx(be,{size:"sm"}):s.jsx(wi,{size:16}),"Save Changes"]})]}):s.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx($i,{size:16}),"Edit Profile"]})})]}),((O=e.user)==null?void 0:O.role)==="college_admin"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalFaculty})]})]})}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalStudents})]})]})})]}),s.jsx("form",{onSubmit:v,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Basic Information"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx($n,{className:"inline w-4 h-4 mr-1"}),"Full Name"]}),a&&k("name")?s.jsx("input",{type:"text",name:"name",value:u.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(ji,{className:"inline w-4 h-4 mr-1"}),"Email Address"]}),s.jsx("p",{className:"text-gray-900 py-2",children:u.email}),s.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(SN,{className:"inline w-4 h-4 mr-1"}),"Phone Number"]}),a&&k("phoneNumber")?s.jsx("input",{type:"tel",name:"phoneNumber",value:u.phoneNumber,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.phoneNumber||"Not provided"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:((T=e.user)==null?void 0:T.role)==="master_admin"?"Company Information":((D=e.user)==null?void 0:D.role)==="college_admin"?"College Information":"Academic Information"}),((F=e.user)==null?void 0:F.role)==="master_admin"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx($n,{className:"inline w-4 h-4 mr-1"}),"Role"]}),s.jsx("p",{className:"text-gray-900 py-2 capitalize",children:j(e.user.role)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Role cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Tt,{className:"inline w-4 h-4 mr-1"}),"Company Name"]}),a&&k("companyName")?s.jsx("input",{type:"text",name:"companyName",value:u.companyName,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.companyName||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Tt,{className:"inline w-4 h-4 mr-1"}),"Company Address"]}),a&&k("companyAddress")?s.jsx("textarea",{name:"companyAddress",value:u.companyAddress,onChange:b,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.companyAddress||"Not provided"})]})]}),((U=e.user)==null?void 0:U.role)==="college_admin"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),"College Code"]}),s.jsx("p",{className:"text-gray-900 py-2",children:u.code}),s.jsx("p",{className:"text-xs text-gray-500",children:"College code cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Tt,{className:"inline w-4 h-4 mr-1"}),"College Address"]}),a&&k("address")?s.jsx("textarea",{name:"address",value:u.address,onChange:b,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.address})]})]}),((($=e.user)==null?void 0:$.role)==="faculty"||((C=e.user)==null?void 0:C.role)==="student")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Na,{className:"inline w-4 h-4 mr-1"}),((R=e.user)==null?void 0:R.role)==="student"?"Roll Number":"ID Number"]}),s.jsx("p",{className:"text-gray-900 py-2",children:u.idNumber}),s.jsx("p",{className:"text-xs text-gray-500",children:"ID cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(As,{className:"inline w-4 h-4 mr-1"}),"Branch/Department"]}),a&&k("branch")?s.jsx("input",{type:"text",name:"branch",value:u.branch,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.branch})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Yt,{className:"inline w-4 h-4 mr-1"}),"Batch/Year"]}),a&&k("batch")?s.jsx("input",{type:"text",name:"batch",value:u.batch,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.batch})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Ge,{className:"inline w-4 h-4 mr-1"}),"Section"]}),a&&k("section")?s.jsx("input",{type:"text",name:"section",value:u.section,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r}):s.jsx("p",{className:"text-gray-900 py-2",children:u.section})]})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[s.jsx(ug,{className:"inline w-5 h-5 mr-2"}),"Security Settings"]}),l?s.jsx("button",{onClick:()=>{o(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",disabled:r,children:"Cancel"}):s.jsx("button",{onClick:()=>o(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Change Password"})]}),l&&s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:f.currentPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:f.newPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r,required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:f.confirmPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:r,required:!0,minLength:6})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[r?s.jsx(be,{size:"sm"}):s.jsx(wi,{size:16}),"Change Password"]})})]})]})]})},_q=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!0),[a,i]=h.useState(null),[l,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(null),[f,p]=h.useState("table");h.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0),i(null);const j=await Q.getNotificationAnalyticsReport(l,c);t(j)}catch(j){i(j.message||"Failed to fetch analytics data")}finally{n(!1)}},x=()=>{g()},w=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=j=>{m(u===j?null:j)};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(a)return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:["Error: ",a]})});if(!e)return null;const y=["#10b981","#ef4444","#3b82f6","#f59e0b"],b=[{name:"Seen",value:e.summary.totalSeen},{name:"Unseen",value:e.summary.totalUnseen}],S=e.dailyAnalytics.map(j=>({date:new Date(j.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),sent:j.sent,seen:j.seen}));return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notification Analytics & Reports"}),s.jsx("p",{className:"text-gray-600",children:"Track and analyze notification engagement across your platform"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:l,onChange:j=>o(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:c,onChange:j=>d(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("button",{onClick:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filter"}),s.jsx("button",{onClick:()=>{o(""),d(""),g()},className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Clear"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ts,{className:"w-6 h-6 text-blue-600"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.summary.totalNotificationsSent}),s.jsx("p",{className:"text-gray-600",children:"Total Notifications Sent"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ge,{className:"w-6 h-6 text-green-600"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.summary.totalRecipients}),s.jsx("p",{className:"text-gray-600",children:"Total Recipients"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(Et,{className:"w-6 h-6 text-emerald-600"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.summary.totalSeen}),s.jsx("p",{className:"text-gray-600",children:"Total Seen"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(qt,{className:"w-6 h-6 text-orange-600"})})}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[e.summary.overallSeenPercentage,"%"]}),s.jsx("p",{className:"text-gray-600",children:"Engagement Rate"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Engagement Trend"}),s.jsx(Fr,{width:"100%",height:300,children:s.jsxs(HP,{data:S,children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"date"}),s.jsx(Fs,{}),s.jsx(Rr,{}),s.jsx(Pa,{}),s.jsx(Jd,{type:"monotone",dataKey:"sent",stroke:"#3b82f6",strokeWidth:2,name:"Sent"}),s.jsx(Jd,{type:"monotone",dataKey:"seen",stroke:"#10b981",strokeWidth:2,name:"Seen"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Engagement"}),s.jsx(Fr,{width:"100%",height:300,children:s.jsxs(Fo,{children:[s.jsx(Gi,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:N})=>`${j}: ${(N*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((j,N)=>s.jsx(rs,{fill:y[N%y.length]},`cell-${N}`))}),s.jsx(Rr,{})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Details"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p("table"),className:`px-4 py-2 rounded-lg transition-colors ${f==="table"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Table View"}),s.jsx("button",{onClick:()=>p("chart"),className:`px-4 py-2 rounded-lg transition-colors ${f==="chart"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Chart View"})]})]}),f==="table"?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Recipients"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seen"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unseen"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engagement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.notifications.map(j=>s.jsxs(ni.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[j.message.substring(0,50),"..."]})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 capitalize",children:j.sentTo}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j.totalRecipients}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Et,{className:"w-3 h-3 mr-1"}),j.seenCount]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(jN,{className:"w-3 h-3 mr-1"}),j.unseenCount]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${j.seenPercentage}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[j.seenPercentage,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w(j.createdAt)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("button",{onClick:()=>v(j.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[u===j.id?"Hide":"View"," Details"]})})]}),u===j.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Full Message:"}),s.jsx("p",{className:"text-gray-700",children:j.message})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Created By:"}),s.jsxs("p",{className:"text-gray-700",children:[j.createdBy.name," (",j.createdBy.email,")"]})]}),j.seenBy.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Seen By (",j.seenBy.length,"):"]}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Seen At"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:j.seenBy.map((N,k)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.userName}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:N.userEmail}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 capitalize",children:N.userRole.replace("_"," ")}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:w(N.seenAt)})]},k))})]})})]})]})})})]},j.id))})]}),e.notifications.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No notifications found for the selected date range"})]})]}):s.jsxs("div",{children:[s.jsx(Fr,{width:"100%",height:400,children:s.jsxs(Ro,{data:e.notifications.slice(0,10),children:[s.jsx(Ls,{strokeDasharray:"3 3"}),s.jsx(Rs,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:12}}),s.jsx(Fs,{}),s.jsx(Rr,{}),s.jsx(Pa,{}),s.jsx($s,{dataKey:"seenCount",fill:"#10b981",name:"Seen"}),s.jsx($s,{dataKey:"unseenCount",fill:"#ef4444",name:"Unseen"})]})}),s.jsx("p",{className:"text-sm text-gray-600 text-center mt-4",children:"Showing top 10 notifications by date"})]})]})]})})},Mq=()=>{const[e,t]=h.useState({}),[r,n]=h.useState({totalStudents:0,totalBatches:0,totalBranches:0,totalSections:0}),[a,i]=h.useState(new Set),[l,o]=h.useState(new Set),[c,d]=h.useState(new Set),[u,m]=h.useState(null),[f,p]=h.useState(!1),[g,x]=h.useState(!0),[w,v]=h.useState(!1),[y,b]=h.useState(null);h.useEffect(()=>{S()},[]);const S=async()=>{try{x(!0);const F=await Q.getCollegeHierarchy();t(F.hierarchy),n(F.summary)}catch(D){b(D instanceof Error?D.message:"Failed to load hierarchy data")}finally{x(!1)}},j=D=>{const F=new Set(a);F.has(D)?F.delete(D):F.add(D),i(F)},N=D=>{const F=new Set(l);F.has(D)?F.delete(D):F.add(D),o(F)},k=D=>{const F=new Set(c);F.has(D)?F.delete(D):F.add(D),d(F)},P=D=>{m(D),p(!0)},A=async D=>{if(u)try{v(!0),await Q.updateUser(u._id,D),p(!1),m(null),S()}catch(F){throw F}finally{v(!1)}},O=async D=>{try{await Q.toggleUserStatus(D),S()}catch(F){alert(F instanceof Error?F.message:"Failed to update student status")}},T=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):y?s.jsxs("div",{className:"text-center text-red-600 py-12",children:[s.jsx("p",{children:y}),s.jsx("button",{onClick:S,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Hierarchy"}),s.jsx("p",{className:"text-gray-600",children:"Manage students organized by batch, branch, and section"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(fa,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalStudents})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Batches"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalBatches})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(As,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Branches"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalBranches})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sections"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalSections})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Student Organization"})}),s.jsx("div",{className:"p-6",children:Object.keys(e).length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ge,{className:"mx-auto h-12 w-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No students found"})]}):s.jsx("div",{className:"space-y-4",children:Object.entries(e).map(([D,F])=>s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{onClick:()=>j(D),className:"flex items-center justify-between p-4 bg-blue-50 cursor-pointer hover:bg-blue-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[a.has(D)?s.jsx(tn,{size:20,className:"text-blue-600"}):s.jsx(ui,{size:20,className:"text-blue-600"}),s.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("span",{className:"font-medium text-gray-900",children:["Batch ",D]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[Object.keys(F).length," branch",Object.keys(F).length!==1?"es":""]}),s.jsxs("span",{children:[Object.values(F).reduce((U,$)=>U+Object.values($).reduce((C,R)=>C+R.length,0),0)," students"]})]})]}),a.has(D)&&s.jsx("div",{className:"border-t",children:Object.entries(F).map(([U,$])=>{const C=`${D}-${U}`;return s.jsxs("div",{className:"border-b last:border-b-0",children:[s.jsxs("div",{onClick:()=>N(C),className:"flex items-center justify-between p-4 pl-8 bg-green-50 cursor-pointer hover:bg-green-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l.has(C)?s.jsx(tn,{size:18,className:"text-green-600"}):s.jsx(ui,{size:18,className:"text-green-600"}),s.jsx(As,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:U})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[Object.keys($).length," section",Object.keys($).length!==1?"s":""]}),s.jsxs("span",{children:[Object.values($).reduce((R,L)=>R+L.length,0)," students"]})]})]}),l.has(C)&&s.jsx("div",{className:"border-t",children:Object.entries($).map(([R,L])=>{const E=`${D}-${U}-${R}`;return s.jsxs("div",{children:[s.jsxs("div",{onClick:()=>k(E),className:"flex items-center justify-between p-4 pl-12 bg-purple-50 cursor-pointer hover:bg-purple-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[c.has(E)?s.jsx(tn,{size:16,className:"text-purple-600"}):s.jsx(ui,{size:16,className:"text-purple-600"}),s.jsx(Ge,{className:"h-4 w-4 text-purple-600"}),s.jsxs("span",{className:"font-medium text-gray-900",children:["Section ",R]})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[L.length," students"]})]}),c.has(E)&&s.jsx("div",{className:"bg-gray-50 border-t",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Login Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($n,{className:"h-8 w-8 text-gray-400"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.idNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.phoneNumber||"Not provided"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-2",children:I.hasLoggedIn?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:16,className:"text-green-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:I.lastLogin?T(I.lastLogin):"Recently"})]}):s.jsxs(s.Fragment,{children:[s.jsx(De,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Never"})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>P(I),className:"text-blue-600 hover:text-blue-900",children:s.jsx($i,{size:16})}),s.jsx("button",{onClick:()=>O(I._id),className:"text-red-600 hover:text-red-900",children:s.jsx(vr,{size:16})})]})})]},I._id))})]})})})]},E)})})]},C)})})]},D))})})]}),s.jsx(Te,{isOpen:f,onClose:()=>{p(!1),m(null)},title:"Edit Student",size:"lg",children:u&&s.jsx(qa,{onSubmit:A,loading:w,defaultRole:"student",initialData:{name:u.name,email:u.email,role:"student",idNumber:u.idNumber,branch:u.branch,batch:u.batch,section:u.section,phoneNumber:u.phoneNumber||""}})})]})},Dq=({userRole:e})=>{const[t,r]=h.useState(null),[n,a]=h.useState({batch:"all",branch:"all",section:"all"}),[i,l]=h.useState({batches:[],branches:[],sections:[]}),[o,c]=h.useState(!0),[d,u]=h.useState(null);h.useEffect(()=>{let x=!0;return(async()=>{try{const v=await Q.getCollegeHierarchy(),y=(v==null?void 0:v.hierarchy)||{};if(!x)return;const b=Object.keys(y),S=new Set,j=new Set;Object.values(y).forEach(N=>{Object.keys(N).forEach(k=>{S.add(k),Object.keys(N[k]).forEach(P=>{j.add(P)})})}),x&&l({batches:b,branches:Array.from(S),sections:Array.from(j)})}catch(v){x&&(console.error("Failed to load filter options:",v),u("You do not have permission to access this section. Please contact your admin."))}})(),()=>{x=!1}},[]),h.useEffect(()=>{let x=!0;return(async()=>{try{c(!0),u(null);let v;if(e==="college_admin"?v=await Q.getHierarchicalReports(n.batch==="all"?void 0:n.batch,n.branch==="all"?void 0:n.branch,n.section==="all"?void 0:n.section):e==="faculty"&&(v=await Q.getFacultyHierarchicalReports(n.batch==="all"?void 0:n.batch,n.section==="all"?void 0:n.section)),!x)return;const y=v&&typeof v=="object"?v:{summary:{totalStudents:0,totalAttempts:0,averagePercentage:0}},b={...y,students:y.students||[],performance:y.performance||[],attempts:y.attempts||[],sectionPerformance:y.sectionPerformance||[]};r(b)}catch(v){if(!x)return;v instanceof Error&&v.message.includes("403")?u("You do not have permission to access this section. Please contact your admin."):u(v instanceof Error?v.message:"Failed to load report data"),r(null)}finally{x&&c(!1)}})(),()=>{x=!1}},[n,e]);const m=(x,w)=>{a(v=>({...v,[x]:w}))},f=()=>{a({batch:"all",branch:"all",section:"all"})},p=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=x=>x>=80?"text-green-600":x>=60?"text-yellow-600":"text-red-600";return o?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(be,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading performance data..."})]})})})}):d?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(pn,{className:"h-8 w-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to Load Reports"}),s.jsx("p",{className:"text-red-600 mb-6",children:d}),s.jsx("button",{onClick:()=>{u(null),c(!0),a({...n})},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Performance Reports"}),s.jsxs("p",{className:"text-gray-600",children:[e==="college_admin"?"College-wide":"Branch-specific"," student performance analysis"]})]}),t&&s.jsx(UN,{data:t,filename:`performance-report-${new Date().toISOString().split("T")[0]}`,title:"Performance Report"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Ws,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Report Filters"}),s.jsx("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear All"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),s.jsxs("select",{value:n.batch,onChange:x=>m("batch",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Batches"}),i.batches.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),e==="college_admin"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),s.jsxs("select",{value:n.branch,onChange:x=>m("branch",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Branches"}),i.branches.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),s.jsxs("select",{value:n.section,onChange:x=>m("section",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Sections"}),i.sections.map(x=>s.jsx("option",{value:x,children:x},x))]})]})]})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.summary.totalStudents})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pn,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.summary.totalAttempts})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qt,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Performance"}),s.jsxs("p",{className:`text-2xl font-bold ${g(t.summary.averagePercentage)}`,children:[t.summary.averagePercentage.toFixed(1),"%"]})]})]})})]}),t.performance&&Array.isArray(t.performance)&&t.performance.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Student Performance"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch/Batch/Section"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Attempts"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Marks"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.performance.map(x=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.student.name}),s.jsx("div",{className:"text-sm text-gray-500",children:x.student.email})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.student.branch," / ",x.student.batch," / ",x.student.section]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.totalAttempts}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`text-sm font-medium ${g(x.averagePercentage)}`,children:[x.averagePercentage.toFixed(1),"%"]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.marksObtained," / ",x.totalMarks]})]},x.student._id))})]})})]}),e==="faculty"&&t.sectionPerformance&&Array.isArray(t.sectionPerformance)&&t.sectionPerformance.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Section-wise Performance"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid gap-4",children:t.sectionPerformance.map(x=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Section ",x.section]}),s.jsxs("span",{className:`text-lg font-bold ${g(x.averagePercentage)}`,children:[x.averagePercentage.toFixed(1),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Students"}),s.jsx("p",{className:"font-medium",children:x.studentsCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Attempts"}),s.jsx("p",{className:"font-medium",children:x.totalAttempts})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Total Marks"}),s.jsxs("p",{className:"font-medium",children:[x.marksObtained," / ",x.totalMarks]})]})]})]},x.section))})})]}),t.attempts&&Array.isArray(t.attempts)&&t.attempts.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium",children:"Recent Test Attempts"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Test"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.attempts.slice(0,10).map(x=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.studentId.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[x.studentId.branch," / ",x.studentId.batch," / ",x.studentId.section]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.testId.testName}),s.jsx("div",{className:"text-sm text-gray-500",children:x.testId.subject})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:`font-medium ${g(x.percentage)}`,children:[x.percentage.toFixed(1),"%"]}),s.jsxs("div",{className:"text-gray-500",children:[x.marksObtained," / ",x.totalMarks]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p(x.createdAt)})]},x._id))})]})})]})]}),!t&&!o&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pn,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),s.jsx("p",{className:"text-gray-600",children:"No test attempts found for the selected filters"})]})]})},Iq=({userRole:e})=>{const[t,r]=h.useState([]),[n,a]=h.useState({byType:{},bySubject:{}}),[i,l]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[m,f]=h.useState(!1),[p,g]=h.useState(null),[x,w]=h.useState(!1),[v,y]=h.useState(null),[b,S]=h.useState(null),j=[{id:"Assessment",label:"Assessment",icon:ze,color:"bg-blue-100 text-blue-800"},{id:"Practice",label:"Practice",icon:As,color:"bg-green-100 text-green-800"},{id:"Assignment",label:"Assignment",icon:fa,color:"bg-purple-100 text-purple-800"},{id:"Mock Test",label:"Mock Test",icon:Zy,color:"bg-orange-100 text-orange-800"},{id:"Specific Company Test",label:"Company Test",icon:Tt,color:"bg-red-100 text-red-800"}],N=[{id:"Verbal",label:"Verbal",icon:ph,color:"bg-blue-100 text-blue-800"},{id:"Reasoning",label:"Reasoning",icon:Zy,color:"bg-green-100 text-green-800"},{id:"Technical",label:"Technical",icon:ze,color:"bg-purple-100 text-purple-800"},{id:"Arithmetic",label:"Arithmetic",icon:N6,color:"bg-orange-100 text-orange-800"},{id:"Communication",label:"Communication",icon:ph,color:"bg-pink-100 text-pink-800"}],k=async()=>{try{l(!0);let $=[];e==="master_admin"?$=await Q.getTests(v||void 0,b||void 0):e==="college_admin"?$=(await Q.getAssignedTests(v||void 0,b||void 0)).map(R=>R.testId):e==="student"&&($=(await Q.getStudentAssignedTests(v||void 0,b||void 0)).map(R=>R.testId)),r($)}catch($){console.error("Failed to load tests:",$)}finally{l(!1)}};h.useEffect(()=>{P()},[]),h.useEffect(()=>{v&&b&&k()},[v,b]);const P=async()=>{try{let $=[];e==="master_admin"?$=await Q.getTests():e==="college_admin"&&($=(await Q.getAssignedTests()).map(L=>L.testId));const C={byType:{},bySubject:{}};j.forEach(R=>{C.byType[R.id]=$.filter(L=>{var E;return(((E=L.testId)==null?void 0:E.testType)||L.testType)===R.id}).length}),N.forEach(R=>{C.bySubject[R.id]=$.filter(L=>{var E;return(((E=L.testId)==null?void 0:E.subject)||L.subject)===R.id}).length}),a(C)}catch($){console.error("Failed to load test counts:",$)}},A=async $=>{try{w(!0);const C={...$,startDateTime:new Date($.startDateTime).toISOString(),endDateTime:new Date($.endDateTime).toISOString()};await Q.createTest(C),c(!1),P(),v&&b&&k()}catch(C){throw C}finally{w(!1)}},O=async $=>{if(p)try{w(!0),await Q.updateTest(p._id,$),u(!1),g(null),k()}catch(C){throw C}finally{w(!1)}},T=async $=>{if(window.confirm("Are you sure you want to delete this test? This action cannot be undone."))try{await Q.deleteTest($),P(),v&&b&&k()}catch(C){alert(C instanceof Error?C.message:"Failed to delete test")}},D=async($,C)=>{try{await Q.assignTestToColleges($,C),f(!1),g(null)}catch(R){throw R}},F=$=>new Date($).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=$=>{const C=new Date,R=new Date($.startDateTime),L=new Date($.endDateTime);return C<R?{text:"Upcoming",color:"bg-yellow-100 text-yellow-800"}:C>L?{text:"Ended",color:"bg-red-100 text-red-800"}:{text:"Active",color:"bg-green-100 text-green-800"}};return v?v&&!b?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>y(null),className:"text-blue-600 hover:text-blue-800",children:" Back to Test Types"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[v," Tests"]}),s.jsx("p",{className:"text-gray-600",children:"Select a subject to view available tests"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map($=>{var L;const C=$.icon,R=((L=n.bySubject)==null?void 0:L[$.id])||0;return s.jsxs("div",{onClick:()=>S($.id),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-green-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(C,{className:"h-8 w-8 text-green-600"}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$.color}`,children:[R," test",R!==1?"s":""]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.label}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[$.id==="Verbal"&&"Language skills, vocabulary, and comprehension",$.id==="Reasoning"&&"Logical thinking and problem-solving",$.id==="Technical"&&"Programming and technical knowledge",$.id==="Arithmetic"&&"Mathematical calculations and concepts",$.id==="Communication"&&"Written and verbal communication skills"]})]},$.id)})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>S(null),className:"text-blue-600 hover:text-blue-800",children:" Back to Subjects"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[b," - ",v," Tests"]}),s.jsxs("p",{className:"text-gray-600",children:[t.length," test",t.length!==1?"s":""," available"]})]})]}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(be,{size:"lg"})}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tests found"}),s.jsxs("p",{className:"text-gray-600",children:["No ",v.toLowerCase()," tests available for ",b]}),e==="master_admin"&&s.jsx("button",{onClick:()=>c(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create First Test"})]}):s.jsx("div",{className:"grid gap-6",children:t.map($=>{const C=U($);return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.testName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:C.text}),$.difficulty&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$.difficulty==="Easy"?"bg-green-100 text-green-800":$.difficulty==="Hard"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:$.difficulty}),$.companyName&&$.testType==="Specific Company Test"&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:$.companyName})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:$.testDescription})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Questions"}),s.jsx("p",{className:"font-semibold",children:$.numberOfQuestions})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Marks"}),s.jsx("p",{className:"font-semibold",children:$.totalMarks})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Duration"}),s.jsxs("p",{className:"font-semibold",children:[$.duration," min"]})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Created"}),s.jsx("p",{className:"font-semibold text-xs",children:F($.createdAt)})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Start:"})," ",F($.startDateTime)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"End:"})," ",F($.endDateTime)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{g($)},className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(Et,{size:16}),"View"]}),e==="master_admin"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{g($),u(!0)},className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm",children:[s.jsx($i,{size:16}),"Edit"]}),s.jsxs("button",{onClick:()=>{g($),f(!0)},className:"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2 text-sm",children:[s.jsx(Ts,{size:16}),"Assign"]}),s.jsxs("button",{onClick:()=>T($._id),className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 flex items-center gap-2 text-sm",children:[s.jsx(vr,{size:16}),"Delete"]})]})]})]})]},$._id)})}),s.jsx(Te,{isOpen:o,onClose:()=>c(!1),title:"Create New Test",size:"xl",children:s.jsx(_l,{onSubmit:A,loading:x})}),s.jsx(Te,{isOpen:d,onClose:()=>{u(!1),g(null)},title:"Edit Test",size:"xl",children:p&&s.jsx(_l,{onSubmit:O,loading:x,initialData:p})}),p&&s.jsx(Te,{isOpen:m,onClose:()=>{f(!1),g(null)},title:"Assign Test to Colleges",size:"lg",children:s.jsx(CN,{testId:p._id,testName:p.testName,onClose:()=>{f(!1),g(null)},onAssign:D})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Exam Management"}),s.jsx("p",{className:"text-gray-600",children:"Select a test type to view available exams"})]}),e==="master_admin"&&s.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(zt,{size:20}),"Create Test"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map($=>{var L;const C=$.icon,R=((L=n.byType)==null?void 0:L[$.id])||0;return s.jsxs("div",{onClick:()=>y($.id),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-blue-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(C,{className:"h-8 w-8 text-blue-600"}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$.color}`,children:[R," test",R!==1?"s":""]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:$.label}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[$.id==="Assessment"&&"Formal evaluations and graded tests",$.id==="Practice"&&"Practice tests with instant feedback",$.id==="Assignment"&&"Course assignments and homework",$.id==="Mock Test"&&"Mock tests for exam preparation",$.id==="Specific Company Test"&&"Company-specific assessment tests"]})]},$.id)})}),s.jsx(Te,{isOpen:o,onClose:()=>c(!1),title:"Create New Test",size:"xl",children:s.jsx(_l,{onSubmit:A,loading:x})})]})},$q=()=>{const{state:e}=wn(),[t,r]=h.useState("dashboard"),[n,a]=h.useState(!0),[i,l]=h.useState(!1);h.useEffect(()=>{try{const p=localStorage.getItem("sidebarCollapsed");p!==null&&a(p==="false")}catch{}},[]);const[o,c]=h.useState(!1),[d,u]=h.useState(!1);if(h.useEffect(()=>{const p=g=>{console.log("Dashboard received testModeChanged event:",g.detail),u(g.detail.isTestMode)};return window.addEventListener("testModeChanged",p),()=>{window.removeEventListener("testModeChanged",p)}},[]),!e.user)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(be,{size:"lg"})});const m=()=>({master_admin:"Master Admin Dashboard",college_admin:"College Admin Dashboard",faculty:"Faculty Dashboard",student:"Student Dashboard"})[e.user.role],f=()=>{if(t==="notifications")return s.jsx(PN,{},"notifications");if(t==="notification-analytics")return s.jsx(_q,{},"notification-analytics");if(t==="exam-management")return s.jsx(Iq,{userRole:e.user.role},"exam-management");if(t==="student-hierarchy")return s.jsx(Mq,{},"student-hierarchy");if(t==="reports")return e.user.role==="student"?s.jsx(Zj,{activeTab:"reports"},"student-reports"):s.jsx(Dq,{userRole:e.user.role},"reports");if(t==="create-notification")return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yn,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Notification"}),s.jsx("p",{className:"text-gray-600",children:"Send notifications to users in your scope"})]})]})}),s.jsx(Jl,{onSubmit:async p=>{await Q.createNotificationWithFile(p)},loading:!1,onClose:()=>r("notifications")})]})},"create-notification");if(t==="profile")return s.jsx(Oq,{},"profile");switch(e.user.role){case"master_admin":return s.jsx(e4,{activeTab:t,setActiveTab:r},"master-admin-dashboard");case"college_admin":return s.jsx(r4,{activeTab:t},"college-admin-dashboard");case"faculty":return s.jsx(Nq,{activeTab:t},"faculty-dashboard");case"student":return s.jsx(Zj,{activeTab:t},"student-dashboard");default:return s.jsx("div",{children:"Unknown role"})}};return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[!d&&s.jsx("button",{onClick:()=>l(p=>!p),className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md text-gray-600 hover:bg-gray-100 md:hidden",title:"Toggle menu",children:s.jsx(NN,{size:20})}),!d&&s.jsx(Q6,{userRole:e.user.role,activeTab:t,onTabChange:p=>{r(p),l(!1)},collapsed:!n,drawerOpen:i,onCloseDrawer:()=>l(!1)}),s.jsxs("div",{className:`flex-1 flex flex-col min-h-screen transition-all duration-300 ease-in-out 
        ${d?"":"md:ml-0"}`,children:[!d&&s.jsx(K6,{title:m(),onProfileClick:()=>c(!0),onTabChange:r,onToggleSidebar:()=>{a(p=>{const g=!p;try{localStorage.setItem("sidebarCollapsed",String(!g))}catch{}return g})}}),s.jsx("main",{className:`flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 
          ${d?"":"p-4 md:p-6"}`,children:s.jsx("div",{className:`container mx-auto ${d?"":"max-w-7xl"}`,children:f()})})]}),!d&&s.jsx(Te,{isOpen:o,onClose:()=>c(!1),title:"Profile",size:"md",children:s.jsx(Eq,{onClose:()=>c(!1)})})]})},Lq=()=>{const{isLoading:e,loadingMessage:t}=g6();return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4",children:s.jsx(fg,{size:"lg",message:t})})}):null};function Rq(){const{state:e,dispatch:t}=wn();return h.useEffect(()=>{(async()=>{const n=localStorage.getItem("token"),a=localStorage.getItem("user");if(n&&a)try{t({type:"LOGIN_START"});const i=await Q.getCurrentUser();t({type:"LOGIN_SUCCESS",payload:{user:i,token:n}}),ms.success(`Welcome back, ${(i==null?void 0:i.name)||"User"}!`)}catch(i){console.error("Token validation failed:",i),localStorage.removeItem("token"),localStorage.removeItem("user"),t({type:"LOGOUT"}),ms.error("Session expired. Please log in again.")}else t({type:"LOGOUT"})})()},[t]),e.loading?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(be,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e.error&&!e.user?(ms.error(e.error),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Authentication Error"}),s.jsx("p",{className:"text-red-600 mb-4",children:e.error}),s.jsx("button",{onClick:()=>{t({type:"CLEAR_ERROR"}),t({type:"LOGOUT"})},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try Again"})]})})})):s.jsx(x6,{children:s.jsxs("div",{className:"App min-h-screen bg-gray-50",children:[s.jsx(p6,{position:"top-right",toastOptions:{duration:4e3,style:{borderRadius:"10px",fontWeight:500},success:{style:{background:"#ecfdf5",color:"#065f46"}},error:{style:{background:"#fef2f2",color:"#991b1b"}}}}),e.user?s.jsx($q,{}):s.jsx(q6,{}),s.jsx(Lq,{})]})})}uN(document.getElementById("root")).render(s.jsx(h.StrictMode,{children:s.jsx(PE,{children:s.jsx(Rq,{})})}));
